/*!
 * uniLib - compressed JS
 * @licence uniLib - v0.1.0 (2019-02-20)
 *  qq:93749937 | Licence: helojo
 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this).pako=e()}}(function(){return function o(s,a,l){function c(n,e){if(!a[n]){if(!s[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};s[n][0].call(r.exports,function(e){var t=s[n][1][e];return c(t||e)},r,r.exports,o,s,a,l)}return a[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(o[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(o[n]);this._dict_set=!0}}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}var s=e("./zlib/deflate"),a=e("./utils/common"),l=e("./utils/strings"),o=e("./zlib/messages"),c=e("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,p=0,g=8;r.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=l.string2buf(e):"[object ArrayBuffer]"===u.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new a.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=s.deflate(r,i))&&n!==d)return this.onEnd(n),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(a.shrinkBuf(r.output,r.next_out))):this.onData(a.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==n);return 4===i?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==i||(this.onEnd(d),!(r.avail_out=0))},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,i(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,i(e,t)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=h.inflateInit2(this.strm,t.windowBits);if(n!==f.Z_OK)throw new Error(o[n]);this.header=new a,h.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}var h=e("./zlib/inflate"),p=e("./utils/common"),g=e("./utils/strings"),f=e("./zlib/constants"),o=e("./zlib/messages"),s=e("./zlib/zstream"),a=e("./zlib/gzheader"),m=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,s,a,l=this.strm,c=this.options.chunkSize,u=this.options.dictionary,d=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?f.Z_FINISH:f.Z_NO_FLUSH,"string"==typeof e?l.input=g.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new p.Buf8(c),l.next_out=0,l.avail_out=c),(n=h.inflate(l,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&u&&(a="string"==typeof u?g.string2buf(u):"[object ArrayBuffer]"===m.call(u)?new Uint8Array(u):u,n=h.inflateSetDictionary(this.strm,a)),n===f.Z_BUF_ERROR&&!0===d&&(n=f.Z_OK,d=!1),n!==f.Z_STREAM_END&&n!==f.Z_OK)return this.onEnd(n),!(this.ended=!0);l.next_out&&(0!==l.avail_out&&n!==f.Z_STREAM_END&&(0!==l.avail_in||i!==f.Z_FINISH&&i!==f.Z_SYNC_FLUSH)||("string"===this.options.to?(r=g.utf8border(l.output,l.next_out),o=l.next_out-r,s=g.buf2string(l.output,r),l.next_out=o,l.avail_out=c-o,o&&p.arraySet(l.output,l.output,r,o,0),this.onData(s)):this.onData(p.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(d=!0)}while((0<l.avail_in||0===l.avail_out)&&n!==f.Z_STREAM_END);return n===f.Z_STREAM_END&&(i=f.Z_FINISH),i===f.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f.Z_OK):i!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(l.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===f.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},n.ungzip=r},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o=e[t],s.set(o,r),r+=o.length;return s}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],4:[function(e,t,n){"use strict";function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,c.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var c=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var u=new c.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1,n.string2buf=function(e){var t,n,i,r,o,s=e.length,a=0;for(r=0;r<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<s&&(56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new c.Buf8(a),r=o=0;o<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<s&&(56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new c.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,a=new Array(2*s);for(n=i=0;n<s;)if((r=e[n++])<128)a[i++]=r;else if(4<(o=u[r]))a[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<s;)r=r<<6|63&e[n++],o--;1<o?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return l(a,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+u[e[n]]>t?n:t}},{"./common":3}],5:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--s;);r%=65521,o%=65521}return r|o<<16|0}},{}],6:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(e,t,n){"use strict";var a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var r=a,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}},{}],8:[function(e,t,n){"use strict";function l(e,t){return e.msg=T[t],t}function c(e){return(e<<1)-(4<e?9:0)}function d(e){for(var t=e.length;0<=--t;)e[t]=0}function u(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(b.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function h(e,t){P._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,u(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function o(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+H,p=c[o+s-1],g=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===g&&c[n+s-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=H-(h-o),o=h-H,s<i){if(e.match_start=t,a<=(s=i))break;p=c[o+s-1],g=c[o+s]}}}while((t=d[t&u])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function f(e){var t,n,i,r,o,s,a,l,c,u,d=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-F)){for(b.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=n=e.hash_size;i=e.head[--t],e.head[t]=d<=i?i-d:0,--n;);for(t=n=d;i=e.prev[--t],e.prev[t]=d<=i?i-d:0,--n;);r+=d}if(0===e.strm.avail_in)break;if(s=e.strm,a=e.window,l=e.strstart+e.lookahead,c=r,u=void 0,u=s.avail_in,c<u&&(u=c),n=0===u?0:(s.avail_in-=u,b.arraySet(a,s.input,s.next_in,u,l),1===s.state.wrap?s.adler=v(s.adler,a,u,l):2===s.state.wrap&&(s.adler=C(s.adler,a,u,l)),s.next_in+=u,s.total_in+=u,u),e.lookahead+=n,e.lookahead+e.insert>=M)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+M-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<M)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function i(e,t){for(var n,i;;){if(e.lookahead<F){if(f(e),e.lookahead<F&&t===E)return W;if(0===e.lookahead)break}if(n=0,e.lookahead>=M&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=o(e,n)),e.match_length>=M)if(i=P._tr_tally(e,e.strstart-e.match_start,e.match_length-M),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=M){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(h(e,!1),0===e.strm.avail_out))return W}return e.insert=e.strstart<M-1?e.strstart:M-1,t===L?(h(e,!0),0===e.strm.avail_out?j:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?W:Z}function r(e,t){for(var n,i,r;;){if(e.lookahead<F){if(f(e),e.lookahead<F&&t===E)return W;if(0===e.lookahead)break}if(n=0,e.lookahead>=M&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=M-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=o(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===M&&4096<e.strstart-e.match_start)&&(e.match_length=M-1)),e.prev_length>=M&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-M,i=P._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-M),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=M-1,e.strstart++,i&&(h(e,!1),0===e.strm.avail_out))return W}else if(e.match_available){if((i=P._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return W}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=P._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<M-1?e.strstart:M-1,t===L?(h(e,!0),0===e.strm.avail_out?j:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?W:Z}function s(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*A),this.dyn_dtree=new b.Buf16(2*(2*D+1)),this.bl_tree=new b.Buf16(2*(2*x+1)),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(B+1),this.heap=new b.Buf16(2*N+1),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*N+1),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function a(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=G,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?q:V,e.adler=2===t.wrap?0:1,t.last_flush=E,P._tr_init(t),R):l(e,U)}function _(e){var t,n=a(e);return n===R&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=S[t.level].max_lazy,t.good_match=S[t.level].good_length,t.nice_match=S[t.level].nice_length,t.max_chain_length=S[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=M-1,t.match_available=0,t.ins_h=0),n}function y(e,t,n,i,r,o){if(!e)return U;var s=1;if(t===w&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),r<1||O<r||n!==I||i<8||15<i||t<0||9<t||o<0||k<o)return l(e,U);8===i&&(i=9);var a=new m;return(e.state=a).strm=e,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+M-1)/M),a.window=new b.Buf8(2*a.w_size),a.head=new b.Buf16(a.hash_size),a.prev=new b.Buf16(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new b.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,_(e)}var S,b=e("../utils/common"),P=e("./trees"),v=e("./adler32"),C=e("./crc32"),T=e("./messages"),E=0,L=4,R=0,U=-2,w=-1,k=4,G=2,I=8,O=9,N=286,D=30,x=19,A=2*N+1,B=15,M=3,H=258,F=H+M+1,q=42,V=113,W=1,Z=2,j=3,z=4;S=[new s(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===E)return W;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,h(e,!1),0===e.strm.avail_out))return W;if(e.strstart-e.block_start>=e.w_size-F&&(h(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===L?(h(e,!0),0===e.strm.avail_out?j:z):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),W)}),new s(4,4,8,4,i),new s(4,5,16,8,i),new s(4,6,32,32,i),new s(4,4,16,16,r),new s(8,16,32,32,r),new s(8,16,128,128,r),new s(8,32,128,256,r),new s(32,128,258,1024,r),new s(32,258,258,4096,r)],n.deflateInit=function(e,t){return y(e,t,I,15,8,0)},n.deflateInit2=y,n.deflateReset=_,n.deflateResetKeep=a,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?U:(e.state.gzhead=t,R):U},n.deflate=function(e,t){var n,i,r,o;if(!e||!e.state||5<t||t<0)return e?l(e,U):U;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==L)return l(e,0===e.avail_out?-5:U);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===q)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=C(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,3),i.status=V);else{var s=I+(i.w_bits-8<<4)<<8;s|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=32),s+=31-s%31,i.status=V,g(i,s),0!==i.strstart&&(g(i,e.adler>>>16),g(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),u(e),r=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),u(e),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}p(i,o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),u(e),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}p(i,o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&u(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=V)):i.status=V),0!==i.pending){if(u(e),0===e.avail_out)return i.last_flush=-1,R}else if(0===e.avail_in&&c(t)<=c(n)&&t!==L)return l(e,-5);if(666===i.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==E&&666!==i.status){var a=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===E)return W;break}if(e.match_length=0,n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===L?(h(e,!0),0===e.strm.avail_out?j:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?W:Z}(i,t):3===i.strategy?function(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=H){if(f(e),e.lookahead<=H&&t===E)return W;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=M&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=e.strstart+H;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=H-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=M?(n=P._tr_tally(e,1,e.match_length-M),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(h(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===L?(h(e,!0),0===e.strm.avail_out?j:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?W:Z}(i,t):S[i.level].func(i,t);if(a!==j&&a!==z||(i.status=666),a===W||a===j)return 0===e.avail_out&&(i.last_flush=-1),R;if(a===Z&&(1===t?P._tr_align(i):5!==t&&(P._tr_stored_block(i,0,0,!1),3===t&&(d(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),u(e),0===e.avail_out))return i.last_flush=-1,R}return t!==L?R:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(g(i,e.adler>>>16),g(i,65535&e.adler)),u(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?R:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==q&&69!==t&&73!==t&&91!==t&&103!==t&&t!==V&&666!==t?l(e,U):(e.state=null,t===V?l(e,-3):R):U},n.deflateSetDictionary=function(e,t){var n,i,r,o,s,a,l,c,u=t.length;if(!e||!e.state)return U;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==q||n.lookahead)return U;for(1===o&&(e.adler=v(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===o&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new b.Buf8(n.w_size),b.arraySet(c,t,u-n.w_size,n.w_size,0),t=c,u=n.w_size),s=e.avail_in,a=e.next_in,l=e.input,e.avail_in=u,e.next_in=0,e.input=t,f(n);n.lookahead>=M;){for(i=n.strstart,r=n.lookahead-(M-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+M-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=M-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=M-1,n.match_available=0,e.next_in=a,e.input=l,e.avail_in=s,n.wrap=o,R},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,s,a,l,c,u,d,h,p,g,f,m,_,y,S,b,P,v,C,T,E,L;n=e.state,i=e.next_in,E=e.input,r=i+(e.avail_in-5),o=e.next_out,L=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,p=n.hold,g=n.bits,f=n.lencode,m=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{g<15&&(p+=E[i++]<<g,g+=8,p+=E[i++]<<g,g+=8),S=f[p&_];t:for(;;){if(p>>>=b=S>>>24,g-=b,0===(b=S>>>16&255))L[o++]=65535&S;else{if(!(16&b)){if(0==(64&b)){S=f[(65535&S)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}P=65535&S,(b&=15)&&(g<b&&(p+=E[i++]<<g,g+=8),P+=p&(1<<b)-1,p>>>=b,g-=b),g<15&&(p+=E[i++]<<g,g+=8,p+=E[i++]<<g,g+=8),S=m[p&y];n:for(;;){if(p>>>=b=S>>>24,g-=b,!(16&(b=S>>>16&255))){if(0==(64&b)){S=m[(65535&S)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(v=65535&S,g<(b&=15)&&(p+=E[i++]<<g,(g+=8)<b&&(p+=E[i++]<<g,g+=8)),l<(v+=p&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=b,g-=b,(b=o-s)<v){if(u<(b=v-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(T=h,(C=0)===d){if(C+=c-b,b<P){for(P-=b;L[o++]=h[C++],--b;);C=o-v,T=L}}else if(d<b){if(C+=c+d-b,(b-=d)<P){for(P-=b;L[o++]=h[C++],--b;);if(C=0,d<P){for(P-=b=d;L[o++]=h[C++],--b;);C=o-v,T=L}}}else if(C+=d-b,b<P){for(P-=b;L[o++]=h[C++],--b;);C=o-v,T=L}for(;2<P;)L[o++]=T[C++],L[o++]=T[C++],L[o++]=T[C++],P-=3;P&&(L[o++]=T[C++],1<P&&(L[o++]=T[C++]))}else{for(C=o-v;L[o++]=L[C++],L[o++]=L[C++],L[o++]=L[C++],2<(P-=3););P&&(L[o++]=L[C++],1<P&&(L[o++]=L[C++]))}break}}break}}while(i<r&&o<a);i-=P=g>>3,p&=(1<<(g-=P<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=g}},{}],11:[function(e,t,n){"use strict";function w(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function i(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(u),t.distcode=t.distdyn=new I.Buf32(d),t.sane=1,t.back=-1,M):H}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,i(e)):H}function s(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?H:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,o(e))):H}function a(e,t){var n,i;return e?(i=new r,(e.state=i).window=null,(n=s(e,t))!==M&&(e.state=null),n):H}function k(e){if(h){var t;for(l=new I.Buf32(512),c=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(x(A,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;x(B,e.lens,0,32,c,0,e.work,{bits:5}),h=!1}e.lencode=l,e.lenbits=9,e.distcode=c,e.distbits=5}function G(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new I.Buf8(o.wsize)),i>=o.wsize?(I.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(r=o.wsize-o.wnext)&&(r=i),I.arraySet(o.window,t,n-i,r,o.wnext),(i-=r)?(I.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var l,c,I=e("../utils/common"),O=e("./adler32"),N=e("./crc32"),D=e("./inffast"),x=e("./inftrees"),A=1,B=2,M=0,H=-2,F=1,u=852,d=592,h=!0;n.inflateReset=o,n.inflateReset2=s,n.inflateResetKeep=i,n.inflateInit=function(e){return a(e,15)},n.inflateInit2=a,n.inflate=function(e,t){var n,i,r,o,s,a,l,c,u,d,h,p,g,f,m,_,y,S,b,P,v,C,T,E,L=0,R=new I.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return H;12===(n=e.state).mode&&(n.mode=13),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,C=M;e:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===c){R[n.check=0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0),u=c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&c)){e.msg="unknown compression method",n.mode=30;break}if(u-=4,v=8+(15&(c>>>=4)),0===n.wbits)n.wbits=v;else if(v>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<v,e.adler=n.check=1,n.mode=512&c?10:12,u=c=0;break;case 2:for(;u<16;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(n.flags=c,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0)),u=c=0,n.mode=3;case 3:for(;u<32;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,n.check=N(n.check,R,4,0)),u=c=0,n.mode=4;case 4:for(;u<16;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0)),u=c=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0)),u=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(a<(p=n.length)&&(p=a),p&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),I.arraySet(n.head.extra,i,o,p,v)),512&n.flags&&(n.check=N(n.check,i,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break e;for(p=0;v=i[o+p++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v)),v&&p<a;);if(512&n.flags&&(n.check=N(n.check,i,p,o)),a-=p,o+=p,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break e;for(p=0;v=i[o+p++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v)),v&&p<a;);if(512&n.flags&&(n.check=N(n.check,i,p,o)),a-=p,o+=p,v)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}u=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}e.adler=n.check=w(c),u=c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6===t){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,u=c=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(p=n.length){if(a<p&&(p=a),l<p&&(p=l),0===p)break e;I.arraySet(r,i,o,p,s),a-=p,o+=p,l-=p,s+=p,n.length-=p;break}n.mode=12;break;case 17:for(;u<14;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}n.lens[U[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},C=x(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,C){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;_=(L=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&L,!((m=L>>>24)<=u);){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(y<16)c>>>=m,u-=m,n.lens[n.have++]=y;else{if(16===y){for(E=m+2;u<E;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(c>>>=m,u-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}v=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===y){for(E=m+3;u<E;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}u-=m,v=0,p=3+(7&(c>>>=m)),c>>>=3,u-=3}else{for(E=m+7;u<E;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}u-=m,v=0,p=11+(127&(c>>>=m)),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=v}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,T={bits:n.lenbits},C=x(A,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,C){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},C=x(B,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,C){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=a&&258<=l){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,D(e,h),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;_=(L=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&L,!((m=L>>>24)<=u);){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(_&&0==(240&_)){for(S=m,b=_,P=y;_=(L=n.lencode[P+((c&(1<<S+b)-1)>>S)])>>>16&255,y=65535&L,!(S+(m=L>>>24)<=u);){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=m,u-=m,n.back+=m,n.length=y,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=12;break}if(64&_){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(E=n.extra;u<E;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;_=(L=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&L,!((m=L>>>24)<=u);){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(0==(240&_)){for(S=m,b=_,P=y;_=(L=n.distcode[P+((c&(1<<S+b)-1)>>S)])>>>16&255,y=65535&L,!(S+(m=L>>>24)<=u);){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=m,u-=m,n.back+=m,64&_){e.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(E=n.extra;u<E;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(p=h-l,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}p>n.wnext?(p-=n.wnext,g=n.wsize-p):g=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=r,g=s-n.offset,p=n.length;for(l<p&&(p=l),l-=p,n.length-=p;r[s++]=f[g++],--p;);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;r[s++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===a)break e;a--,c|=i[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?N(n.check,r,h,s-h):O(n.check,r,h,s-h)),h=l,(n.flags?c:w(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}u=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===a)break e;a--,c+=i[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}u=c=0}n.mode=29;case 29:C=1;break e;case 30:C=-3;break e;case 31:return-4;case 32:default:return H}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&G(e,e.output,e.next_out,h-e.avail_out)?(n.mode=31,-4):(d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?N(n.check,r,h,e.next_out-h):O(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===h||4===t)&&C===M&&(C=-5),C)},n.inflateEnd=function(e){if(!e||!e.state)return H;var t=e.state;return t.window&&(t.window=null),e.state=null,M},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?H:((n.head=t).done=!1,M):H},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?H:11===n.mode&&O(1,t,i,0)!==n.check?-3:G(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,M):H},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(e,t,n){"use strict";var N=e("../utils/common"),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,i,r,o,s,a){var l,c,u,d,h,p,g,f,m,_=a.bits,y=0,S=0,b=0,P=0,v=0,C=0,T=0,E=0,L=0,R=0,U=null,w=0,k=new N.Buf16(16),G=new N.Buf16(16),I=null,O=0;for(y=0;y<=15;y++)k[y]=0;for(S=0;S<i;S++)k[t[n+S]]++;for(v=_,P=15;1<=P&&0===k[P];P--);if(P<v&&(v=P),0===P)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(b=1;b<P&&0===k[b];b++);for(v<b&&(v=b),y=E=1;y<=15;y++)if(E<<=1,(E-=k[y])<0)return-1;if(0<E&&(0===e||1!==P))return-1;for(G[1]=0,y=1;y<15;y++)G[y+1]=G[y]+k[y];for(S=0;S<i;S++)0!==t[n+S]&&(s[G[t[n+S]]++]=S);if(0===e?(U=I=s,p=19):1===e?(U=D,w-=257,I=x,O-=257,p=256):(U=A,I=B,p=-1),y=b,h=o,T=S=R=0,u=-1,d=(L=1<<(C=v))-1,1===e&&852<L||2===e&&592<L)return 1;for(;;){for(g=y-T,s[S]<p?(f=0,m=s[S]):s[S]>p?(f=I[O+s[S]],m=U[w+s[S]]):(f=96,m=0),l=1<<y-T,b=c=1<<C;r[h+(R>>T)+(c-=l)]=g<<24|f<<16|m|0,0!==c;);for(l=1<<y-1;R&l;)l>>=1;if(0!==l?(R&=l-1,R+=l):R=0,S++,0==--k[y]){if(y===P)break;y=t[n+s[S]]}if(v<y&&(R&d)!==u){for(0===T&&(T=v),h+=b,E=1<<(C=y-T);C+T<P&&!((E-=k[C+T])<=0);)C++,E<<=1;if(L+=1<<C,1===e&&852<L||2===e&&592<L)return 1;r[u=R&d]=v<<24|C<<16|h-o|0}}return 0!==R&&(r[h+R]=y-T<<24|64<<16|0),a.bits=v,0}},{"../utils/common":3}],13:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(e,t,n){"use strict";function i(e){for(var t=e.length;0<=--t;)e[t]=0}function s(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function l(e){return e<256?W[e]:W[256+(e>>>7)]}function c(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>I-n?(e.bi_buf|=t<<e.bi_valid&65535,c(e,e.bi_buf),e.bi_buf=t>>I-e.bi_valid,e.bi_valid+=n-I):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function d(e,t,n){u(e,n[2*t],n[2*t+1])}function h(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function p(e,t,n){var i,r,o=new Array(G+1),s=0;for(i=1;i<=G;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=h(o[a]++,a))}}function a(e){var t;for(t=0;t<R;t++)e.dyn_ltree[2*t]=0;for(t=0;t<U;t++)e.dyn_dtree[2*t]=0;for(t=0;t<w;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*N]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){8<e.bi_valid?c(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function o(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function f(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&o(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!o(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function m(e,t,n){var i,r,o,s,a=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],r=e.pending_buf[e.l_buf+a],a++,0===i?d(e,r,t):(d(e,(o=Z[r])+L+1,t),0!==(s=B[o])&&u(e,r-=j[o],s),d(e,o=l(--i),n),0!==(s=M[o])&&u(e,i-=z[o],s)),a<e.last_lit;);d(e,N,t)}function _(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=k,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)f(e,o,n);for(r=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],f(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,f(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,f=0;for(o=0;o<=G;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<k;n++)g<(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)&&(o=g,f++),l[2*i+1]=o,c<i||(e.bl_count[o]++,s=0,p<=i&&(s=h[i-p]),a=l[2*i],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(u[2*i+1]+s)));if(0!==f){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,f-=2}while(0<f);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)c<(r=e.heap[--n])||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),p(o,c,e.bl_count)}function y(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*D]++):a<=10?e.bl_tree[2*x]++:e.bl_tree[2*A]++,o=r,(a=0)===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))}function S(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<c)for(;d(e,r,e.bl_tree),0!=--a;);else 0!==r?(r!==o&&(d(e,r,e.bl_tree),a--),d(e,D,e.bl_tree),u(e,a-3,2)):a<=10?(d(e,x,e.bl_tree),u(e,a-3,3)):(d(e,A,e.bl_tree),u(e,a-11,7));o=r,(a=0)===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}}function b(e,t,n,i){var r,o,s,a;u(e,(T<<1)+(i?1:0),3),o=t,s=n,a=!0,g(r=e),a&&(c(r,s),c(r,~s)),P.arraySet(r.pending_buf,r.window,o,s,r.pending),r.pending+=s}var P=e("../utils/common"),v=0,C=1,T=0,E=29,L=256,R=L+1+E,U=30,w=19,k=2*R+1,G=15,I=16,O=7,N=256,D=16,x=17,A=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(R+2));i(q);var V=new Array(2*U);i(V);var W=new Array(512);i(W);var Z=new Array(256);i(Z);var j=new Array(E);i(j);var z=new Array(U);i(z);var X,J,Y,K=!1;n._tr_init=function(e){K||(function(){var e,t,n,i,r,o=new Array(G+1);for(i=n=0;i<E-1;i++)for(j[i]=n,e=0;e<1<<B[i];e++)Z[n++]=i;for(Z[n-1]=i,i=r=0;i<16;i++)for(z[i]=r,e=0;e<1<<M[i];e++)W[r++]=i;for(r>>=7;i<U;i++)for(z[i]=r<<7,e=0;e<1<<M[i]-7;e++)W[256+r++]=i;for(t=0;t<=G;t++)o[t]=0;for(e=0;e<=143;)q[2*e+1]=8,e++,o[8]++;for(;e<=255;)q[2*e+1]=9,e++,o[9]++;for(;e<=279;)q[2*e+1]=7,e++,o[7]++;for(;e<=287;)q[2*e+1]=8,e++,o[8]++;for(p(q,R+1,o),e=0;e<U;e++)V[2*e+1]=5,V[2*e]=h(e,5);X=new s(q,B,L+1,R,G),J=new s(V,M,0,U,G),Y=new s(new Array(0),H,0,w,O)}(),K=!0),e.l_desc=new r(e.dyn_ltree,X),e.d_desc=new r(e.dyn_dtree,J),e.bl_desc=new r(e.bl_tree,Y),e.bi_buf=0,e.bi_valid=0,a(e)},n._tr_stored_block=b,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return v;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return C;for(t=32;t<L;t++)if(0!==e.dyn_ltree[2*t])return C;return v}(e)),_(e,e.l_desc),_(e,e.d_desc),s=function(e){var t;for(y(e,e.dyn_ltree,e.l_desc.max_code),y(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=w-1;3<=t&&0===e.bl_tree[2*F[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?b(e,t,n,i):4===e.strategy||o===r?(u(e,2+(i?1:0),3),m(e,q,V)):(u(e,4+(i?1:0),3),function(e,t,n,i){var r;for(u(e,t-257,5),u(e,n-1,5),u(e,i-4,4),r=0;r<i;r++)u(e,e.bl_tree[2*F[r]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),m(e,e.dyn_ltree,e.dyn_dtree)),a(e),i&&g(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Z[n]+L+1)]++,e.dyn_dtree[2*l(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;u(e,2,3),d(e,N,q),16===(t=e).bi_valid?(c(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":3}],15:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});var md5=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),n)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var n=this.rstr2binl(e);16<n.length&&(n=this.binl_md5(n,8*e.length));for(var i=Array(16),r=Array(16),o=0;o<16;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var s=this.binl_md5(i.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(r.concat(s),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(e){this.hexcase=0}for(var t,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",r=0;r<e.length;r++)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(e){this.b64pad=""}for(var t="",n=e.length,i=0;i<n;i+=3)for(var r=e.charCodeAt(i)<<16|(i+1<n?e.charCodeAt(i+1)<<8:0)|(i+2<n?e.charCodeAt(i+2):0),o=0;o<4;o++)8*i+6*o>8*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-o)&63);return t},e.prototype.rstr2any=function(e,t){var n,i,r,o,s,a=t.length,l=Array(Math.ceil(e.length/2));for(n=0;n<l.length;n++)l[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);var c=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),u=Array(c);for(i=0;i<c;i++){for(s=Array(),n=o=0;n<l.length;n++)o=(o<<16)+l[n],o-=(r=Math.floor(o/a))*a,(0<s.length||0<r)&&(s[s.length]=r);u[i]=o,l=s}var d="";for(n=u.length-1;0<=n;n--)d+=t.charAt(u[n]);return d},e.prototype.str2rstr_utf8=function(e){for(var t,n,i="",r=-1;++r<e.length;)t=e.charCodeAt(r),n=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),r++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i},e.prototype.str2rstr_utf16le=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n),e.charCodeAt(n)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)>>>8&255,255&e.charCodeAt(n));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},e.prototype.binl2rstr=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,l=i,c=r,u=o;n=this.md5_ff(n,i,r,o,e[s+0],7,-680876936),o=this.md5_ff(o,n,i,r,e[s+1],12,-389564586),r=this.md5_ff(r,o,n,i,e[s+2],17,606105819),i=this.md5_ff(i,r,o,n,e[s+3],22,-1044525330),n=this.md5_ff(n,i,r,o,e[s+4],7,-176418897),o=this.md5_ff(o,n,i,r,e[s+5],12,1200080426),r=this.md5_ff(r,o,n,i,e[s+6],17,-1473231341),i=this.md5_ff(i,r,o,n,e[s+7],22,-45705983),n=this.md5_ff(n,i,r,o,e[s+8],7,1770035416),o=this.md5_ff(o,n,i,r,e[s+9],12,-1958414417),r=this.md5_ff(r,o,n,i,e[s+10],17,-42063),i=this.md5_ff(i,r,o,n,e[s+11],22,-1990404162),n=this.md5_ff(n,i,r,o,e[s+12],7,1804603682),o=this.md5_ff(o,n,i,r,e[s+13],12,-40341101),r=this.md5_ff(r,o,n,i,e[s+14],17,-1502002290),i=this.md5_ff(i,r,o,n,e[s+15],22,1236535329),n=this.md5_gg(n,i,r,o,e[s+1],5,-165796510),o=this.md5_gg(o,n,i,r,e[s+6],9,-1069501632),r=this.md5_gg(r,o,n,i,e[s+11],14,643717713),i=this.md5_gg(i,r,o,n,e[s+0],20,-373897302),n=this.md5_gg(n,i,r,o,e[s+5],5,-701558691),o=this.md5_gg(o,n,i,r,e[s+10],9,38016083),r=this.md5_gg(r,o,n,i,e[s+15],14,-660478335),i=this.md5_gg(i,r,o,n,e[s+4],20,-405537848),n=this.md5_gg(n,i,r,o,e[s+9],5,568446438),o=this.md5_gg(o,n,i,r,e[s+14],9,-1019803690),r=this.md5_gg(r,o,n,i,e[s+3],14,-187363961),i=this.md5_gg(i,r,o,n,e[s+8],20,1163531501),n=this.md5_gg(n,i,r,o,e[s+13],5,-1444681467),o=this.md5_gg(o,n,i,r,e[s+2],9,-51403784),r=this.md5_gg(r,o,n,i,e[s+7],14,1735328473),i=this.md5_gg(i,r,o,n,e[s+12],20,-1926607734),n=this.md5_hh(n,i,r,o,e[s+5],4,-378558),o=this.md5_hh(o,n,i,r,e[s+8],11,-2022574463),r=this.md5_hh(r,o,n,i,e[s+11],16,1839030562),i=this.md5_hh(i,r,o,n,e[s+14],23,-35309556),n=this.md5_hh(n,i,r,o,e[s+1],4,-1530992060),o=this.md5_hh(o,n,i,r,e[s+4],11,1272893353),r=this.md5_hh(r,o,n,i,e[s+7],16,-155497632),i=this.md5_hh(i,r,o,n,e[s+10],23,-1094730640),n=this.md5_hh(n,i,r,o,e[s+13],4,681279174),o=this.md5_hh(o,n,i,r,e[s+0],11,-358537222),r=this.md5_hh(r,o,n,i,e[s+3],16,-722521979),i=this.md5_hh(i,r,o,n,e[s+6],23,76029189),n=this.md5_hh(n,i,r,o,e[s+9],4,-640364487),o=this.md5_hh(o,n,i,r,e[s+12],11,-421815835),r=this.md5_hh(r,o,n,i,e[s+15],16,530742520),i=this.md5_hh(i,r,o,n,e[s+2],23,-995338651),n=this.md5_ii(n,i,r,o,e[s+0],6,-198630844),o=this.md5_ii(o,n,i,r,e[s+7],10,1126891415),r=this.md5_ii(r,o,n,i,e[s+14],15,-1416354905),i=this.md5_ii(i,r,o,n,e[s+5],21,-57434055),n=this.md5_ii(n,i,r,o,e[s+12],6,1700485571),o=this.md5_ii(o,n,i,r,e[s+3],10,-1894986606),r=this.md5_ii(r,o,n,i,e[s+10],15,-1051523),i=this.md5_ii(i,r,o,n,e[s+1],21,-2054922799),n=this.md5_ii(n,i,r,o,e[s+8],6,1873313359),o=this.md5_ii(o,n,i,r,e[s+15],10,-30611744),r=this.md5_ii(r,o,n,i,e[s+6],15,-1560198380),i=this.md5_ii(i,r,o,n,e[s+13],21,1309151649),n=this.md5_ii(n,i,r,o,e[s+4],6,-145523070),o=this.md5_ii(o,n,i,r,e[s+11],10,-1120210379),r=this.md5_ii(r,o,n,i,e[s+2],15,718787259),i=this.md5_ii(i,r,o,n,e[s+9],21,-343485551),n=this.safe_add(n,a),i=this.safe_add(i,l),r=this.safe_add(r,c),o=this.safe_add(o,u)}return[n,i,r,o]},e.prototype.md5_cmn=function(e,t,n,i,r,o){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(i,o)),r),n)},e.prototype.md5_ff=function(e,t,n,i,r,o,s){return this.md5_cmn(t&n|~t&i,e,t,r,o,s)},e.prototype.md5_gg=function(e,t,n,i,r,o,s){return this.md5_cmn(t&i|n&~i,e,t,r,o,s)},e.prototype.md5_hh=function(e,t,n,i,r,o,s){return this.md5_cmn(t^n^i,e,t,r,o,s)},e.prototype.md5_ii=function(e,t,n,i,r,o,s){return this.md5_cmn(n^(t|~i),e,t,r,o,s)},e.prototype.safe_add=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}(),Pmd,Pmd,Pmd,Pmd,Pmd,Pmd,Pmd,uniLib,global;!function(e){var t;(t=e.ChatType||(e.ChatType={}))[t.ChatType_Map=2]="ChatType_Map";e.ChatType;var n=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Chat"},e}();e.Chat=n,function(e){var t;(t=e.Param||(e.Param={}))[t.CommonChatUserPmd_CS=1]="CommonChatUserPmd_CS",t[t.GMCommandChatUserPmd_C=2]="GMCommandChatUserPmd_C",t[t.GMCommandListChatUserPmd_S=4]="GMCommandListChatUserPmd_S",t[t.PrivateChatUserPmd_CS=5]="PrivateChatUserPmd_CS",t[t.CurrentGmLevelChatUserPmd_S=6]="CurrentGmLevelChatUserPmd_S",t[t.stAddHideButtonBookChatUserPmd_S=7]="stAddHideButtonBookChatUserPmd_S",t[t.stAddHideButtonChatUserPmd_S=8]="stAddHideButtonChatUserPmd_S",t[t.stAddHideButtonNewFunctionChatUserPmd_S=9]="stAddHideButtonNewFunctionChatUserPmd_S",t[t.stAddHideButtonServerHotKeyChatUserPmd_S=10]="stAddHideButtonServerHotKeyChatUserPmd_S",t[t.stCommonChatUserPmd_CS=11]="stCommonChatUserPmd_CS",t[t.stMessageBoxChatUserPmd_S=12]="stMessageBoxChatUserPmd_S";e.Param}(n=e.Chat||(e.Chat={}));var i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CommonChatUserPmd_CS"},e}();e.CommonChatUserPmd_CS=i,function(e){var t;(t=e.ChatType||(e.ChatType={}))[t.ChatType_None=0]="ChatType_None",t[t.ChatType_Lobby=1]="ChatType_Lobby",t[t.ChatType_Room=2]="ChatType_Room",t[t.ChatType_Robot=4]="ChatType_Robot";e.ChatType}(i=e.CommonChatUserPmd_CS||(e.CommonChatUserPmd_CS={})),function(e){var t;(t=e.ChatPos||(e.ChatPos={}))[t.ChatPos_None=0]="ChatPos_None",t[t.ChatPos_Normal=1]="ChatPos_Normal",t[t.ChatPos_Sys=2]="ChatPos_Sys",t[t.ChatPos_Tips=4]="ChatPos_Tips",t[t.ChatPos_Pop=8]="ChatPos_Pop",t[t.ChatPos_Private=16]="ChatPos_Private",t[t.ChatPos_Important=32]="ChatPos_Important",t[t.ChatPos_Honor=64]="ChatPos_Honor",t[t.ChatPos_Gm=128]="ChatPos_Gm",t[t.ChatPos_GmVip=144]="ChatPos_GmVip",t[t.ChatPos_ImportantDown=160]="ChatPos_ImportantDown";e.ChatPos}(i=e.CommonChatUserPmd_CS||(e.CommonChatUserPmd_CS={}));var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GMCommandChatUserPmd_C"},e}();e.GMCommandChatUserPmd_C=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GMHelpInfo"},e}();e.GMHelpInfo=o;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GMCommandListChatUserPmd_S"},e}();e.GMCommandListChatUserPmd_S=s;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PrivateChatUserPmd_CS"},e}();e.PrivateChatUserPmd_CS=a;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CurrentGmLevelChatUserPmd_S"},e}();e.CurrentGmLevelChatUserPmd_S=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonBookChatUserPmd_S"},e}();e.stAddHideButtonBookChatUserPmd_S=c;var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonChatUserPmd_S"},e}();e.stAddHideButtonChatUserPmd_S=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonNewFunctionChatUserPmd_S"},e}();e.stAddHideButtonNewFunctionChatUserPmd_S=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonServerHotKeyChatUserPmd_S"},e}();e.stAddHideButtonServerHotKeyChatUserPmd_S=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stCommonChatUserPmd_CS"},e}();e.stCommonChatUserPmd_CS=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stMessageBoxChatUserPmd_S"},e}();e.stMessageBoxChatUserPmd_S=g}(Pmd||(Pmd={})),function(e){var t=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Forward"},e}();e.Forward=t,function(e){var t;(t=e.Param||(e.Param={}))[t.UserJsMessageForwardUserPmd_CS=1]="UserJsMessageForwardUserPmd_CS",t[t.BroadcastJsMessageForwardUserPmd_CS=2]="BroadcastJsMessageForwardUserPmd_CS",t[t.WebSocketForwardUserPmd_C=4]="WebSocketForwardUserPmd_C",t[t.WebSocketForwardUserPmd_S=5]="WebSocketForwardUserPmd_S",t[t.BehaviorMessageForwardUserPmd_CS=6]="BehaviorMessageForwardUserPmd_CS",t[t.PushMessageForwardUserPmd_S=7]="PushMessageForwardUserPmd_S";e.Param}(t=e.Forward||(e.Forward={}));var n=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserJsMessageForwardUserPmd_CS"},e}();e.UserJsMessageForwardUserPmd_CS=n;var i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BroadcastJsMessageForwardUserPmd_CS"},e}();e.BroadcastJsMessageForwardUserPmd_CS=i;var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.WebSocketForwardUserPmd_C"},e}();e.WebSocketForwardUserPmd_C=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.WebSocketForwardUserPmd_S"},e}();e.WebSocketForwardUserPmd_S=o;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BehaviorMessageForwardUserPmd_CS"},e}();e.BehaviorMessageForwardUserPmd_CS=s,function(e){var t;(t=e.Type||(e.Type={}))[t.NormalText=1]="NormalText",t[t.UploadTree=2]="UploadTree";e.Type}(s=e.BehaviorMessageForwardUserPmd_CS||(e.BehaviorMessageForwardUserPmd_CS={}));var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushMessageForwardUserPmd_S"},e}();e.PushMessageForwardUserPmd_S=a}(Pmd||(Pmd={})),function(e){var t;(t=e.VerifyReturnReason||(e.VerifyReturnReason={}))[t.LoginOk=0]="LoginOk",t[t.TokenFindError=1]="TokenFindError",t[t.TokenDiffError=2]="TokenDiffError",t[t.VersionError=3]="VersionError";var n;e.VerifyReturnReason;(n=e.ZoneState||(e.ZoneState={}))[n.Shutdown=0]="Shutdown",n[n.Normal=1]="Normal",n[n.Fullly=2]="Fullly",n[n.Starting=3]="Starting";var i;e.ZoneState;(i=e.ZoneInfoBitMask||(e.ZoneInfoBitMask={}))[i.ZoneInfoBitMask_None=0]="ZoneInfoBitMask_None",i[i.ZoneInfoBitMask_Normal=1]="ZoneInfoBitMask_Normal",i[i.ZoneInfoBitMask_SandBox=2]="ZoneInfoBitMask_SandBox",i[i.ZoneInfoBitMask_NoOpen=4]="ZoneInfoBitMask_NoOpen";var r;e.ZoneInfoBitMask;(r=e.LoginReturnFailReason||(e.LoginReturnFailReason={}))[r.Password=1]="Password",r[r.ServerShutdown=2]="ServerShutdown",r[r.VersionTooLow=3]="VersionTooLow",r[r.UserTokenFind=4]="UserTokenFind",r[r.UserTokenTempId=5]="UserTokenTempId",r[r.UserTokenTimeOut=6]="UserTokenTimeOut",r[r.LoginDulicate=7]="LoginDulicate",r[r.NoGatewaytDown=8]="NoGatewaytDown",r[r.AccountUsing=9]="AccountUsing",r[r.GatewayUserMax=10]="GatewayUserMax",r[r.WaiGuaPunish=11]="WaiGuaPunish",r[r.ServerStartTime=12]="ServerStartTime";var o;e.LoginReturnFailReason;(o=e.PlatType||(e.PlatType={}))[o.PlatType_Normal=0]="PlatType_Normal",o[o.PlatType_UC=4]="PlatType_UC",o[o.PlatType_LeZhuan=67]="PlatType_LeZhuan",o[o.PlatType_WeChat=68]="PlatType_WeChat",o[o.PlatType_Play68=69]="PlatType_Play68",o[o.PlatType_AiBei=70]="PlatType_AiBei",o[o.PlatType_Facebook=71]="PlatType_Facebook",o[o.PlatType_GooglePlay=72]="PlatType_GooglePlay",o[o.PlatType_XingZhiZhu=73]="PlatType_XingZhiZhu",o[o.PlatType_HuoWu=74]="PlatType_HuoWu",o[o.PlatType_CaiGuo=77]="PlatType_CaiGuo",o[o.PlatType_1758=79]="PlatType_1758",o[o.PlatType_DAPAI=80]="PlatType_DAPAI",o[o.PlatType_HILE=82]="PlatType_HILE",o[o.PlatType_AAY=86]="PlatType_AAY",o[o.PlatType_WEIYOU=90]="PlatType_WEIYOU",o[o.PlatType_9g=99]="PlatType_9g",o[o.PlatType_MOBILE=129]="PlatType_MOBILE",o[o.PlatType_XueChi=133]="PlatType_XueChi",o[o.PlatType_Egret=134]="PlatType_Egret",o[o.PlatType_AoXin=140]="PlatType_AoXin",o[o.PlatType_HUOSU=145]="PlatType_HUOSU",o[o.PlatType_RONGQIANG=151]="PlatType_RONGQIANG",o[o.PlatType_WXApp=152]="PlatType_WXApp",o[o.PlatType_RongQiangApp=153]="PlatType_RongQiangApp";var s;e.PlatType;(s=e.OnlineState||(e.OnlineState={}))[s.OnlineState_Offline=0]="OnlineState_Offline",s[s.OnlineState_Online=1]="OnlineState_Online",s[s.OnlineState_Slow=2]="OnlineState_Slow",s[s.OnlineState_Leave=3]="OnlineState_Leave",s[s.OnlineState_Calling=4]="OnlineState_Calling";e.OnlineState;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Login"},e}();e.Login=a,function(e){var t;(t=e.Param||(e.Param={}))[t.AccountTokenVerifyLoginUserPmd_CS=1]="AccountTokenVerifyLoginUserPmd_CS",t[t.AccountTokenVerifyReturnLoginUserPmd_S=2]="AccountTokenVerifyReturnLoginUserPmd_S",t[t.ZoneInfoListLoginUserPmd_S=3]="ZoneInfoListLoginUserPmd_S",t[t.UserLoginRequestLoginUserPmd_C=4]="UserLoginRequestLoginUserPmd_C",t[t.UserLoginReturnFailLoginUserPmd_S=5]="UserLoginReturnFailLoginUserPmd_S",t[t.UserLoginReturnOkLoginUserPmd_S=6]="UserLoginReturnOkLoginUserPmd_S",t[t.UserLoginTokenLoginUserPmd_C=7]="UserLoginTokenLoginUserPmd_C",t[t.ClientLogUrlLoginUserPmd_S=8]="ClientLogUrlLoginUserPmd_S",t[t.MessageBoxLoginUserPmd_S=9]="MessageBoxLoginUserPmd_S",t[t.RequestAccountRegisterLoginUserPmd_C=10]="RequestAccountRegisterLoginUserPmd_C",t[t.ReturnAccountRegisterLoginUserPmd_S=11]="ReturnAccountRegisterLoginUserPmd_S",t[t.UserLogoutTokenLoginUserPmd_C=12]="UserLogoutTokenLoginUserPmd_C",t[t.UserLoginReconnectLoginUserPmd_C=13]="UserLoginReconnectLoginUserPmd_C",t[t.ReconnectKickoutLoginUserPmd_S=14]="ReconnectKickoutLoginUserPmd_S",t[t.ServerKickoutLoginUserPmd_S=15]="ServerKickoutLoginUserPmd_S",t[t.RequestZoneInfoListLoginUserPmd_C=16]="RequestZoneInfoListLoginUserPmd_C",t[t.SetServerLangLoginUserPmd_C=17]="SetServerLangLoginUserPmd_C",t[t.RequestClientIPLoginUserPmd_C=18]="RequestClientIPLoginUserPmd_C",t[t.ReturnClientIPLoginUserPmd_S=19]="ReturnClientIPLoginUserPmd_S",t[t.ReconnectErrorLoginUserPmd_S=20]="ReconnectErrorLoginUserPmd_S",t[t.CheckVersionLoginUserPmd_C=21]="CheckVersionLoginUserPmd_C",t[t.PushAccountVerifyLoginUserPmd_C=22]="PushAccountVerifyLoginUserPmd_C",t[t.BehaviorClientVerifyLoginUserPmd_C=23]="BehaviorClientVerifyLoginUserPmd_C",t[t.RequestUserZoneInfoLoginUserPmd_C=24]="RequestUserZoneInfoLoginUserPmd_C",t[t.RequestUserZoneInfoLoginUserPmd_S=25]="RequestUserZoneInfoLoginUserPmd_S",t[t.MobileRegistRequestRandCodeLoginUserPmd_C=26]="MobileRegistRequestRandCodeLoginUserPmd_C",t[t.MobileRegistReturnRandCodeLoginUserPmd_S=27]="MobileRegistReturnRandCodeLoginUserPmd_S",t[t.MobileRegistRequestCreateAccountLoginUserPmd_C=28]="MobileRegistRequestCreateAccountLoginUserPmd_C",t[t.MobileRegistReturnCreateAccountFailLoginUserPmd_S=29]="MobileRegistReturnCreateAccountFailLoginUserPmd_S",t[t.RequestSupoortGameListLoginUserPmd_C=30]="RequestSupoortGameListLoginUserPmd_C",t[t.ReturnSupoortGameListLoginUserPmd_S=31]="ReturnSupoortGameListLoginUserPmd_S",t[t.UserRequestPlatTokenByPasswordLoginUserPmd_C=32]="UserRequestPlatTokenByPasswordLoginUserPmd_C",t[t.UserRequestPlatTokenByThirdLoginUserPmd_C=33]="UserRequestPlatTokenByThirdLoginUserPmd_C",t[t.UserRequestPlatTokenLoginOkLoginUserPmd_S=34]="UserRequestPlatTokenLoginOkLoginUserPmd_S",t[t.UserRequestPlatTokenLoginFailLoginUserPmd_S=35]="UserRequestPlatTokenLoginFailLoginUserPmd_S",t[t.EmailRegistRequestCreateAccountLoginUserPmd_C=36]="EmailRegistRequestCreateAccountLoginUserPmd_C",t[t.EmailRegistReturnCreateAccountLoginUserPmd_S=37]="EmailRegistReturnCreateAccountLoginUserPmd_S",t[t.UserLoginReconnectOkLoginUserPmd_S=38]="UserLoginReconnectOkLoginUserPmd_S",t[t.GameServerShutDownLoginUserPmd_S=39]="GameServerShutDownLoginUserPmd_S",t[t.OnlineNumWaitingLoginUserPmd_S=40]="OnlineNumWaitingLoginUserPmd_S",t[t.OnlineStateLoginUserPmd_CS=41]="OnlineStateLoginUserPmd_CS",t[t.ServerDebugLevelLoginUserPmd_S=42]="ServerDebugLevelLoginUserPmd_S",t[t.ServerShutDownLoginUserPmd_S=43]="ServerShutDownLoginUserPmd_S",t[t.RequestZoneStateLoginUserPmd_CS=44]="RequestZoneStateLoginUserPmd_CS",t[t.ClientConfigUpdateLoginUserPmd_S=45]="ClientConfigUpdateLoginUserPmd_S",t[t.EmailRegistRequestRandCodeLoginUserPmd_C=46]="EmailRegistRequestRandCodeLoginUserPmd_C",t[t.EmailRegistRequestRandCodeLoginUserPmd_S=47]="EmailRegistRequestRandCodeLoginUserPmd_S";e.Param}(a=e.Login||(e.Login={}));var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AccountTokenVerifyLoginUserPmd_CS"},e}();e.AccountTokenVerifyLoginUserPmd_CS=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushAccountVerifyLoginUserPmd_C"},e}();e.PushAccountVerifyLoginUserPmd_C=c;var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AccountTokenVerifyReturnLoginUserPmd_S"},e}();e.AccountTokenVerifyReturnLoginUserPmd_S=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ZoneInfo"},e}();e.ZoneInfo=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ZoneInfoListLoginUserPmd_S"},e}();e.ZoneInfoListLoginUserPmd_S=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestZoneInfoListLoginUserPmd_C"},e}();e.RequestZoneInfoListLoginUserPmd_C=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUserZoneInfoLoginUserPmd_C"},e}();e.RequestUserZoneInfoLoginUserPmd_C=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserZoneInfo"},e}();e.UserZoneInfo=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUserZoneInfoLoginUserPmd_S"},e}();e.RequestUserZoneInfoLoginUserPmd_S=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistRequestRandCodeLoginUserPmd_C"},e}();e.MobileRegistRequestRandCodeLoginUserPmd_C=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistReturnRandCodeLoginUserPmd_S"},e}();e.MobileRegistReturnRandCodeLoginUserPmd_S=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistRequestCreateAccountLoginUserPmd_C"},e}();e.MobileRegistRequestCreateAccountLoginUserPmd_C=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistReturnCreateAccountFailLoginUserPmd_S"},e}();e.MobileRegistReturnCreateAccountFailLoginUserPmd_S=b;var P=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistRequestRandCodeLoginUserPmd_C"},e}();e.EmailRegistRequestRandCodeLoginUserPmd_C=P;var v=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistRequestRandCodeLoginUserPmd_S"},e}();e.EmailRegistRequestRandCodeLoginUserPmd_S=v;var C=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C"},e}();e.EmailRegistRequestCreateAccountLoginUserPmd_C=C;var T=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistReturnCreateAccountLoginUserPmd_S"},e}();e.EmailRegistReturnCreateAccountLoginUserPmd_S=T;var E=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C"},e}();e.UserRequestPlatTokenByPasswordLoginUserPmd_C=E;var L=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenByThirdLoginUserPmd_C"},e}();e.UserRequestPlatTokenByThirdLoginUserPmd_C=L;var R=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenLoginOkLoginUserPmd_S"},e}();e.UserRequestPlatTokenLoginOkLoginUserPmd_S=R;var U=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenLoginFailLoginUserPmd_S"},e}();e.UserRequestPlatTokenLoginFailLoginUserPmd_S=U;var w=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginRequestLoginUserPmd_C"},e}();e.UserLoginRequestLoginUserPmd_C=w;var k=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReturnFailLoginUserPmd_S"},e}();e.UserLoginReturnFailLoginUserPmd_S=k;var G=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReturnOkLoginUserPmd_S"},e}();e.UserLoginReturnOkLoginUserPmd_S=G;var I=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginTokenLoginUserPmd_C"},e}();e.UserLoginTokenLoginUserPmd_C=I;var O=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReconnectLoginUserPmd_C"},e}();e.UserLoginReconnectLoginUserPmd_C=O;var N=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ClientLogUrlLoginUserPmd_S"},e}();e.ClientLogUrlLoginUserPmd_S=N;var D=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MessageBoxLoginUserPmd_S"},e}();e.MessageBoxLoginUserPmd_S=D;var x=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestAccountRegisterLoginUserPmd_C"},e}();e.RequestAccountRegisterLoginUserPmd_C=x;var A=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnAccountRegisterLoginUserPmd_S"},e}();e.ReturnAccountRegisterLoginUserPmd_S=A;var B=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLogoutTokenLoginUserPmd_C"},e}();e.UserLogoutTokenLoginUserPmd_C=B;var M=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReconnectKickoutLoginUserPmd_S"},e}();e.ReconnectKickoutLoginUserPmd_S=M;var H=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReconnectErrorLoginUserPmd_S"},e}();e.ReconnectErrorLoginUserPmd_S=H;var F=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerKickoutLoginUserPmd_S"},e}();e.ServerKickoutLoginUserPmd_S=F;var q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatInfo"},e}();e.PlatInfo=q;var V=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ThirdPlatLoginUserPmd_C"},e}();e.ThirdPlatLoginUserPmd_C=V;var W=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SetServerLangLoginUserPmd_C"},e}();e.SetServerLangLoginUserPmd_C=W;var Z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestClientIPLoginUserPmd_C"},e}();e.RequestClientIPLoginUserPmd_C=Z;var j=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnClientIPLoginUserPmd_S"},e}();e.ReturnClientIPLoginUserPmd_S=j;var z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CheckVersionLoginUserPmd_C"},e}();e.CheckVersionLoginUserPmd_C=z;var X=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BehaviorClientVerifyLoginUserPmd_C"},e}();e.BehaviorClientVerifyLoginUserPmd_C=X;var J=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestSupoortGameListLoginUserPmd_C"},e}();e.RequestSupoortGameListLoginUserPmd_C=J;var Y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnSupoortGameListLoginUserPmd_S_Game"},e}();e.ReturnSupoortGameListLoginUserPmd_S_Game=Y;var K=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnSupoortGameListLoginUserPmd_S"},e}();e.ReturnSupoortGameListLoginUserPmd_S=K;var Q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReconnectOkLoginUserPmd_S"},e}();e.UserLoginReconnectOkLoginUserPmd_S=Q;var $=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GameServerShutDownLoginUserPmd_S"},e}();e.GameServerShutDownLoginUserPmd_S=$;var ee=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.OnlineNumWaitingLoginUserPmd_S"},e}();e.OnlineNumWaitingLoginUserPmd_S=ee;var te=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.OnlineStateLoginUserPmd_CS"},e}();e.OnlineStateLoginUserPmd_CS=te;var ne=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerDebugLevelLoginUserPmd_S"},e}();e.ServerDebugLevelLoginUserPmd_S=ne;var ie=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerShutDownLoginUserPmd_S"},e}();e.ServerShutDownLoginUserPmd_S=ie;var re=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestZoneStateLoginUserPmd_CS"},e}();e.RequestZoneStateLoginUserPmd_CS=re;var oe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ClientConfigUpdateLoginUserPmd_S"},e}();e.ClientConfigUpdateLoginUserPmd_S=oe}(Pmd||(Pmd={})),function(e){var t;(t=e.FrameHeader||(e.FrameHeader={}))[t.Bitmask_None=0]="Bitmask_None",t[t.Bitmask_Compress=1]="Bitmask_Compress",t[t.Bitmask_Encrypt=2]="Bitmask_Encrypt",t[t.Bitmask_Header=4]="Bitmask_Header",t[t.Bitmask_NoHeadLen=8]="Bitmask_NoHeadLen",t[t.Bitmask_Reconnect=16]="Bitmask_Reconnect";e.FrameHeader;var n=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Null"},e}();e.Null=n,function(e){var t;(t=e.Param||(e.Param={}))[t.ForwardNullUserPmd_CS=0]="ForwardNullUserPmd_CS",t[t.TickRequestNullUserPmd_CS=1]="TickRequestNullUserPmd_CS",t[t.TickReturnNullUserPmd_CS=2]="TickReturnNullUserPmd_CS",t[t.RequestCloseNullUserPmd_CS=3]="RequestCloseNullUserPmd_CS",t[t.FrameHeaderNullUserPmd_CS=4]="FrameHeaderNullUserPmd_CS",t[t.CheckVersionUserPmd_CS=5]="CheckVersionUserPmd_CS",t[t.ForwardBwNullUserPmd_CS=6]="ForwardBwNullUserPmd_CS",t[t.SetTickTimeoutNullUserPmd_CS=7]="SetTickTimeoutNullUserPmd_CS",t[t.SetPingTimeNullUserPmd_CS=8]="SetPingTimeNullUserPmd_CS",t[t.ForwardToZoneNullUserPmd_CS=9]="ForwardToZoneNullUserPmd_CS",t[t.MaxDefualtNullUserPmd=15]="MaxDefualtNullUserPmd",t[t.StartFrameSyncNullUserPmd_CS=16]="StartFrameSyncNullUserPmd_CS",t[t.BroadListFrameSyncNullUserPmd_S=17]="BroadListFrameSyncNullUserPmd_S",t[t.RequestUpFrameSyncNullUserPmd_C=18]="RequestUpFrameSyncNullUserPmd_C",t[t.HistoryListFrameSyncNullUserPmd_S=19]="HistoryListFrameSyncNullUserPmd_S",t[t.StopFrameSyncNullUserPmd_SC=20]="StopFrameSyncNullUserPmd_SC",t[t.ForwardNullUserListPmd_CS=21]="ForwardNullUserListPmd_CS",t[t.JsonCompressNullUserPmd_CS=101]="JsonCompressNullUserPmd_CS";e.Param}(n=e.Null||(e.Null={}));var i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardNullUserPmd_CS"},e}();e.ForwardNullUserPmd_CS=i;var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardNullUserListPmd_CS"},e}();e.ForwardNullUserListPmd_CS=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.TickRequestNullUserPmd_CS"},e}();e.TickRequestNullUserPmd_CS=o;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.TickReturnNullUserPmd_CS"},e}();e.TickReturnNullUserPmd_CS=s;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SetPingTimeNullUserPmd_CS"},e}();e.SetPingTimeNullUserPmd_CS=a;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SetTickTimeoutNullUserPmd_CS"},e}();e.SetTickTimeoutNullUserPmd_CS=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestCloseNullUserPmd_CS"},e}();e.RequestCloseNullUserPmd_CS=c;var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.FrameHeaderNullUserPmd_CS"},e}();e.FrameHeaderNullUserPmd_CS=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CheckVersionUserPmd_CS"},e}();e.CheckVersionUserPmd_CS=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardBwNullUserPmd_CS"},e}();e.ForwardBwNullUserPmd_CS=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardToZoneNullUserPmd_CS"},e}();e.ForwardToZoneNullUserPmd_CS=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserInitData"},e}();e.UserInitData=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.FrameSyncData"},e}();e.FrameSyncData=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MaxDefualtNullUserPmd"},e}();e.MaxDefualtNullUserPmd=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StartFrameSyncNullUserPmd_CS"},e}();e.StartFrameSyncNullUserPmd_CS=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BroadListFrameSyncNullUserPmd_S"},e}();e.BroadListFrameSyncNullUserPmd_S=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUpFrameSyncNullUserPmd_C"},e}();e.RequestUpFrameSyncNullUserPmd_C=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HistoryFrameSyncData"},e}();e.HistoryFrameSyncData=b;var P=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HistoryListFrameSyncNullUserPmd_S"},e}();e.HistoryListFrameSyncNullUserPmd_S=P;var v=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StopFrameSyncNullUserPmd_SC"},e}();e.StopFrameSyncNullUserPmd_SC=v;var C=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.JsonCompressKey"},e}();e.JsonCompressKey=C;var T=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.JsonCompressNullUserPmd_CS"},e}();e.JsonCompressNullUserPmd_CS=T}(Pmd||(Pmd={})),function(e){var t;(t=e.PlatCommand||(e.PlatCommand={}))[t.PlatCommand_Null=0]="PlatCommand_Null",t[t.PlatCommand_Logger=245]="PlatCommand_Logger",t[t.PlatCommand_Lobby=246]="PlatCommand_Lobby",t[t.PlatCommand_Push=247]="PlatCommand_Push",t[t.PlatCommand_Gm=248]="PlatCommand_Gm",t[t.PlatCommand_Monitor=249]="PlatCommand_Monitor",t[t.PlatCommand_Login=250]="PlatCommand_Login",t[t.PlatCommand_Forward=251]="PlatCommand_Forward",t[t.PlatCommand_Sdk=252]="PlatCommand_Sdk",t[t.PlatCommand_Chat=253]="PlatCommand_Chat",t[t.PlatCommand_Image=254]="PlatCommand_Image";var n;e.PlatCommand;(n=e.HttpReturnCode||(e.HttpReturnCode={}))[n.HttpReturnCode_Null=0]="HttpReturnCode_Null",n[n.HttpReturnCode_DbError=2]="HttpReturnCode_DbError",n[n.HttpReturnCode_NeedBind=3]="HttpReturnCode_NeedBind",n[n.HttpReturnCode_LuaScriptError=4]="HttpReturnCode_LuaScriptError",n[n.HttpReturnCode_GameZoneListError=5]="HttpReturnCode_GameZoneListError",n[n.HttpReturnCode_SignError=11]="HttpReturnCode_SignError",n[n.HttpReturnCode_ServerShutDown=12]="HttpReturnCode_ServerShutDown",n[n.HttpReturnCode_JsonSyntaxError=13]="HttpReturnCode_JsonSyntaxError",n[n.HttpReturnCode_JsonMessageError=14]="HttpReturnCode_JsonMessageError",n[n.HttpReturnCode_TokenValueError=15]="HttpReturnCode_TokenValueError",n[n.HttpReturnCode_WaiGuaUidError=16]="HttpReturnCode_WaiGuaUidError",n[n.HttpReturnCode_NoGatewaytDown=17]="HttpReturnCode_NoGatewaytDown",n[n.HttpReturnCode_NoGatewayDown=17]="HttpReturnCode_NoGatewayDown",n[n.HttpReturnCode_NoSdkServer=18]="HttpReturnCode_NoSdkServer",n[n.HttpReturnCode_SdkCheckSignErr=19]="HttpReturnCode_SdkCheckSignErr",n[n.HttpReturnCode_Sdk3PartyServerErr=20]="HttpReturnCode_Sdk3PartyServerErr",n[n.HttpReturnCode_ProtobufErr=21]="HttpReturnCode_ProtobufErr",n[n.HttpReturnCode_GatewayErr=22]="HttpReturnCode_GatewayErr",n[n.HttpReturnCode_Timeout=23]="HttpReturnCode_Timeout",n[n.HttpReturnCode_AccountUsing=24]="HttpReturnCode_AccountUsing",n[n.HttpReturnCode_OnlinePlatidErr=25]="HttpReturnCode_OnlinePlatidErr",n[n.HttpReturnCode_BindAccountErr=26]="HttpReturnCode_BindAccountErr";var i;e.HttpReturnCode;(i=e.TaskType||(e.TaskType={}))[i.TaskType_Null=0]="TaskType_Null",i[i.TaskType_Monitor=1]="TaskType_Monitor",i[i.TaskType_Login=2]="TaskType_Login",i[i.TaskType_NameS=3]="TaskType_NameS",i[i.TaskType_Sdk=4]="TaskType_Sdk",i[i.TaskType_Gm=5]="TaskType_Gm",i[i.TaskType_Gateway=6]="TaskType_Gateway",i[i.TaskType_GameZone=7]="TaskType_GameZone";var r;e.TaskType;(r=e.ServerType||(e.ServerType={}))[r.UNKNOWNSERVER=0]="UNKNOWNSERVER",r[r.SUPERSERVER=1]="SUPERSERVER",r[r.LOGINSERVER=10]="LOGINSERVER",r[r.RECORDSERVER=11]="RECORDSERVER",r[r.SESSIONSERVER=20]="SESSIONSERVER",r[r.SCENESSERVER=21]="SCENESSERVER",r[r.GATEWAYSERVER=22]="GATEWAYSERVER",r[r.INFOSERVER=23]="INFOSERVER",r[r.HTTPSERVER=24]="HTTPSERVER",r[r.CHANGESERVER=25]="CHANGESERVER",r[r.USERSERVER=26]="USERSERVER",r[r.BILLSERVER=27]="BILLSERVER",r[r.NAMESERVER=28]="NAMESERVER",r[r.MONITORSERVER=29]="MONITORSERVER",r[r.GMSERVER=30]="GMSERVER",r[r.STATERSERVER=31]="STATERSERVER",r[r.SOUNDSERVER=32]="SOUNDSERVER",r[r.BILLSERVER_ALIPAY=33]="BILLSERVER_ALIPAY",r[r.BILLSERVER_JUNKA=34]="BILLSERVER_JUNKA",r[r.BILLSERVER_TIANXIATONG=35]="BILLSERVER_TIANXIATONG",r[r.BILLSERVER_ZONGYOU=36]="BILLSERVER_ZONGYOU",r[r.BILLSERVER_OFFLINE=37]="BILLSERVER_OFFLINE",r[r.BILLSERVER_MESSAGE=38]="BILLSERVER_MESSAGE",r[r.BILLSERVER_ZQB=39]="BILLSERVER_ZQB",r[r.WEBGATESERVER=40]="WEBGATESERVER",r[r.BILLSERVER_BAIDU=41]="BILLSERVER_BAIDU",r[r.BILLSERVER_SHUN=42]="BILLSERVER_SHUN",r[r.SDKSERVER=43]="SDKSERVER",r[r.LOGGERSERVER=44]="LOGGERSERVER",r[r.UNILIGHT=45]="UNILIGHT",r[r.MAX_SERVERTYPE=46]="MAX_SERVERTYPE",r[r.UnknownServer=0]="UnknownServer",r[r.LoginServer=10]="LoginServer",r[r.GatewayServer=22]="GatewayServer",r[r.InfoServer=23]="InfoServer",r[r.HttpsServer=24]="HttpsServer",r[r.ChangeServer=25]="ChangeServer",r[r.UserServer=26]="UserServer",r[r.BillServer=27]="BillServer",r[r.NameServer=28]="NameServer",r[r.MonitorServer=29]="MonitorServer",r[r.GmServer=30]="GmServer",r[r.StateServer=31]="StateServer",r[r.SoundServer=32]="SoundServer",r[r.WebGateServer=40]="WebGateServer",r[r.SdkServer=43]="SdkServer",r[r.LoggerServer=44]="LoggerServer",r[r.UniServer=45]="UniServer";var o;e.ServerType;(o=e.NetType||(e.NetType={}))[o.NetType_near=0]="NetType_near",o[o.NetType_far=1]="NetType_far",o[o.NetType_CTC=2]="NetType_CTC",o[o.NetType_CNC=3]="NetType_CNC";var s;e.NetType;(s=e.RobotUid||(e.RobotUid={}))[s.RobotUid_begin=1e4]="RobotUid_begin",s[s.RobotUid_end=2e4]="RobotUid_end";e.RobotUid;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GameZoneInfo"},e}();e.GameZoneInfo=a;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerName"},e}();e.ServerName=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerInfo"},e}();e.ServerInfo=c}(Pmd||(Pmd={})),function(e){var t=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Sdk"},e}();e.Sdk=t,function(e){var t;(t=e.Param||(e.Param={}))[t.StartUpGameRequestSdkPmd_C=1]="StartUpGameRequestSdkPmd_C",t[t.StartUpGameReturnSdkPmd_S=2]="StartUpGameReturnSdkPmd_S",t[t.SupportGamePlatListSdkPmd_S=3]="SupportGamePlatListSdkPmd_S",t[t.UserLoginPlatRequestSdkPmd_C=4]="UserLoginPlatRequestSdkPmd_C",t[t.UserLoginPlatReturnSdkPmd_S=5]="UserLoginPlatReturnSdkPmd_S",t[t.CreatePlatOrderRequestSdkPmd_C=6]="CreatePlatOrderRequestSdkPmd_C",t[t.CreatePlatOrderReturnSdkPmd_S=7]="CreatePlatOrderReturnSdkPmd_S",t[t.NotifyRechargeRequestSdkPmd_S=8]="NotifyRechargeRequestSdkPmd_S",t[t.NotifyRechargeReturnSdkPmd_C=9]="NotifyRechargeReturnSdkPmd_C",t[t.RechargeQueryRequestIOSSdkPmd_C=10]="RechargeQueryRequestIOSSdkPmd_C",t[t.RequestQueryPlatPointSdkPmd_C=11]="RequestQueryPlatPointSdkPmd_C",t[t.ReturnQueryPlatPointSdkPmd_S=12]="ReturnQueryPlatPointSdkPmd_S",t[t.RequestRedeemPlatPointSdkPmd_C=13]="RequestRedeemPlatPointSdkPmd_C",t[t.ReturnRedeemPlatPointSdkPmd_S=14]="ReturnRedeemPlatPointSdkPmd_S",t[t.ReturnErrorCodeSdkPmd_S=15]="ReturnErrorCodeSdkPmd_S",t[t.RequestBindAccountSdkPmd_CS=16]="RequestBindAccountSdkPmd_CS",t[t.RequestBindPlatInfoSdkPmd_CS=17]="RequestBindPlatInfoSdkPmd_CS",t[t.RequestAccidByPlatinfoSdkPmd_CS=18]="RequestAccidByPlatinfoSdkPmd_CS",t[t.RequestRedeemBackPlatPointSdkPmd_C=19]="RequestRedeemBackPlatPointSdkPmd_C",t[t.ReturnRedeemBackPlatPointSdkPmd_S=20]="ReturnRedeemBackPlatPointSdkPmd_S",t[t.RequestUnbindAccountSdkPmd_CS=21]="RequestUnbindAccountSdkPmd_CS",t[t.NotifyTapJoyRequestSdkPmd_S=22]="NotifyTapJoyRequestSdkPmd_S",t[t.PushMsgRequestSdkPmd_C=23]="PushMsgRequestSdkPmd_C",t[t.PushMsgReturnSdkPmd_S=24]="PushMsgReturnSdkPmd_S",t[t.BindAccountPhoneSdkPmd_CS=25]="BindAccountPhoneSdkPmd_CS",t[t.RequestMobileRegistRandCodeSdkPmd_CS=26]="RequestMobileRegistRandCodeSdkPmd_CS",t[t.RequestWechatMsgSdkPmd_CS=27]="RequestWechatMsgSdkPmd_CS",t[t.SearchUserListSdkPmd_CS=28]="SearchUserListSdkPmd_CS",t[t.NotifyPreLoginInfoSdkPmd_CS=29]="NotifyPreLoginInfoSdkPmd_CS",t[t.RequestQrcodeURLSdkPmd_CS=30]="RequestQrcodeURLSdkPmd_CS",t[t.DiamondConsumSdkPmd_CS=31]="DiamondConsumSdkPmd_CS",t[t.RewardUserSdkPmd_CS=32]="RewardUserSdkPmd_CS",t[t.SendRedPackSdkPmd_CS=43]="SendRedPackSdkPmd_CS",t[t.PlatSignDataSdkPmd_CS=44]="PlatSignDataSdkPmd_CS",t[t.RequestUserInfoSdkPmd_SC=45]="RequestUserInfoSdkPmd_SC",t[t.CheckUserInfoBindSdkPmd_CS=46]="CheckUserInfoBindSdkPmd_CS",t[t.QueryGamezoneListSdkPmd_CS=75]="QueryGamezoneListSdkPmd_CS",t[t.ServerRegisterSdkPmd_CS=76]="ServerRegisterSdkPmd_CS",t[t.ServerHeartBeatSdkPmd_CS=77]="ServerHeartBeatSdkPmd_CS",t[t.BookTransactionSdkPmd_CS=78]="BookTransactionSdkPmd_CS",t[t.BatchTransactionSdkPmd_CS=79]="BatchTransactionSdkPmd_CS",t[t.AndroidConfigSdkPmd_CS=80]="AndroidConfigSdkPmd_CS",t[t.RequestC2CSendRedPackSdkPmd_CS=81]="RequestC2CSendRedPackSdkPmd_CS",t[t.ReturnC2CSendRedPackSdkPmd_CS=82]="ReturnC2CSendRedPackSdkPmd_CS",t[t.RecvC2CRedPackSdkPmd_CS=83]="RecvC2CRedPackSdkPmd_CS",t[t.RefundC2CRedPackSdkPmd_CS=84]="RefundC2CRedPackSdkPmd_CS",t[t.RequestReAuthSdkPmd_C=85]="RequestReAuthSdkPmd_C",t[t.ReturnReAuthSdkPmd_S=86]="ReturnReAuthSdkPmd_S",t[t.PlatRequestPunishSdkPmd_CS=87]="PlatRequestPunishSdkPmd_CS",t[t.RequestUnbundingSdkPmd_CS=88]="RequestUnbundingSdkPmd_CS",t[t.PlatRedeemSdkPmd_CS=33]="PlatRedeemSdkPmd_CS",t[t.PlatQueryBalanceSdkPmd_CS=34]="PlatQueryBalanceSdkPmd_CS",t[t.PlatQueryGamerecordSdkPmd_CS=35]="PlatQueryGamerecordSdkPmd_CS",t[t.GameRecord=36]="GameRecord",t[t.PlatQueryUserListSdkPmd_CS=37]="PlatQueryUserListSdkPmd_CS",t[t.PlatQueryPlatReportSdkPmd_CS=38]="PlatQueryPlatReportSdkPmd_CS",t[t.PlatQueryPlatDailySdkPmd_CS=39]="PlatQueryPlatDailySdkPmd_CS",t[t.PlatUserInfo=40]="PlatUserInfo",t[t.PlatReport=41]="PlatReport",t[t.PlatDailyData=42]="PlatDailyData",t[t.PlatUserDailySdkPmd_CS=50]="PlatUserDailySdkPmd_CS",t[t.PlatUserReportSdkPmd_CS=52]="PlatUserReportSdkPmd_CS",t[t.UserDailyData=51]="UserDailyData",t[t.ForwardCommandSdkPmd_CS=53]="ForwardCommandSdkPmd_CS",t[t.UserBettingDetailSdkPmd_CS=60]="UserBettingDetailSdkPmd_CS",t[t.UserPurchaseRecordSdkPmd_CS=61]="UserPurchaseRecordSdkPmd_CS",t[t.PlatCreateRoleSdkPmd_CS=62]="PlatCreateRoleSdkPmd_CS",t[t.CreatePlatAccountSdkPmd_CS=63]="CreatePlatAccountSdkPmd_CS",t[t.PurchaseData=64]="PurchaseData",t[t.UserBettingData=65]="UserBettingData",t[t.PlatQueryCoinRecordSdkPmd_CS=66]="PlatQueryCoinRecordSdkPmd_CS",t[t.UserCoinRecord=67]="UserCoinRecord",t[t.ChangePlatPasswdSdkPmd_CS=68]="ChangePlatPasswdSdkPmd_CS",t[t.PlatQueryRoundDetailSdkPmd_CS=69]="PlatQueryRoundDetailSdkPmd_CS",t[t.RoundData=70]="RoundData";e.Param}(t=e.Sdk||(e.Sdk={}));var n=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StartUpGameRequestSdkPmd_C"},e}();e.StartUpGameRequestSdkPmd_C=n;var i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StartUpGameReturnSdkPmd_S"},e}();e.StartUpGameReturnSdkPmd_S=i;var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SdkPlatInfo"},e}();e.SdkPlatInfo=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GamePlatList"},e}();e.GamePlatList=o;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SupportGamePlatListSdkPmd_S"},e}();e.SupportGamePlatListSdkPmd_S=s;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatBaseData"},e}();e.PlatBaseData=a;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginPlatRequestSdkPmd_C"},e}();e.UserLoginPlatRequestSdkPmd_C=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestReAuthSdkPmd_C"},e}();e.RequestReAuthSdkPmd_C=c;var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnReAuthSdkPmd_S"},e}();e.ReturnReAuthSdkPmd_S=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUnbundingSdkPmd_CS"},e}();e.RequestUnbundingSdkPmd_CS=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatRequestPunishSdkPmd_CS"},e}();e.PlatRequestPunishSdkPmd_CS=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginPlatReturnSdkPmd_S"},e}();e.UserLoginPlatReturnSdkPmd_S=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CreatePlatOrderRequestSdkPmd_C"},e}();e.CreatePlatOrderRequestSdkPmd_C=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CreatePlatOrderReturnSdkPmd_S"},e}();e.CreatePlatOrderReturnSdkPmd_S=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyRechargeRequestSdkPmd_S"},e}();e.NotifyRechargeRequestSdkPmd_S=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyRechargeReturnSdkPmd_C"},e}();e.NotifyRechargeReturnSdkPmd_C=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RechargeQueryRequestIOSSdkPmd_C"},e}();e.RechargeQueryRequestIOSSdkPmd_C=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestQueryPlatPointSdkPmd_C"},e}();e.RequestQueryPlatPointSdkPmd_C=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnQueryPlatPointSdkPmd_S"},e}();e.ReturnQueryPlatPointSdkPmd_S=b;var P=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestRedeemPlatPointSdkPmd_C"},e}();e.RequestRedeemPlatPointSdkPmd_C=P;var v=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnRedeemPlatPointSdkPmd_S"},e}();e.ReturnRedeemPlatPointSdkPmd_S=v;var C=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestRedeemBackPlatPointSdkPmd_C"},e}();e.RequestRedeemBackPlatPointSdkPmd_C=C;var T=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnRedeemBackPlatPointSdkPmd_S"},e}();e.ReturnRedeemBackPlatPointSdkPmd_S=T;var E=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnErrorCodeSdkPmd_S"},e}();e.ReturnErrorCodeSdkPmd_S=E;var L=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestBindAccountSdkPmd_CS"},e}();e.RequestBindAccountSdkPmd_CS=L;var R=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatAccountInfo"},e}();e.PlatAccountInfo=R;var U=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestBindPlatInfoSdkPmd_CS"},e}();e.RequestBindPlatInfoSdkPmd_CS=U;var w=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestAccidByPlatinfoSdkPmd_CS"},e}();e.RequestAccidByPlatinfoSdkPmd_CS=w;var k=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUnbindAccountSdkPmd_CS"},e}();e.RequestUnbindAccountSdkPmd_CS=k;var G=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyTapJoyRequestSdkPmd_S"},e}();e.NotifyTapJoyRequestSdkPmd_S=G;var I=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushMsgRequestSdkPmd_C"},e}();e.PushMsgRequestSdkPmd_C=I;var O=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushMsgReturnSdkPmd_S"},e}();e.PushMsgReturnSdkPmd_S=O;var N=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BindAccountPhoneSdkPmd_CS"},e}();e.BindAccountPhoneSdkPmd_CS=N;var D=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestMobileRegistRandCodeSdkPmd_CS"},e}();e.RequestMobileRegistRandCodeSdkPmd_CS=D;var x=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestWechatMsgSdkPmd_CS"},e}();e.RequestWechatMsgSdkPmd_CS=x;var A=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SdkUserInfo"},e}();e.SdkUserInfo=A;var B=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SearchUserListSdkPmd_CS"},e}();e.SearchUserListSdkPmd_CS=B;var M=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.QueryGamezoneListSdkPmd_CS"},e}();e.QueryGamezoneListSdkPmd_CS=M;var H=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RoomNode"},e}();e.RoomNode=H;var F=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerRegisterSdkPmd_CS"},e}();e.ServerRegisterSdkPmd_CS=F;var q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerHeartBeatSdkPmd_CS"},e}();e.ServerHeartBeatSdkPmd_CS=q;var V=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BookData"},e}();e.BookData=V;var W=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BookTransactionSdkPmd_CS"},e}();e.BookTransactionSdkPmd_CS=W;var Z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BatchData"},e}();e.BatchData=Z;var j=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BatchTransactionSdkPmd_CS"},e}();e.BatchTransactionSdkPmd_CS=j;var z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AndroidData"},e}();e.AndroidData=z;var X=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AndroidConfigSdkPmd_CS"},e}();e.AndroidConfigSdkPmd_CS=X;var J=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyPreLoginInfoSdkPmd_CS"},e}();e.NotifyPreLoginInfoSdkPmd_CS=J;var Y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatCreateRoleSdkPmd_CS"},e}();e.PlatCreateRoleSdkPmd_CS=Y;var K=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CreatePlatAccountSdkPmd_CS"},e}();e.CreatePlatAccountSdkPmd_CS=K;var Q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ChangePlatPasswdSdkPmd_CS"},e}();e.ChangePlatPasswdSdkPmd_CS=Q;var $=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryCoinRecordSdkPmd_CS"},e}();e.PlatQueryCoinRecordSdkPmd_CS=$;var ee=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserCoinRecord"},e}();e.UserCoinRecord=ee;var te=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardCommandSdkPmd_CS"},e}();e.ForwardCommandSdkPmd_CS=te;var ne=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestQrcodeURLSdkPmd_CS"},e}();e.RequestQrcodeURLSdkPmd_CS=ne;var ie=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.DiamondConsumSdkPmd_CS"},e}();e.DiamondConsumSdkPmd_CS=ie;var re=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RewardData"},e}();e.RewardData=re;var oe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RewardUserSdkPmd_CS"},e}();e.RewardUserSdkPmd_CS=oe;var se=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatRedeemSdkPmd_CS"},e}();e.PlatRedeemSdkPmd_CS=se;var ae=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryBalanceSdkPmd_CS"},e}();e.PlatQueryBalanceSdkPmd_CS=ae;var le=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GameRecord"},e}();e.GameRecord=le;var ce=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryGamerecordSdkPmd_CS"},e}();e.PlatQueryGamerecordSdkPmd_CS=ce;var ue=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatUserInfo"},e}();e.PlatUserInfo=ue;var de=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryUserListSdkPmd_CS"},e}();e.PlatQueryUserListSdkPmd_CS=de;var he=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatReport"},e}();e.PlatReport=he;var pe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryPlatReportSdkPmd_CS"},e}();e.PlatQueryPlatReportSdkPmd_CS=pe;var ge=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatDailyData"},e}();e.PlatDailyData=ge;var fe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryPlatDailySdkPmd_CS"},e}();e.PlatQueryPlatDailySdkPmd_CS=fe;var me=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatUserDailySdkPmd_CS"},e}();e.PlatUserDailySdkPmd_CS=me;var _e=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatUserReportSdkPmd_CS"},e}();e.PlatUserReportSdkPmd_CS=_e;var ye=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserDailyData"},e}();e.UserDailyData=ye;var Se=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SendRedPackSdkPmd_CS"},e}();e.SendRedPackSdkPmd_CS=Se;var be=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestC2CSendRedPackSdkPmd_CS"},e}();e.RequestC2CSendRedPackSdkPmd_CS=be;var Pe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnC2CSendRedPackSdkPmd_CS"},e}();e.ReturnC2CSendRedPackSdkPmd_CS=Pe;var ve=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RecvC2CRedPackSdkPmd_CS"},e}();e.RecvC2CRedPackSdkPmd_CS=ve;var Ce=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RefundC2CRedPackSdkPmd_CS"},e}();e.RefundC2CRedPackSdkPmd_CS=Ce;var Te=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatSignDataSdkPmd_CS"},e}();e.PlatSignDataSdkPmd_CS=Te;var Ee=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUserInfoSdkPmd_SC"},e}();e.RequestUserInfoSdkPmd_SC=Ee;var Le=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CheckUserInfoBindSdkPmd_CS"},e}();e.CheckUserInfoBindSdkPmd_CS=Le;var Re=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserBettingDetailSdkPmd_CS"},e}();e.UserBettingDetailSdkPmd_CS=Re;var Ue=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserBettingData"},e}();e.UserBettingData=Ue;var we=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryRoundDetailSdkPmd_CS"},e}();e.PlatQueryRoundDetailSdkPmd_CS=we;var ke=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RoundData"},e}();e.RoundData=ke;var Ge=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserPurchaseRecordSdkPmd_CS"},e}();e.UserPurchaseRecordSdkPmd_CS=Ge;var Ie=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PurchaseData"},e}();e.PurchaseData=Ie}(Pmd||(Pmd={})),function(e){var t=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HttpPackage"},e}();e.HttpPackage=t;var n=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HttpPackageReturn"},e}();e.HttpPackageReturn=n;var i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestZoneList"},e}();e.RequestZoneList=i;var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestSelectZone"},e}();e.RequestSelectZone=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestSelectZoneReturn"},e}();e.RequestSelectZoneReturn=o;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatTokenLogin"},e}();e.PlatTokenLogin=s;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatTokenLoginReturn"},e}();e.PlatTokenLoginReturn=a}(Pmd||(Pmd={})),function(s){var e,t=function(){this.compressType=0,this.logLevel=7,this.lobbyMode=!1,this.scaleMode="fixedWidth",this.wssMode=!1};s.initOptions=t,(e=s.NetState||(s.NetState={}))[e.NO_SIGNAL=0]="NO_SIGNAL",e[e.WIFI=1]="WIFI",e[e.DATA_FLOWS=2]="DATA_FLOWS",e[e.WIFI_AND_DATA=3]="WIFI_AND_DATA";s.NetState;s.init=function(e,t,n,i,r){if(void 0===i&&(i="fixedWidth"),void 0===r&&(r=!1),e instanceof Object||"function"==typeof t){if(s.Console.init(e.debug,e.logLevel),(a.initOpt=e).designWidth&&(a.designWidth=e.designWidth),e.designHeight&&(a.designHeight=e.designHeight),e.reloadDefine&&(a.reloadDefine=e.reloadDefine),s.ScreenUtils&&s.ScreenUtils.init(e.scaleMode),s.PayMgr.Instance.isOpen=e.openPay,e.shareData&&(a.shareData=e.shareData),a.lobbyMode=e.lobbyMode,e.nativeStorage&&(a.nativeStorage=e.nativeStorage),e.reLoginUrl&&(a.reLoginUrl=e.reLoginUrl),e.platId&&(a.platId=e.platId),e.appId)a.appId=e.appId,1==s.Global.isH5&&(a.reLoginUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+a.appId+"&redirect_uri=http%3a%2f%2fwx.zqgame.com%2faddons%2fzqgame%2fgamelogin.php&response_type=code&scope=snsapi_userinfo&state="+a.appId+"#wechat_redirect");else if(1==s.Global.isH5){var o=s.BrowersUtils.GetRequest("appid");s.StringUtils.stringIsNullOrEmpty(o)||(a.appId=s.BrowersUtils.GetRequest("appid")),a.reLoginUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+a.appId+"&redirect_uri=http%3a%2f%2fwx.zqgame.com%2faddons%2fzqgame%2fgamelogin.php&response_type=code&scope=snsapi_userinfo&state="+a.appId+"#wechat_redirect"}e.compressType?s.CompressUtil.init(e.compressType,t,n):t&&t.call(n)}else s.Console.init(e),s.ScreenUtils&&s.ScreenUtils.init(i),s.PayMgr.Instance.isOpen=t,n&&(a.shareData=n),a.lobbyMode=r;s.ResUtils&&s.ResUtils.init(),s.ZQGameSdk&&(s.ZQGameSdk.getCallStatus(a.PhoneCallStatus,a),s.ZQGameSdk.hideVk())},s.cloneObj=function e(t){if("object"==typeof t)for(var n in t)(void 0)[n]="object"==typeof t[n]?e(t[n]):t[n]};var a=function(){function o(){}return o.PhoneCallStatus=function(e){"callDisconnected"==e.data.callState&&egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){s.ZQGameSdk&&s.ZQGameSdk.speakerActive()},4e3)},o.Event=function(e,t,n,i){return void 0===t&&(t=null),void 0===n&&(n=!1),void 0===i&&(i=!1),new s.ZqEvent(e,t)},o.dispatchEvent=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===i&&(i=!1);var r=new s.ZqEvent(e,t,n,i);s.ZqListener.getInstance().dispatchEvent(r)},o.hasEventListener=function(e){return s.ZqListener.getInstance().hasEventListener(e)},o.addEventListener=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),s.ZqListener.getInstance().addEventListener(e,t,n,i,r)},o.removeEventListener=function(e,t,n,i){void 0===i&&(i=!1),s.ZqListener.getInstance().removeEventListener(e,t,n,i)},o.Compress=function(e){if(!o.jsonCompress){for(var t=0;t<o.jsonCompress.msglist.length;t++)o.jsonCompress.msglist[t]==e.do&&(e.do=t+1);return e}return e},o.DeCompress=function(e){for(var t=0;t<o.jsonCompress.msglist.length;t++)if(t+1==e.do){e.do=o.jsonCompress.msglist[t];break}return e},o.DeCompressDefult=function(e){for(var t=0;t<o.jsonCompressDefault.msglist.length;t++)if(t+1==e.do){e.do=o.jsonCompressDefault.msglist[t];break}return e},Object.defineProperty(o,"lobbyMode",{get:function(){return this._lobbyMode},set:function(e){this._lobbyMode=e},enumerable:!0,configurable:!0}),o.getZoneInfo=function(e){if(null!=this.zoneList){for(var t=this.zoneList.length,n=0;n<t;n++)if(this.zoneList[n].gameid==e)return this.zoneList[n];return s.Console.error("找不到游戏区信息 gameId:"+e),null}},Object.defineProperty(o,"resVersion",{get:function(){var e="";if(s.Global.isH5){var t=document.querySelector('meta[name="res-version"]');null!=t&&(e=t.getAttribute("content")),null!=e&&""!=e&&(e="_"+e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(o,"thmVersion",{get:function(){var e="";if(s.Global.isH5){var t=document.querySelector('meta[name="thm-version"]');null!=t&&(e=t.getAttribute("content")),null!=e&&""!=e&&(e="_"+e)}return e},enumerable:!0,configurable:!0}),o.initPlatInfo=function(e,t,n){return null==o.platInfo&&(o.platInfo=new Pmd.PlatInfo,e&&null!=e?o.platInfo=e:o.isH5&&s.Utils.getLocalStorage("platStr",function(e){var t,n=e;for(var i in t=s.StringUtils.stringIsNullOrEmpty(n)?s.BrowersUtils.GetRequests():s.BrowersUtils.GetRequests(n))"debug"!=i&&(o.platInfo[i]="extData"==i?decodeURIComponent(t[i]):t[i]),"code"==i&&(o.platInfo.sign=t[i]),"appid"==i&&(o.platInfo.platappid=t[i]);var r=Number(o.platInfo.platid);console.error("pid:"+r),(null==r||isNaN(r)||0==r)&&o.platInfo.platappid&&!s.StringUtils.stringIsNullOrEmpty(o.platInfo.platappid)?o.platInfo.platid=68:o.platInfo.platid=r})),s.Global.isH5?o.defaultConfig&&s.PayMgr.Instance.initPayPlatById(Number(o.defaultConfig.pay_platid),t,n):null!=t&&(n?t.call(n,o.platInfo.platid):t(o.platInfo.platid)),o.platInfo},o.setPlatInfo=function(e,t,n){s.Utils.setLocalStorage(n+"|"+t+"|platToken",e)},o.setPlatToken=function(e,t,n){o.platId=t,o.gameId=n,console.log("cache_platinfo:"+JSON.stringify(e)),s.Utils.setLocalStorage(n+"|"+t+"|platToken",encodeURIComponent(JSON.stringify(e)))},o.getPlatToken=function(n,i){return s.Utils.getLocalStorage(o.gameId+"|"+o.getPlatId()+"|platToken",function(e){var t;if(console.log("get_platinfo:"+e),e&&1==o.isCacheToken){try{e=decodeURIComponent(e)}catch(e){console.error("decode_error")}t=JSON.parse(e),s.NetMgr.UID=Number(t.uid),t.platinfo?t.platinfo.account?s.NetMgr.PlatUID=t.platinfo.account:s.NetMgr.PlatUID=t.platinfo.uid:s.NetMgr.PlatUID=t.uid,s.BrowersUtils.extData.inviter=s.NetMgr.UID.toString(),s.NetMgr.SID=t.sid,s.NetMgr.PlatToken=t.unigame_plat_login,s.NetMgr.PlatKey=t.unigame_plat_key,s.NetMgr.platTokenTimeOut=t.unigame_plat_login_life,null!=t.platinfo&&null!=o.platInfo&&(o.platInfo.platid=t.platinfo.platid,t.platinfo&&(t.platinfo.account?s.NetMgr.PlatUID=t.platinfo.account:s.NetMgr.PlatUID=t.platinfo.uid),s.NetMgr.PlatSession=t.platinfo.sign),t.GatewayUrl&&s.NetMgr.http&&(s.NetMgr.http.GatewayUrl=t.GatewayUrl)}n&&n.call(i,t)})},o.isWxGame=function(){if(egret.hasDefinition("wx")&&wx.env&&wx.env.USER_DATA_PATH){var e=wx.env.USER_DATA_PATH;if(e&&(0<=e.indexOf("wxfile://")||0<=e.indexOf("http://")))return!0}return!1},o.openAgent=function(e,t){var n,i=this.getPlatToken(),r=s.Global.platId,o=s.Global.lobbyGameId;n=0<=e.indexOf("?")?e+"&code="+s.CompressUtil.base64encode(i)+"&platid="+r+"&gameid="+o:e+"?code="+s.CompressUtil.base64encode(i)+"&platid="+r+"&gameid="+o,console.error("agentUrl:"+n),s.ZQGameSdk&&s.ZQGameSdk.openWeb(n,t)},Object.defineProperty(o,"isNative",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE||"runtime2"==egret.Capabilities.runtimeType},enumerable:!0,configurable:!0}),o.getPlatId=function(){var n=0;return 0!=this.platId?this.platId:(o.isH5?null==o.platInfo?s.Utils.getLocalStorage("platStr",function(e){var t=e;n=s.StringUtils.stringIsNullOrEmpty(t)?s.BrowersUtils.GetRequest("platid")?parseInt(s.BrowersUtils.GetRequest("platid")):Pmd.PlatType.PlatType_Normal:Number(s.BrowersUtils.GetRequest("platid",t))}):o.platInfo.platid&&(n=o.platInfo.platid):n=o.platInfo?o.platInfo.platid:Pmd.PlatType.PlatType_Normal,n)},o.isActive=!0,o.debugLevel=0,o.version=161128235600,o.compressType=0,o.compressMin=0,o.designWidth=1280,o.designHeight=720,o.isRestarting=!1,o.PLAT_TOKEN_KEY="plat_token_key",o.gameId=0,o.lobbyGameId=0,o.is_sandbox=0,o.appId="wx0e52b1eba8f9fb14",o.thirdPlatDir="thirdPlatDir/",o.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},o._lobbyMode=!1,o.isInGame=!1,o.reLoginUrl="",o.gameGatewayUrl="",o.payPlatId=0,o.bundleId="",o.zipmd5="",o.configmd5="",o.cfgmd5="",o.isCacheToken=!0,o.logUrl="http://server.login.bwgame.com.cn:8020/logger/clientlog",o.ipUrl="http://ipserv.gamelaoyou.com:5999/http/remoteip/json",o.gmlevel=0,o.token="",o.platId=0,o.zoneId=0,o}();s.Global=a}(uniLib||(uniLib={}));var testh5=function(){var e;e=!!this.navigator;try{global&&(e=!1)}catch(e){}return e};uniLib.Global.isH5=testh5();var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(e){var t=function(i){function e(e,t,n){void 0===n&&(n=!0),i.call(this),this._target=e,this._time=t,n&&this.start()}return __extends(e,i),e.prototype.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},e.prototype.runDown=function(e){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},e.prototype.runUp=function(e){this._target.alpha+=.045,this.checkOver()||1<=this._target.alpha&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},e.prototype.checkOver=function(){return egret.getTimer()-this._currTime>=this._time&&(this.destroy(),!0)},e.prototype.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);e.BitmapBlink=t}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;uniLib||(uniLib={}),function(a){function e(e,t,n,i,r,o,s){void 0===n&&(n=null),void 0===i&&(i=""),void 0===r&&(r=30),void 0===o&&(o=1),void 0===s&&(s="assets"),a.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.cartoonType=1,this.param={context:null,data:null},this.param.context=e,this.init(t,n,i,r,o,s)}__extends(e,a),e.prototype.init=function(e,t,n,i,r,o){void 0===t&&(t=null),void 0===n&&(n=""),void 0===i&&(i=30),void 0===r&&(r=1),void 0===o&&(o="assets"),this.cartoonType=r,this.backFun=t,this.btnImg=new egret.Bitmap,"assets"!=o&&(this.assets=RES.getRes(o)),this.btnImg.texture=this.assets.getTexture(e),this.addChild(this.btnImg),""!=n&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=i,this.textField.textAlign="center",this.textField.stroke=1,this.textField.strokeColor=0,this.textField.text=n,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},e.prototype.onbuttonTouchTap=function(e){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var t=function(){this.isPlayCartoon=!1};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(function(){1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(t,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(t,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(t,this)},this),egret.setTimeout(function(){null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])},this,300)}},e.prototype.setBindData=function(e){this.param.data=e},e.prototype.getBindData=function(){return this.param.data},e.prototype.getBitmap=function(){return this.btnImg}}(egret.DisplayObjectContainer);var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(h){var e=function(d){function e(e,t,n,i,r,o,s,a,l,c,u){void 0===s&&(s=30),void 0===a&&(a=0),void 0===l&&(l=null),void 0===c&&(c=null),void 0===u&&(u=null),d.call(this),this.isSelected=!1,this.liveSelected=!1,this.touchEnabled=!0,this.touchChildren=!1,this.init(e,t,n,i,r,o,s,a,l,c,u)}return __extends(e,d),e.prototype.init=function(e,t,n,i,r,o,s,a,l,c,u){void 0===s&&(s=30),void 0===a&&(a=0),void 0===l&&(l=null),void 0===c&&(c=null),void 0===u&&(u=null),this._nomal_bg="string"==typeof e?h.DisplayUtils.createBitmapByName(e):e,l&&(this._nomal_bg.scale9Grid=l),i&&(this._nomal_bg.width=i),r&&(this._nomal_bg.height=r),this.addChild(this._nomal_bg),t&&(this._selected_bg=h.DisplayUtils.createBitmapByName(t),c&&(this._selected_bg.scale9Grid=c),i&&(this._selected_bg.width=i),r&&(this._selected_bg.height=r),this.addChild(this._selected_bg),this._selected_bg.visible=!1),n&&(this._disable_bg=h.DisplayUtils.createBitmapByName(n),u&&(this._disable_bg.scale9Grid=u),i&&(this._disable_bg.width=i),r&&(this._disable_bg.height=r),this.addChild(this._disable_bg),this._disable_bg.visible=!1),o&&(this._lableNomalColor=a,this._lable=h.DisplayUtils.createTextLabel(a,"center",o,s),this._lable.x=this.width-this._lable.width>>1,this._lable.y=this.height-this._lable.height>>1,this.addChild(this._lable)),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)},Object.defineProperty(e.prototype,"fontFamily",{set:function(e){this._lable.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSelectedColor",{set:function(e){this._lableSelectedColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"select",{get:function(){return this.isSelected},set:function(e){1==e?this.selected():this.unselected()},enumerable:!0,configurable:!0}),e.prototype.selected=function(){this.isSelected=!0,this._selected_bg&&(this._selected_bg.visible=!0,this._nomal_bg.visible=!1),this._lableSelectedColor&&(this._lable.textColor=this._lableSelectedColor)},Object.defineProperty(e.prototype,"text",{set:function(e){null==this._lable&&(this._lableNomalColor=0,this._lable=h.DisplayUtils.createTextLabel(this._lableNomalColor,"center",e,30),this._lable.x=this.width-this._lable.width>>1,this._lable.y=this.height-this._lable.height>>1,this.addChild(this._lable)),this._lable.text=e},enumerable:!0,configurable:!0}),e.prototype.unselected=function(){this.isSelected=!1,this.liveSelected=!1,this._selected_bg&&(this._selected_bg.visible=!1,this._nomal_bg.visible=!0),this._lableSelectedColor&&(this._lable.textColor=this._lableNomalColor)},e.prototype.onbuttonBegin=function(e){0==this.isSelected&&this.selected()},e.prototype.onbuttonEnd=function(e){0==this.liveSelected&&this.unselected()},Object.defineProperty(e.prototype,"disable",{get:function(){return this._disable},set:function(e){this._disable=e,this._disable_bg&&(this._disable_bg.visible=e,1==this._disable?(this.touchEnabled=!1,this._nomal_bg.visible=!1,this._selected_bg.visible=!1):(this.touchEnabled=!0,this._nomal_bg.visible=!0))},enumerable:!0,configurable:!0}),e.prototype.setBottomLabel=function(e,t,n,i,r,o){var s=new egret.TextField;-1!=r&&(s.width=r),s.fontFamily="微软雅黑",s.textColor=t,s.textAlign=egret.HorizontalAlign.CENTER,s.text=e,s.size=n,s.x=i,s.y=this._nomal_bg.y+this._nomal_bg.height+o,this.addChild(s)},Object.defineProperty(e.prototype,"toggle",{set:function(e){e?(this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)):(this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)},e}(egret.DisplayObjectContainer);h.CommonButton=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(s){var e=function(o){function e(e){o.call(this),this._isShow=!0,this.isInStage=!1,this._rect=e,this.ChatHeight=0,this.message=[],this.downPoint=new egret.Point,this.isFriend=this.isMove=!1,this.ChatHeight=this._rect.height,this._touchBg=new egret.Sprite,this._touchBg.graphics.clear(),this._touchBg.graphics.beginFill(0,.7),this._touchBg.graphics.drawRect(0,0,this._rect.width,this._rect.height),this._touchBg.graphics.endFill(),this._touchBg.width=this._rect.width,this._touchBg.height=this._rect.height,this._touchBg.touchEnabled=!1,this.addChild(this._touchBg);var t=(s.Global.screenWidth-10)/3,n=s.DisplayUtils.createShape(1,t,30,16777215);n.cacheAsBitmap=!0,this.close_btn=new s.CommonButton(n),this.close_btn.text="关闭",this.close_btn.y=s.Global.screenHeight-30,this.addChild(this.close_btn);var i=s.DisplayUtils.createShape(1,t,30,16777215);i.cacheAsBitmap=!0,this.clear_btn=new s.CommonButton(i),this.clear_btn.x=s.Global.screenWidth/3,this.clear_btn.text="清空",this.clear_btn.y=s.Global.screenHeight-30,this.addChild(this.clear_btn);var r=s.DisplayUtils.createShape(1,t,30,16777215);r.cacheAsBitmap=!0,this.ignore_btn=new s.CommonButton(r),this.ignore_btn.x=s.Global.screenWidth/3*2,this.ignore_btn.text="不再提示",this.ignore_btn.y=s.Global.screenHeight-30,this.addChild(this.ignore_btn),this.add()}return __extends(e,o),Object.defineProperty(e,"Instance",{get:function(){return null==this._self&&(this._self=new e(new egret.Rectangle(0,0,s.Global.screenWidth,s.Global.screenHeight))),this._self},enumerable:!0,configurable:!0}),e.prototype.resize=function(){this._rect=new egret.Rectangle(0,0,s.Global.screenWidth,s.Global.screenHeight),this.ChatHeight=this._rect.height,this._touchBg.graphics.clear(),this._touchBg.graphics.beginFill(0,.7),this._touchBg.graphics.drawRect(0,0,this._rect.width,this._rect.height),this._touchBg.graphics.endFill(),this._touchBg.width=this._rect.width,this._touchBg.height=this._rect.height,this._touchBg.touchEnabled=!1;s.Global.screenWidth;this.close_btn.text="关闭",this.close_btn.y=s.Global.screenHeight-30,this.addChild(this.close_btn),this.clear_btn.x=s.Global.screenWidth/3,this.clear_btn.text="清空",this.clear_btn.y=s.Global.screenHeight-30,this.addChild(this.clear_btn),this.ignore_btn.x=s.Global.screenWidth/3*2,this.ignore_btn.text="不再提示",this.ignore_btn.y=s.Global.screenHeight-30,this.addChild(this.ignore_btn)},e.prototype.add=function(){this.close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this.ignore_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHideNever,this),this.clear_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClear,this),this.x=this._rect.x,this.y=this._rect.y,this.messageSprite=new egret.Sprite,this.messageSprite.touchChildren=!1,this.messageSprite.touchEnabled=!1,this.addChild(this.messageSprite),this.messageSprite.mask=this._rect},e.prototype.onTouchClose=function(e){this.hide()},e.prototype.onTouchHideNever=function(e){this.hide(),this._isShow=!1},e.prototype.onTouchClear=function(e){this.clear(),this.add(),this.hide()},e.prototype.check=function(){1==this._isShow&&this.isInStage&&this.message&&0<this.message.length&&this.show()},e.prototype.clear=function(){this.message=[],this.removeChild(this.messageSprite),this.close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this.ignore_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHideNever,this),this.clear_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClear,this)},e.prototype.show=function(){this.message&&0<this.message.length&&(egret.MainContext.instance.stage.addChildAt(this,egret.MainContext.instance.stage.numChildren),this.isInStage=!0)},e.prototype.hide=function(){s.DisplayUtils.removeFromParent(this),this.isInStage=!1},e.prototype.addLog=function(e){if(0!=s.Global.debugLevel&&0!=this._isShow){var t=new egret.TextField;t.multiline=!0,t.width=s.Global.screenWidth,t.y=this.messageSprite.height,t.textColor=16711680,t.text=e,this.messageSprite.addChild(t),this.message.push(t),this.messageSprite.height>this.ChatHeight-20&&!this.isMove&&(this.messageSprite.y=-(this.messageSprite.height-this.ChatHeight)-40,this.messageSprite.mask.y=this.messageSprite.height-this.ChatHeight+45),this._isShow&&this.show()}},e.prototype.addTxt=function(e,t,n){e.addChild(t),t.x=5,t.y=(t.height+8)*n},e.prototype.onMessageSpriteDown=function(e){this.isMove=!0,this.downPoint=new egret.Point(e.stageX,e.stageY)},e.prototype.onTouchMove=function(e){var t=e.stageY-this.downPoint.y;(e.stageY>this.downPoint.y||e.stageY<this.downPoint.y)&&(this.messageSprite.y+=t,this.messageSprite.mask.y-=t),this.downPoint=new egret.Point(e.stageX,e.stageY)},e.prototype.onChatTouchUp=function(e){15<=this.messageSprite.y||this.messageSprite.height<this.ChatHeight?(egret.Tween.get(this.messageSprite).to({y:0},100),egret.Tween.get(this.messageSprite.mask).to({y:0},100)):(this.messageSprite.y<-(this.messageSprite.height-this.ChatHeight-20)&&(egret.Tween.get(this.messageSprite).to({y:-(this.messageSprite.height-this.ChatHeight)-40},100),egret.Tween.get(this.messageSprite.mask).to({y:this.messageSprite.height-this.ChatHeight+45},100)),this.isMove=!1)},e._self=null,e}(egret.Sprite);s.DebugView=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(t){var e=function(n){function e(e,t){n.call(this),this.guideHand=e,this.circle=t,this.addListener()}return __extends(e,n),e.prototype.initStatus=function(e){this.createBaseScene(),1==e?this.createBetScene():this.createSlipScene()},e.prototype.onShowSlipGuide=function(){this.disposeScene(),this.createSlipScene()},e.prototype.onShowBetGuide=function(){this.disposeScene(),this.createBetScene()},e.prototype.createBaseScene=function(){this.cirPanel||(this.cirPanel=new egret.Sprite,this.addChild(this.cirPanel)),this.handPanel||(this.handPanel=new egret.Sprite,this.addChild(this.handPanel))},e.prototype.createBetScene=function(){this.tips||(this.tips=this.createTextField("点击这里下注",35,108,58623,30),this.handPanel.addChild(this.tips)),this.betGuideEffect()},e.prototype.createSlipScene=function(){0!=t.UserInfo.slipStatus?1==t.UserInfo.slipStatus?this.leftSlipGuideEffect():2==t.UserInfo.slipStatus&&this.rightSlipGuideEffect():this.dispose()},e.prototype.addListener=function(){t.ZqListener.getInstance().addEventListener(t.ZqEvent.HIDE_SLIP_GAME_GUIDE,this.onHideSlipHandler,this)},e.prototype.removeListener=function(){t.ZqListener.getInstance().removeEventListener(t.ZqEvent.HIDE_SLIP_GAME_GUIDE,this.onHideSlipHandler,this)},e.prototype.onHideSlipHandler=function(){this.disposeScene(),this.createSlipScene()},e.prototype.createGuideHand=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=.8),this.guideHand&&(this.guideHand.scaleX=i,this.guideHand.scaleY=i,this.guideHand.x=e,this.guideHand.y=t,this.guideHand.rotation=n,this.handPanel.addChild(this.guideHand))},e.prototype.addCircleEffect=function(e,t){this.circle&&(this.circle.alpha=1,this.circle.scaleX=.2,this.circle.scaleY=.2,this.circle.x=e,this.circle.y=t,this.cirPanel.addChild(this.circle))},e.prototype.betGuideEffect=function(){this.createGuideHand(80,155),this.addCircleEffect(92,258),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({y:125},400,egret.Ease.sineIn).wait(500).to({y:155},300,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).to({scaleX:1,scaleY:1,x:45,y:222,alpha:0},1400,egret.Ease.sineIn)},e.prototype.leftSlipGuideEffect=function(){this.tips||(this.tips=this.createTextField("向右滑动屏幕",35,880,58623,30),this.handPanel.addChild(this.tips)),this.createGuideHand(100,870,180,1),this.addCircleEffect(55,710),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({x:270},1200,egret.Ease.sineIn).wait(300).to({x:100},100,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).wait(200).to({scaleX:1,scaleY:1,x:225,y:650,alpha:0},1400,egret.Ease.sineIn).wait(200)},e.prototype.rightSlipGuideEffect=function(){this.tips||(this.tips=this.createTextField("向左滑动屏幕",350,880,58623,30),this.handPanel.addChild(this.tips)),this.createGuideHand(550,870,180,1),this.addCircleEffect(500,710),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({x:380},1200,egret.Ease.sineIn).wait(300).to({x:550},100,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).wait(200).to({scaleX:1,scaleY:1,x:240,y:650,alpha:0},1400,egret.Ease.sineIn).wait(200)},e.prototype.createTextField=function(e,t,n,i,r){var o=new egret.TextField;return o.x=t,o.y=n,o.fontFamily="微软雅黑",o.textColor=i,o.text=e,o.size=r,o.lineSpacing=2,o},e.prototype.disposeScene=function(){this.guideHand&&egret.Tween.removeTweens(this.guideHand),this.circle&&egret.Tween.removeTweens(this.circle),this.tips&&t.DisplayUtils.removeFromParent(this.tips),this.tips=null,this.handPanel&&t.DisplayUtils.removeAllChildren(this.handPanel),this.cirPanel&&t.DisplayUtils.removeAllChildren(this.cirPanel)},e.prototype.dispose=function(){this.removeListener(),this.disposeScene(),this.handPanel&&(t.DisplayUtils.removeAllChildren(this.handPanel),t.DisplayUtils.removeFromParent(this.handPanel)),this.handPanel=null,this.cirPanel&&(t.DisplayUtils.removeAllChildren(this.cirPanel),t.DisplayUtils.removeFromParent(this.cirPanel)),this.cirPanel=null,this.circle=null,this.guideHand=null},e}(egret.Sprite);t.GameGuide=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib,uniLib,uniLib;!function(t){var e=function(a){function e(e,t,n,i,r,o,s){void 0===t&&(t="温馨提示"),void 0===n&&(n="确定"),void 0===r&&(r="取消"),a.call(this),this.exml='<e:Skin width= "400" height= "300" xmlns:e="http://ns.egret.com/eui">\n                            <e:Image left="0" right="0" bottom="0" top="0" source="resource/assets/blue/Panel/border.png" scale9Grid="2,2,12,12" ></e:Image>\n                            <e:Group id="moveArea" top="0" right="0" left="0" height="45">\n                                <e:Image width="100%" height="100%" source="resource/assets/blue/Panel/header.png"></e:Image>\n                                <e:Label id="titleDisplay" textColor= "0x000000" horizontalCenter= "0" verticalCenter = "0" size= "20" ></e:Label>\n                            </e:Group>\n                            <e:Button id="okButton" label="touch to close" bottom="9" horizontalCenter="0" width="106" height="49" ></e:Button>\n                            <e:Button id="cacelButton" label="touch to close" bottom="9" horizontalCenter="0" width="106" height="49" ></e:Button>\n                            <e:Label id="contentText" textColor="0x000000" text="标签" y="65" width="357" textAlign="center" height="165" horizontalCenter="0" />\n                        </e:Skin>',this.skinName=this.exml,this.title=t,o?(this._cacelCall=o,this.cacelButton.visible=!0,this.okButton.horizontalCenter=-80,this.cacelButton.horizontalCenter=80):(this.cacelButton.visible=!1,this.okButton.horizontalCenter=0),i&&(this._okCall=i),s&&(this._callObj=s),this.okButton.label=n,this.contentText.text=e,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this)}return __extends(e,a),e.prototype.onTouch=function(e){switch(e.target){case this.okButton:t.PopUpMgr.removePopUp(this),this._okCall&&this._okCall.call(this._callObj);break;case this.cacelButton:t.PopUpMgr.removePopUp(this),this._cacelCall&&this._cacelCall.call(this._callObj)}},e}(eui.Panel);t.MsgBox=e}(uniLib||(uniLib={})),function(e){var t=function(){function e(e,t,n){void 0===t&&(t=5),void 0===n&&(n=10),this._prexKey="",this._minCount=0,this._maxCount=0,this.m_FishFactory={},this._prexKey=e,this._minCount=t,this._maxCount=n}return e.prototype.free=function(e){var t=this.createArray(this.key(!1)),n=t.indexOf(e);if(-1!=n){t.splice(n,1);var i=this.createArray(this.key(!0));i.push(e);for(var r=i.length>this._maxCount?i.length-this._minCount:0,o=0;o<r;)i.shift(),null,o++}},e.prototype.setCount=function(e,t){void 0===t&&(t=0),this._minCount=e,this._maxCount=t},e.prototype.active=function(e){var t,n=this.createArray(this.key(!0));return t=0==n.length?new e:n.shift(),this.createArray(this.key(!1)).push(t),t},e.prototype.isNew=function(){return 0==this.createArray(this.key(!0)).length},e.prototype.empty=function(){null!=this.m_FishFactory[this.key(!0)]&&(this.m_FishFactory[this.key(!0)]=null,delete this.m_FishFactory[this.key(!0)])},e.prototype.createArray=function(e){var t=this.m_FishFactory[e];return null==t&&(t=new Array,this.m_FishFactory[e]=t),t},e.prototype.key=function(e){return this._prexKey+"&"+(e?"free":"atv")},e.prototype.getKey=function(){return this._prexKey},e}();e.ObjectFactory=t}(uniLib||(uniLib={})),function(r){var e=function(){function e(e,t,n){void 0===t&&(t=5),void 0===n&&(n=10),this._mainKey="",this._min=0,this._max=0,this.vector=new Array,this.subKey=new Array,this._clazz=e,this._mainKey=egret.getQualifiedClassName(this._clazz),this._min=t,this._max=n}return e.prototype.free=function(e,t){this.getFactory(t).free(e)},e.prototype.active=function(e){return this.getFactory(e).active(this._clazz)},e.prototype.isNew=function(e){return this.getFactory(e).isNew()},e.prototype.setCount=function(e,t,n){void 0===n&&(n=0),this.getFactory(e).setCount(t,n)},e.prototype.empty=function(e){this.getFactory(e).empty()},e.prototype.setAllCount=function(e,t){void 0===t&&(t=0);for(var n=this.vector.length,i=0;i<n;i++)this.vector[i].setCount(e,t)},e.prototype.getFactory=function(e){for(var t,n=this.vector.length,i=0;i<n;i++)if((t=this.vector[i]).getKey()==this.key(e))return t;return t=new r.ObjectFactory(this.key(e),this._min,this._max),this.vector.push(t),t},e.prototype.key=function(e){return this._mainKey+"_"+e},e.prototype.createFactory=function(e,t,n){return void 0===n&&(n=0),new r.ObjectFactory(this.key(e),t,n)},e}();r.ObjectFactoryGroup=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(n){var e=function(t){function e(e){t.call(this),this.pages=[],this.selectIndex=-1,this.pageWidth=640,this.touchEnabled=!1,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.mask=e,this.mask&&(this.pageWidth=this.mask.width),this.btnGroup=new n.StatusBtnGroup,this.btnGroup.x=300,this.btnGroup.y=e.height-20,this.addChild(this.btnGroup)}return __extends(e,t),e.prototype.addPage=function(e){this.pages.push(e),this.childNum=this.pages.length,this.btnGroup.setChildNum(this.childNum),this.btnGroup.x=this.pageWidth/2-this.btnGroup.width/2,1<this.childNum?this.touchEnabled=!0:this.touchEnabled=!1},e.prototype.reset=function(){for(var e=0;e<this.childNum;e++)this.removePage(this.pages[e]);this.removePage(this.currentPage),this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,this.currentPage=null,this.pages.length=0,this.childNum=this.pages.length,this.btnGroup.setChildNum(0)},e.prototype.onTouchBegin=function(e){this.touchEnabled&&(this.startTouchX=e.stageX,this.currentPageX=this.currentPage.x)},e.prototype.onTouchMove=function(e){if(this.touchEnabled){var t=e.stageX-this.startTouchX;10<Math.abs(t)&&(this.touchChildren=!1,e.stopPropagation(),e.stopImmediatePropagation()),this.currentPage&&(this.currentPage.x=this.currentPageX+t,0<this.currentPage.x?(this.leftPage||0<this.selectIndex&&(this.leftPage=this.pages[this.selectIndex-1]),this.leftPage&&(this.leftPage.parent||this.addChild(this.leftPage),this.leftPage.x=this.currentPage.x-this.pageWidth)):this.currentPage.x<0&&(this.rightPage||this.selectIndex<this.childNum-1&&(this.rightPage=this.pages[this.selectIndex+1]),this.rightPage&&(this.rightPage.parent||this.addChild(this.rightPage),this.rightPage.x=this.currentPage.x+this.pageWidth)))}},e.prototype.onTouchEnd=function(e){if(this.touchEnabled){this.touchChildren=!0;var t=e.stageX-this.startTouchX;20<Math.abs(t)?(e.stopPropagation(),e.stopImmediatePropagation(),20<t?this.leftPage?(egret.Tween.get(this.currentPage).to({x:this.pageWidth},100),egret.Tween.get(this.leftPage).to({x:0},100).call(this.showLeftPageEnd,this)):(this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,egret.Tween.get(this.currentPage).to({x:0},100)):this.rightPage?(egret.Tween.get(this.currentPage).to({x:-this.pageWidth},100),egret.Tween.get(this.rightPage).to({x:0},100).call(this.showRightPageEnd,this)):(this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,egret.Tween.get(this.currentPage).to({x:0},100))):(this.leftPage&&egret.Tween.get(this.leftPage).to({x:-this.pageWidth},100),this.rightPage&&egret.Tween.get(this.rightPage).to({x:this.pageWidth},100),egret.Tween.get(this.currentPage).to({x:0},100).call(this.showCurrentPageEnd,this))}},e.prototype.showCurrentPageEnd=function(){this.leftPage=null,this.rightPage=null},e.prototype.showLeftPageEnd=function(){this.removePage(this.currentPage),this.removePage(this.rightPage),this.currentPage=this.leftPage,this.selectIndex=this.selectIndex-1,this.leftPage=null,this.rightPage=null,this.updateBtnGroupSelected()},e.prototype.showRightPageEnd=function(){this.removePage(this.currentPage),this.removePage(this.leftPage),this.currentPage=this.rightPage,this.selectIndex=this.selectIndex+1,this.leftPage=null,this.rightPage=null,this.updateBtnGroupSelected()},e.prototype.setSelectIndex=function(e){this.selectIndex=e,this.removePage(this.currentPage),this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,this.currentPage=this.pages[this.selectIndex],this.currentPage.x=0,this.addChild(this.currentPage),this.updateBtnGroupSelected()},e.prototype.getSelectIndex=function(){return this.selectIndex},e.prototype.updateBtnGroupSelected=function(){this.btnGroup.setSelectIndex(this.selectIndex)},e.prototype.setChildNum=function(e){this.childNum!=e&&(this.childNum=e)},e.prototype.getChildNum=function(){return this.childNum},e.prototype.removePage=function(e){e&&this.contains(e)&&this.removeChild(e)},e}(egret.Sprite);n.PageGroup=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib,uniLib;!function(e){var t=function(o){function e(e,t,n,i,r){void 0===n&&(n=!0),void 0===i&&(i=15461355),void 0===r&&(r=1),o.call(this),this.maxX=0,this.minX=0,this.maxY=0,this.minY=0,this.isCanRollY=!0,this.isShowBg=!0,this.bgColor=16777215,this.bgAlpha=1,this.lastGapX=0,this.lastGapY=0,this.touchEnabled=!0,this.content=e,this.content.touchEnabled=!0,this.addChild(this.content),this.maskRect=t,this.mask=this.maskRect,this.isShowBg=n,this.bgColor=i,this.bgAlpha=r,this.updateBg(),this.minX=0<this.maskRect.width-this.content.width?0:this.maskRect.width-this.content.width,this.minY=0<this.maskRect.height-this.content.height?0:this.maskRect.height-this.content.height,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.content.addEventListener(egret.Event.RESIZE,this.onContentResize,this),this.lastTouchPoint=new egret.Point}return __extends(e,o),e.prototype.updateMask=function(e){this.maskRect=e,this.mask=this.maskRect,this.updateBg(),this.onContentResize(null)},e.prototype.updateBg=function(){this.isShowBg&&(this.bgSh||(this.bgSh=new egret.Shape,this.addChildAt(this.bgSh,0)),this.bgSh.graphics.clear(),this.bgSh.graphics.beginFill(this.bgColor,this.bgAlpha),this.bgSh.graphics.drawRect(0,0,this.mask.width,this.mask.height),this.bgSh.graphics.endFill())},e.prototype.onContentResize=function(e){this.minX=0<this.maskRect.width-this.content.width?0:this.maskRect.width-this.content.width;var t=0<this.maskRect.height-this.content.height?0:this.maskRect.height-this.content.height;this.minY<t?(egret.Tween.removeTweens(this.content),this.content.y=t):(egret.Tween.removeTweens(this.content),egret.Tween.get(this.content).to({y:t},100)),this.minY=t},e.prototype.onTouchBegin=function(e){this.minX=0<this.maskRect.width-this.content.width?0:this.maskRect.width-this.content.width,this.minY=0<this.maskRect.height-this.content.height?0:this.maskRect.height-this.content.height,egret.Tween.removeTweens(this.content),this.lastTouchPoint=new egret.Point(e.stageX,e.stageY),this.firstTouchPoint=new egret.Point(e.stageX,e.stageY);var t=this.stage;t.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),t.addEventListener(egret.Event.LEAVE_STAGE,this.onLeave,this),e.preventDefault()},e.prototype.onTouchMove=function(e){this.isCanRollX&&this.checkX(e.stageX),this.isCanRollY&&this.checkY(e.stageY)},e.prototype.checkX=function(e){var t=0;if(0<this.firstTouchPoint.x){if(t=e-this.firstTouchPoint.x,Math.abs(t)<20)return;this.firstTouchPoint.x=-1}t=e-this.lastTouchPoint.x,this.lastGapX=t,0<this.content.x+t?this.content.x=this.content.x+t/2:this.content.x+t<this.minX?this.content.x=this.content.x+t/2:this.content.x=this.content.x+t,this.lastTouchPoint.x=e},e.prototype.checkY=function(e){var t=0;if(0<this.firstTouchPoint.y){if(t=e-this.firstTouchPoint.y,Math.abs(t)<20)return;this.firstTouchPoint.y=-1}t=e-this.lastTouchPoint.y,this.lastGapY=t,0<this.content.y+t?this.content.y=this.content.y+t/2:this.content.y+t<this.minY?this.content.y=this.content.y+t/2:this.content.y=this.content.y+t,this.lastTouchPoint.y=e},e.prototype.onTouchEnd=function(e){e.stopPropagation(),e.stopImmediatePropagation(),this.content.touchChildren=!0,egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this);var t=1e3;if(this.isCanRollX)if(5<Math.abs(this.lastGapX)&&this.content.x<0&&this.content.x>this.minX){var n=this.content.x+30*this.lastGapX;0<n?n/=2:n<this.minX&&(n-=(n-this.minX)/2),egret.Tween.get(this.content).to({x:n},t,egret.Ease.circOut).call(function(){this.rollEnd()},this)}else this.rollEnd();if(this.isCanRollY)if(5<Math.abs(this.lastGapY)&&this.content.y<0&&this.content.y>this.minY){var i=this.content.y+30*this.lastGapY;0<i?((i/=2)>this.maskRect.height/2&&(i=this.maskRect.height/2),t=500):i<this.minY&&((i-=(i-this.minY)/2)<this.minY-this.maskRect.height/2&&(i=this.minY-this.maskRect.height/2),t=500),egret.Tween.get(this.content).to({y:i},t,egret.Ease.circOut).call(function(){this.rollEnd()},this)}else this.rollEnd()},e.prototype.rollEnd=function(){0<this.content.x?egret.Tween.get(this.content).to({x:0},200):this.content.x<this.minX&&egret.Tween.get(this.content).to({x:this.minX},200),0<this.content.y?egret.Tween.get(this.content,null,null,!0).to({y:0},200):this.content.y<this.minY&&egret.Tween.get(this.content).to({y:this.minY},200)},e.prototype.onLeave=function(e){this.onTouchEnd(null)},e}(egret.Sprite);e.Scroller=t}(uniLib||(uniLib={})),function(t){var e=function(){function e(e,t,n,i){this.curDir="center",this.left=t,this.right=n,this.center=e,this.stage=i,this.addListener()}return e.prototype.addListener=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},e.prototype.removeListener=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},e.prototype.initStatus=function(){"center"!=this.curDir&&("left"==this.curDir?(this.disposeLeftBar(),this.onTrunCenter()):"right"==this.curDir&&(this.disposeRightBar(),this.onTrunCenter()))},e.prototype.showLeftBar=function(){"left"!=this.curDir&&this.onTrunRight()},e.prototype.onTouchBegin=function(e){this.center.touchEnabled&&(this.startTouchPoint=new egret.Point(e.stageX,e.stageY))},e.prototype.onTouchMove=function(e){var t=e.stageX-this.startTouchPoint.x,n=e.stageY-this.startTouchPoint.y;20<=Math.abs(t)&&Math.abs(t)>=Math.abs(n)&&(this.canShowBar=!0,this.center.touchChildren=!1)},e.prototype.onTouchEnd=function(e){if(this.canShowBar&&(this.canShowBar=!1,this.center.touchEnabled)){this.center.touchChildren=!0;var t=e.stageX-this.startTouchPoint.x;20<Math.abs(t)?20<t?"center"==this.curDir?this.onTrunRight():"right"==this.curDir&&(this.disposeRightBar(),this.onTrunCenter()):"center"==this.curDir?this.onTrunLeft():"left"==this.curDir&&(this.disposeLeftBar(),this.onTrunCenter()):(this.disposeLeftBar(),this.disposeRightBar(),this.onTrunCenter())}},e.prototype.onTrunRight=function(){egret.Tween.get(this.center).to({x:this.left.width},500).call(this.disposeTween,this,[this.center]),1==t.UserInfo.slipStatus&&(t.UserInfo.slipStatus=2),this.curDir="left",egret.Tween.get(this.left).to({x:0},500).call(this.disposeTween,this,[this.left]),t.ZqListener.getInstance().dispatchEvent(new t.ZqEvent(t.ZqEvent.HIDE_SLIP_GAME_GUIDE))},e.prototype.onTrunLeft=function(){egret.Tween.get(this.center).to({x:-this.right.width},500).call(this.disposeTween,this,[this.center]),t.UserInfo.slipStatus=0,this.curDir="right",egret.Tween.get(this.right).to({x:t.Global.screenWidth-this.right.width},500).call(this.disposeTween,this,[this.right]),t.ZqListener.getInstance().dispatchEvent(new t.ZqEvent(t.ZqEvent.HIDE_SLIP_GAME_GUIDE))},e.prototype.onTrunCenter=function(){this.curDir="center",egret.Tween.get(this.center).to({x:0},500).call(this.disposeTween,this,[this.center])},e.prototype.disposeLeftBar=function(){this.left&&egret.Tween.get(this.left).to({x:-this.left.width},500).call(this.disposeTween,this,[this.left])},e.prototype.disposeRightBar=function(){this.right&&egret.Tween.get(this.right).to({x:t.Global.screenWidth},500).call(this.disposeTween,this,[this.right])},e.prototype.disposeTween=function(e){e&&egret.Tween.removeTweens(e)},e.prototype.dispose=function(){this.removeListener()},e}();t.SlideBar=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(e){var t=function(n){function e(e,t){n.call(this),this.index=-1,this.normalTexture=e,this.selectedTexture=t,this.normalBitmap=new egret.Bitmap(this.normalTexture),this.selectedBitmap=new egret.Bitmap(this.selectedTexture),this.addChild(this.normalBitmap)}return __extends(e,n),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!=e&&(this._selected=e,this._selected?(this.addChild(this.selectedBitmap),this.contains(this.normalBitmap)&&this.removeChild(this.normalBitmap)):(this.addChild(this.normalBitmap),this.contains(this.selectedBitmap)&&this.removeChild(this.selectedBitmap)))},enumerable:!0,configurable:!0}),e}(egret.Sprite);e.StatusBtn=t}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(t){var e=function(i){function e(e,t,n){void 0===n&&(n=10),i.call(this),this.selectIndex=0,this.btns=[],this.gap=10,this.normalTexture=e,this.selectedTexture=t,this.gap=n,this.init()}return __extends(e,i),e.prototype.setSelectIndex=function(e){this.selectIndex=e,this.selectIndex>=this.btns.length&&(this.selectIndex=this.btns.length-1),this.currentSelecedBtn&&(this.currentSelecedBtn.selected=!1),this.currentSelecedBtn=this.btns[this.selectIndex],this.currentSelecedBtn.selected=!0},e.prototype.getSelectIndex=function(){return this.selectIndex},e.prototype.setChildNum=function(e){if(this.childNum!=e){if(this.childNum=e,this.childNum<=this.btns.length)this.btns.length=this.childNum;else for(var t=this.btns.length;t<this.childNum;t++)this.btns.push(this.getNewBtn());this.resetChildren()}},e.prototype.getChildNum=function(){return this.childNum},e.prototype.resetChildren=function(){if(this.removeChildren(),!(this.btns.length<2)){for(var e,t=0;t<this.btns.length;t++)(e=this.btns[t]).selected=!1,e.x=t*(e.width+this.gap),this.addChild(e);this.setSelectIndex(this.selectIndex)}},e.prototype.getNewBtn=function(){return new t.StatusBtn(this.normalTexture,this.selectedTexture)},e.prototype.init=function(){var e,t;this.normalTexture||((e=new egret.Shape).graphics.beginFill(11119017),e.graphics.drawCircle(5,5,5),e.graphics.endFill(),(t=new egret.RenderTexture).drawToTexture(e),this.normalTexture=t),this.selectedTexture||((e=new egret.Shape).graphics.beginFill(7172728),e.graphics.drawCircle(5,5,5),e.graphics.endFill(),(t=new egret.RenderTexture).drawToTexture(e),this.selectedTexture=t)},e}(egret.Sprite);t.StatusBtnGroup=e}(uniLib||(uniLib={}));var CommonConsts=function(){function e(){}return e.LOBBY_LASTGAME="lobby_lastGame",e}(),uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib;!function(e){var t=function(){function e(){this._funcMap={}}return e.prototype.dispatch=function(e,t){void 0===t&&(t=null);var n=this._funcMap[e],i=0;if(null!=n){for(;i<n.length;)n[i]&&n[i][0].call(n[i][1],t),i++;return!0}},e.prototype.addListener=function(e,t,n){this._funcMap[e]?-1==this.getNoticeIndex(e,t,n)&&this._funcMap[e].push([t,n]):(this._funcMap[e]=[],this._funcMap[e].push([t,n]))},e.prototype.hasListener=function(e){return!!(this._funcMap[e]&&0<this._funcMap[e].length)},e.prototype.removeListener=function(e,t,n){if(this._funcMap[e]){var i=this.getNoticeIndex(e,t,n);-1!=i&&this._funcMap[e].splice(i,1)}},e.prototype.getNoticeIndex=function(e,t,n){var i=this._funcMap[e];for(var r in i)if(i[r][0]==t&&i[r][1]==n)return Number(r);return-1},e}();e.Dispatcher=t}(uniLib||(uniLib={})),function(e){var t;(t=e.UserInfoEnum||(e.UserInfoEnum={}))[t.CHIPS=0]="CHIPS",t[t.FREECHIPS=1]="FREECHIPS",t[t.PLAT_POINT=2]="PLAT_POINT",t[t.BANK_CHIPS=3]="BANK_CHIPS",t[t.NICKNAME=4]="NICKNAME",t[t.GIFTCOUPON=5]="GIFTCOUPON",t[t.HEADURL=6]="HEADURL",t[t.GOLDCHIPS=7]="GOLDCHIPS",t[t.FANGKA=8]="FANGKA";e.UserInfoEnum}(uniLib||(uniLib={})),function(e){var t=function(){function t(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.CLASS_NAME="ZqEvent",this.type=e,this._obj=t}return t.prototype.clone=function(e){return new t(this.type,e||this._obj)},t.prototype.toString=function(){e.Console.log(this.CLASS_NAME,"type","bubbles","cancelable")},Object.defineProperty(t.prototype,"param",{get:function(){return this._obj},enumerable:!0,configurable:!0}),t.CHAT_ROOM="chat_room",t.CHAT_PRIVATE="chat_private",t.CHAT_SYSTEM="chat_system",t.CHAT_IMPORTANT="chat_important",t.EVENT_L2G_NOTICE="event_l2g_notice",t.CHAT_GM="chat_gm",t.GM_BEFORE="gm_before",t.GM_END="gm_end",t.CHAT_HORN="chat_horn",t.USER_INFO="user_info",t.CHAT_HUNDRED="chat_hundred",t.UPDATE_USER_INFO="update_user_info",t.CHECK_VERSION_UPDATE="check_version_update",t.COMMON_MODEL="common_model",t.EVENT_L2G="event_l2g",t.EVENT_G2L="event_g2l",t.EVENT_ACTIVE_SOCKET_CACHE_OK="on_active_socket_cache_ok",t.EVENT_SERVER_SHUTDOWN="on_server_shutdown",t.EVENT_SERVER_DEBUG_LEVEL="on_server_debug_level",t.GM_INFO="gm_info",t.KICK_OUT="kick_out",t.ON_RECONNEC="on_reconnect",t.ON_SERVER_SHUTDOWN="on_server_shutdown",t.ON_GETZONEINFO="on_get_zoneinfo",t.ON_RESTART="on_restart",t.NET_ERRER="net_error",t.SHARE="share",t.TASK_EVENT="task_event",t.ONLINE_NUM="online_num",t.HIDE_SLIP_GAME_GUIDE="hide_slip_game_guide",t.NATIVE_TO_EGERET="native_to_egret",t}();e.ZqEvent=t}(uniLib||(uniLib={})),function(t){var e=function(){function e(){this.CLASS_NAME="ZqListener",this.isInit=!1,this.isInit,null==this._dispatcher&&(this._dispatcher=new t.Dispatcher,this.isInit=!0)}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addEventListener=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),this._dispatcher.addListener(e,t,n)},e.prototype.hasEventListener=function(e){return this._dispatcher.hasListener(e)},e.prototype.removeEventListener=function(e,t,n,i){void 0===i&&(i=!1),this._dispatcher.removeListener(e,t,n)},e.prototype.dispatchEvent=function(e){return this._dispatcher.dispatch(e.type,e)},e.prototype.toString=function(){return this._dispatcher.toString()},e}();t.ZqListener=e}(uniLib||(uniLib={})),function(e){var t=function(){};e.RoomInfo=t;var n=function(){this.showBack=!0,this.defaultOrientation="auto",this.isLandscape=!0,this.preloadUIAutoHide=!0,this.candestroyGrps=[],this.hasTestChips=!1};e.IGameConfig=n}(uniLib||(uniLib={})),function(e){var t=function(){};(uniLib||(uniLib={})).IUserInfo=t}(),function(l){var e=function(){function e(){this._models={}}return Object.defineProperty(e,"Instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),e.prototype.addEvents=function(){},e.prototype.registerCommonModel=function(e,t,n){null==this._models[e]?(this._models[e]=t,this._models["loadName_"+e]=n):l.Console.warn("registerCommonModel:公用模块只能注册一次")},e.prototype.openCommonModel=function(e,t,n,i,r){var o;if(void 0===t&&(t=0),this._models[e]){var s=this;return this._models["loadName_"+e]?l.ResLoadMgr.instance.load(this._models["loadName_"+e],a,function(){l.Console.error("加载资源组失败:loadName_"+e)},null,l.UIMgr.instance.tipsLoadUI,!0,!0):a(),o}function a(){i?(o=new s._models[e](n),i.call(r,o)):0==t?(o=new s._models[e](n),l.PopUpMgr.addPopUp(o,null,!0,!0)):l.UIMgr.instance.showUI(s._models[e],n)}},e.prototype.showCommonUI=function(e,t){if(this._models[e])return l.UIMgr.instance.showUI(this._models[e],t)},e.prototype.getCommonUI=function(e,t){if(this._models[e])return new this._models[e](t)},e._self=null,e}();l.CommonModelMgr=e}(uniLib||(uniLib={})),function(g){var e=function(){function p(){}return p.reQuestZoneList=function(e,t,n,i,r){if(this.http)this.http.requestZoneList(e,n,r);else{var o=new g.HttpClient;o.init(t,e),o.requestZoneList(e,n,r)}},p.init=function(e,t,n,i,r,o,s){if(this.LoginUrl=e,t&&(g.Global.gameId=t),t&&g.Global.zoneList)for(var a=g.Global.zoneList.length-1;0<=a;a--)t==g.Global.zoneList[a].gameid&&(n=g.Global.zoneList[a].zoneid);0==g.Global.lobbyGameId&&(g.Global.lobbyGameId=t),null==this.http||this.LoginUrl!=this.http.LoginUrl?(this.http=new g.HttpClient,this.http.init(e,t,n),s&&(this.http.GatewayUrl=s),i&&null!=i&&this.http.h5platLogin(null,i,r,o)):i&&i.call(o,g.Global.platInfo)},p.getPlatToken=function(n,i,e,t,r){g.Utils.getLocalStorage(t+"|"+e+"|platToken",function(e){var t;e&&(t=JSON.parse(e),p.UID=Number(t.uid),p.PlatUID=t.uid,g.BrowersUtils.extData.inviter=p.UID.toString(),p.SID=t.sid,t.GatewayUrl&&p.http&&(p.http.GatewayUrl=t.GatewayUrl),p.PlatToken=t.unigame_plat_login,p.PlatKey=t.unigame_plat_key,p.platTokenTimeOut=t.unigame_plat_login_life,null!=t.platinfo&&(g.Global.platInfo?g.Global.platInfo.platid=t.platinfo.platid:g.Global.platId=t.platinfo.platid,p.PlatUID=t.platinfo.uid,p.PlatSession=t.platinfo.sign)),n.call(i,t)})},p.h5platLogin=function(e,t,n,i){this.http?this.http.h5platLogin(e,t,n,i):g.Console.warn("请先使用NetMgr.init初始化网络模块!")},p.initSocket=function(t,r,o,e,n,i,s,a,l){void 0===s&&(s=!1),void 0===a&&(a=!1);var c=this;if(this.ws&&0==this.ws.isConnected&&(this.ws.close(!1),this.ws=null),null==this.ws){if(o.loopback)return c.ws=new g.JsonSocket(null,c.http.GameID,0,!1),c.ws.login(t,null,o),void t.call(o);var u=function(e,t,n){return null==e?(g.Console.warn("initSocket:网络请求失败,请检查网络"),r&&r.call(o)):(1==g.Global.isNative&&0<=e.jsongatewayurl.indexOf("wss://")&&(1==g.Global.initOpt.wssMode||(e.jsongatewayurl=e.jsongatewayurl.replace("wss://","ws://"))),g.Global.logintempid=e.logintempid,!g.Global.LobbyPlatInfo||l&&""!=l||(g.Global.LobbyPlatInfo.GatewayUrlWs=e.jsongatewayurl),c.ws=new g.JsonSocket(e.jsongatewayurl,c.http.GameID,c.http.ZoneID,s,c),(i=new Pmd.UserLoginTokenLoginUserPmd_C).gameid=c.http.GameID,i.zoneid=c.http.ZoneID,i.accountid=e.accountid,i.logintempid=e.logintempid,g.Global.zipmd5&&(i.zipmd5=g.Global.zipmd5),g.Global.cfgmd5&&!g.StringUtils.stringIsNullOrEmpty(g.Global.cfgmd5)?i.configmd5=g.Global.cfgmd5:g.Global.configmd5&&(i.configmd5=g.Global.configmd5),g.Global.bundleId&&(i.bundlename=g.Global.bundleId),i.timestamp=Math.floor(Date.now()/1e3),a&&(i.lastseq=4294967295),null==p.PlatKey&&(p.PlatKey=""),i.tokenmd5=""+g.StringUtils.MD5(String(i.accountid)+String(i.logintempid)+String(i.timestamp)+p.PlatKey),i.compress=g.CompressUtil.compressStr[g.Global.compressType],0<g.Global.compressMin&&(i.compressmin=g.Global.compressMin),i.version=20160805,i.url=e.jsongatewayurl,c.ws.loginData=i,c.ws.login(t,n,o)),!0;var i};if(g.Global.LobbyPlatInfo&&g.Global.LobbyPlatInfo.GatewayUrlWs||l&&""!=l){var d=new Pmd.WebSocketForwardUserPmd_S;return d.accountid=Number(p.UID),d.logintempid=g.Global.logintempid?g.Global.logintempid:0,l&&""!=l?d.jsongatewayurl=l:g.Global.LobbyPlatInfo&&g.Global.LobbyPlatInfo.GatewayUrlWs&&(d.jsongatewayurl=g.Global.LobbyPlatInfo.GatewayUrlWs),u(d,t,r)}var h=new Pmd.WebSocketForwardUserPmd_C;h.accountid=Number(p.UID),this.httpSend(h,function(e){return u(e,t,r)})}},p.getThirdPlatId=function(){return this.PlatUID},p.getIp=function(e,t,n){var i=new g.HttpRequest(e,null,t);n||(n=g.Global.ipUrl),i.open(n),i.send()},p.logout=function(){g.Utils.clearLocalStorage(g.Global.gameId+"|"+g.Global.getPlatId()+"|platToken"),this.UID=0,this.ZoneUID="",this.SID="",this.PlatUID="",this.PlatSession="",this.PlatToken="",this.PlatKey="",this.platTokenTimeOut=0,this.http=null,this.closeSocket(),p.UID=0,p.ZoneUID="",p.SID="",p.PlatUID="",p.PlatSession="",p.PlatToken="",p.PlatKey="",p.platTokenTimeOut=0,p.http=null,p.closeSocket(),g.Global.platInfo=null,g.Global.LobbyPlatInfo=null,g.SceneMgr&&g.Global.LoginScene&&g.SceneMgr.instance.changeScene(g.Global.LoginScene)},p.closeSocket=function(){this.ws&&(this.ws.close(!1),this.ws=null)},p.httpSend=function(e,t,n){this.http?this.http.send(e,t,n):g.Console.warn("httpSend:网络不可用,请检查网络")},p.tcpSend=function(e){if(this.ws){var t=e.GetType?e.GetType():e.cmd_name||e.do;"Pmd.UserLoginTokenLoginUserPmd_C"!=t&&"Pmd.TickReturnNullUserPmd_CS"!=t&&"Pmd.PrivateChatUserPmd_CS"!=t&&"Pmd.GMCommandListChatUserPmd_S"!=t&&"Pmd.UserLoginReconnectLoginUserPmd_C"!=t&&"Pmd.SetTickTimeoutNullUserPmd_CS"!=t&&"Pmd.CommonChatUserPmd_CS"!=t&&"Pmd.GMCommandChatUserPmd_C"!=t?this.ws.send(e):this.ws.sendPlat(e)}else g.Utils.restart("网络不可用,点击确定重试","确定"),g.Console.warn("tcpSend:网络不可用,请检查网络:"+JSON.stringify(e))},p.sendEcho=function(e){void 0===e&&(e=8),this.ws&&this.ws.setMsgTimeout(e,"")&&this.ws.sendEcho()},p.setTickSec=function(e){void 0===e&&(e=30),this.ws&&this.ws.setTickSec(e)},p.sendChatVo=function(e,t){var n;switch(void 0===t&&(t=Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal),t){case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal:case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_None:(n=new Pmd.CommonChatUserPmd_CS).info=e.msg,n.chatpos=t,n.name=name;break;case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Private:(n=new Pmd.PrivateChatUserPmd_CS).info=e.msg,n.id=e.userId,n.name=e.userName;break;default:(n=new Pmd.CommonChatUserPmd_CS).info=e.msg,n.chatpos=t}this.tcpSend(n)},p.sendChat=function(e,t,n){void 0===n&&(n=Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal);try{var i=0;if(e.match(/^[//]/)){var r,o=e.substring(2,e.length),s=(o.split(" "),new Pmd.GMCommandChatUserPmd_C);switch(s.method=s.method=o.substring(0,-1<o.indexOf(" ")?o.indexOf(" "):o.length),s.params=g.StringUtils.sTrim(o.substring(o.indexOf(" "),o.length)),s.method){case"peer":var a=g.StringUtils.getVariables(s.params);g.UserInfo&&(g.UserInfo.uid=Number(a.id))}if(r=g.getDefinitionByName("uniLib.GM_Before"))try{r(s,function(){p.tcpSend(s)})}catch(e){}else p.tcpSend(s)}else{var l;e.match(/^\[.+\]:/)&&(i=Number(e.substring(0,e.indexOf(":")).slice(1,-1)),e=e.substring(e.indexOf(":")+1,e.length)),0!=i?((l=new Pmd.PrivateChatUserPmd_CS).info=e,l.id=i):((l=new Pmd.CommonChatUserPmd_CS).info=e,l.chatpos=n),l.name=t,this.tcpSend(l)}}catch(e){g.Console.warn("ws网络不可用,请检查网络")}},p.GetPhoneCode=function(e,t,n,i,r){var o=new Pmd.MobileRegistRequestRandCodeLoginUserPmd_C,s=o.GetType?o.GetType():o.cmd_name||o.do;o.mobilenum=e,o.gameid=this.http.GameID;var a=r||this.http.LoginUrl;this.http.sendTo(a,s,o,n)},p.getEmailCode=function(e,t,n,i,r,o){var s=new Pmd.EmailRegistRequestRandCodeLoginUserPmd_C;s.email=e,s.gameid=this.http.GameID,t&&(s.optype=t),this.http.initCallBack(n,i,r);var a=o||this.http.LoginUrl;this.http.sendTo(a,s.GetType(),s,function(e){return!0})},p.CodeLogin=function(e,t,n,i,r,o,s,a,l){void 0===r&&(r=0);var c=this,u=new Pmd.MobileRegistRequestCreateAccountLoginUserPmd_C;u.mobilenum=e,u.randcode=t,u.password=n,r&&(u.optype=r),i&&(u.parent=i),this.http.initCallBack(o,s,a);var d=l||this.http.LoginUrl;this.http.sendTo(d,u.GetType(),u,function(e){return c.http.cachePhoneLoginInfo(e,Pmd.PlatType.PlatType_MOBILE),c.http.h5platLogin(),!0})},p.emailLogin=function(e,t,n,i,r,o,s,a,l,c){void 0===i&&(i=0);var u=this,d=new Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C;d.email=e,d.parent=r,d.password=t,d.mobilenum=o,d.randcode=n,i&&(d.optype=i),this.http.initCallBack(s,a,l),g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken");var h=c||this.http.LoginUrl;this.http.sendTo(h,d.GetType(),d,function(e){return e?(u.http.cachePhoneLoginInfo(e,128),u.http.h5platLogin(),!0):a(e)})},p.LoginByTel=function(e,t,n,i,r,o){var s=this,a=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;a.platid=129,a.gameid=this.http.GameID,a.account=e,a.password=t,this.http.initCallBack(n,i,r),g.Utils.clearLocalStorage(this.http.GameID+"|129|platToken");var l=o||this.http.LoginUrl;this.http.sendTo(l,a.GetType(),a,function(e){if(e)return s.http.cachePhoneLoginInfo(e,a.platid),s.http.h5platLogin(),!0})},p.LoginByEmail=function(e,t,n,i,r,o){var s=this,a=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;a.platid=128,a.gameid=this.http.GameID,a.account=e,a.password=t,this.http.initCallBack(n,i,r),g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken");var l=o||this.http.LoginUrl;this.http.sendTo(l,a.GetType(),a,function(e){return s.http.cachePhoneLoginInfo(e,a.platid),s.http.h5platLogin(),!0})},p.clearGateWay=function(){g.Global.LobbyPlatInfo.GatewayUrl&&delete g.Global.LobbyPlatInfo.GatewayUrl,g.Global.LobbyPlatInfo.GatewayUrlWs&&delete g.Global.LobbyPlatInfo.GatewayUrlWs;var e=g.Utils.getLocalStorage(g.Global.lobbyGameId+"|"+g.Global.getPlatId()+"|platToken");e&&(e.GatewayUrlWs&&delete e.GatewayUrlWs,e.GatewayUrl&&delete e.GatewayUrl,g.Global.setPlatToken(e,g.Global.getPlatId(),g.Global.lobbyGameId))},p.LoginByAccount=function(e,t,n,i,r,o){var s=this,a=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;a.platid=Pmd.PlatType.PlatType_MOBILE,g.StringUtils.checkPhone(e)?a.platid=Pmd.PlatType.PlatType_MOBILE:a.platid=128,a.gameid=this.http.GameID,a.account=e,a.password=t,g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken"),this.http.initCallBack(n,i,r);var l=o||this.http.LoginUrl;this.http.sendTo(l,a.GetType(),a,function(e){if(e)return s.http.cachePhoneLoginInfo(e,a.platid),s.http.h5platLogin(),!0;i&&i.call(r)})},p.bindAccount=function(e,t,n,i,r,o){var s=new Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C;s.email=e,s.password=t,s.isbind=!0,s.uid=this.UID;var a=o||this.http.LoginUrl;this.http.sendTo(a,s.GetType(),s,function(e){return 0==e.retcode?n.call(r):i.call(r),!0})},p.accountLogin=function(e,t,n,i,r,o){var s=this,a=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;a.platid=128,a.gameid=this.http.GameID,a.account=e,a.password=t,g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken"),this.http.initCallBack(n,i,r);var l=o||this.http.LoginUrl;this.http.sendTo(l,a.GetType(),a,function(e){return s.http.cachePhoneLoginInfo(e,a.platid),s.http.h5platLogin(),!0})},p.checkMsgTimeout=function(e){return null==this.ws||(new Date).getTime()-this.ws.lastRecvTime>=e},p.setMsgTimeout=function(e,t){return null!=this.ws&&this.ws.setMsgTimeout(e,t)},p}();g.NetMgr=e;var t=function(){this.userId="",this.type=0,this.userName=""};g.ChatMsgItemVo=t}(uniLib||(uniLib={})),function(s){var e=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),e.prototype.initPayPlatById=function(e,t,n){var i=this;if(0!=this.isOpen&&(e&&null!=e||(e=s.Global.platInfo.platid),s.Global.isH5))switch(e){case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_LeZhuan:s.BrowersUtils.LoadJS("aibei",s.BrowersUtils.getPlatLibDir()+"aibei_v1.1.0.js"),null!=t&&(n?t.call(n,e):t(e));break;case Pmd.PlatType.PlatType_Play68:s.BrowersUtils.LoadJS("play68",s.BrowersUtils.getPlatLibDir()+"play68_sdk.js",t,n);break;case Pmd.PlatType.PlatType_WeChat:s.BrowersUtils.LoadJS("weixin",s.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){i.initWechat(t,n)});break;case Pmd.PlatType.PlatType_WEIYOU:s.Global.appId="wxa569805aa50c7fa7",s.BrowersUtils.LoadJS("weixin",s.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){i.initWechat(t,n)});break;case Pmd.PlatType.PlatType_RONGQIANG:s.Global.appId="wx463fb53ff525bbaa",s.BrowersUtils.LoadJS("weixin",s.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){i.initWechat(t,n)});break;case Pmd.PlatType.PlatType_DAPAI:s.BrowersUtils.LoadJS("dapai",s.BrowersUtils.getPlatLibDir()+"dapaisdk.js",t,n);break;case Pmd.PlatType.PlatType_AoXin:s.BrowersUtils.LoadJS("aoxin","http://libs.baidu.com/jquery/1.10.2/jquery.min.js",function(){s.BrowersUtils.LoadJS("aoxin","http://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){s.BrowersUtils.LoadJS("aoxin",s.BrowersUtils.getPlatLibDir()+"aoxinShare.js",t,n)})});break;case Pmd.PlatType.PlatType_HUOSU:s.BrowersUtils.LoadJS("huosu","http://yun.huosu.com/src/api/js/huosuh5sdk.js",function(){n?t.call(n,e):t(e)},n);break;case Pmd.PlatType.PlatType_Egret:s.BrowersUtils.LoadJS("nest",s.BrowersUtils.getPlatLibDir()+"nest.min.js",function(){n?t.call(n,e):t(e)},n);break;case Pmd.PlatType.PlatType_9g:window.parent.postMessage({action:"share",data:{},imgurl:s.Global.shareData.imgUrl,title:s.Global.shareData.title,content:s.Global.shareData.desc},"*");break;default:null!=t&&(n?t.call(n,e):t(e))}},e.prototype.initWechat=function(e,t){if(null!=s.Global.shareData){var n="http://weixin.zqgame.com/GetJsSdkTicket?appid="+s.Global.appId+"&url="+encodeURIComponent(location.href.split("#")[0]),i=s.BrowersUtils.getXHR();i.open("GET",n,!0),i.setRequestHeader("Content-Type","multipart/form-data"),i.responseType="text",i.send();var r=this;i.onreadystatechange=function(){4==i.readyState&&(400<=i.status||0==i.status||0<i.responseText.length&&r.initWechatInfo(i.responseText,e,t))}}},e.prototype.initWechatInfo=function(e,t,n){try{this.signPackage=JSON.parse(e),this.getWeiXinConfig(),wx.ready(function(){s.BrowersUtils.setShareInfo()})}catch(e){console.error("获取微信权限失败")}t&&t.call(n)},e.prototype.getWeiXinConfig=function(){var e={debug:!1};e.appId=this.signPackage.appid,e.timestamp=this.signPackage.timestamp,e.nonceStr=this.signPackage.nonceStr,e.signature=this.signPackage.signature,e.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseWXPay","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","translateVoice","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(e)},e.prototype.pay=function(e,t,n){if(1==s.Global.isH5)switch(Number(e.payplatid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_Normal:this.payAiBei(e.platOrder,s.BrowersUtils.getLocationUrl(),e.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=t,Play68.pay(e.gameOrder,e.goodName,e.price/100,e.count);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:s.BrowersUtils.redirectUrl(e.payUrl);break;case Pmd.PlatType.PlatType_9g:var i={action:"pay",orderid:e.gameOrder,money:e.price,product:e.goodName,spid:"aaayxzx",sign:e.sign,uid:s.Global.platInfo.uid,token:s.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(i,"*");break;case Pmd.PlatType.PlatType_1758:s.BrowersUtils.parentRedirectUrl(s.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var r=e.sign.split("|");this.payWechat(r[0],r[1],r[2],r[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=s.BrowersUtils.getLocationUrl(),yunyou.order_token=e.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var o={goodsId:e.goodId,goodsNum:e.count,out_orderno:e.gameOrder};HuoSuSdk.pay(o,t,"返回游戏")}else s.ZQGameSdk&&s.ZQGameSdk.pay(e,t,n)},e.prototype.payByPmd=function(n,i,r){if(1==s.Global.isH5)switch(Number(n.payplatid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_Normal:this.payAiBei(n.platorder,s.BrowersUtils.getLocationUrl(),n.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=i,Play68.pay(n.gameorder,n.gamemoney.toString(),n.ordermoney/100,n.goodnum);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:s.BrowersUtils.redirectUrl(n.redirecturl);break;case Pmd.PlatType.PlatType_9g:var e={action:"pay",orderid:n.gameorder,money:n.ordermoney,product:n.gamemoney,spid:"aaayxzx",sign:n.sign,uid:s.Global.platInfo.uid,token:s.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(e,"*");break;case Pmd.PlatType.PlatType_1758:s.BrowersUtils.parentRedirectUrl(s.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var t=n.sign.split("|");this.payWechat(t[0],t[1],t[2],t[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=s.BrowersUtils.getLocationUrl(),yunyou.order_token=n.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var o={goodsId:n.goodid,goodsNum:n.goodnum,out_orderno:n.gameorder};HuoSuSdk.pay(o,i,"返回游戏")}else s.ZQGameSdk&&s.ZQGameSdk.payByPmd(n,function(e){if(0==e.code){var t=new Pmd.RechargeQueryRequestIOSSdkPmd_C;t.gameorder=n.gameorder,t.originalmoney=n.ordermoney,t.roleid=s.NetMgr.UID,t.ordermoney=n.ordermoney,t.token=n.sign,e.data&&e.data.paytoken&&(t.token=e.data.paytoken),t.extdata=n.data.extdata,t.payplatid=n.payplatid,s.NetMgr.tcpSend(t)}i&&i(e,r)},r)},e.prototype.weChatPay=function(e,t,n){if(1==s.Global.isH5)switch(Number(s.Global.platInfo.platid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_Normal:this.payAiBei(e.platorder,s.BrowersUtils.getLocationUrl(),e.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=t,Play68.pay(e.gameorder,"",e.ordermoney/100,e.goodnum);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:s.BrowersUtils.redirectUrl(e.redirecturl);break;case Pmd.PlatType.PlatType_9g:var i={action:"pay",orderid:e.gameorder,money:e.ordermoney,product:e.goodnum,spid:"aaayxzx",sign:e.sign,uid:s.Global.platInfo.uid,token:s.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(i,"*");break;case Pmd.PlatType.PlatType_1758:s.BrowersUtils.parentRedirectUrl(s.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var r=e.sign.split("|");this.payWechat(r[0],r[1],r[2],r[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=s.BrowersUtils.getLocationUrl(),yunyou.order_token=e.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var o={goodsId:e.goodid,goodsNum:e.goodnum,out_orderno:e.gameorder};HuoSuSdk.pay(o,t,"返回游戏")}},e.prototype.payAiBei=function(e,t,n,i,r){if(null==this.aibeiPay&&(this.aibeiPay=new AiBeiPay,window.aibeiBack=r),null!=e){var o={};o.transId=e,o.baseZIndex=100,o.closeTxt="返回游戏",o.redirecturl=t,o.sign=n,this.aibeiPay.clickAibei(o)}},e.prototype.payWechat=function(e,t,n,i){var r=function(){window.WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:s.Global.appId,timeStamp:i,nonceStr:t,package:"prepay_id="+n,signType:"MD5",paySign:e},function(e){e.err_msg})};void 0===window.WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",r,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",r),document.attachEvent("onWeixinJSBridgeReady",r)):r()},e._self=null,e}();s.PayMgr=e}(uniLib||(uniLib={})),function(m){var e,t=function(){function e(){}return e.init=function(e){e?this._container=e:m.SceneMgr.instance.currentScene.topLayer?this._container=m.SceneMgr.instance.currentScene.topLayer:this._container=m.SceneMgr.instance.currentScene},e.addPopUp=function(e,t,n,i,r,o,s,a,l){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0);var c=m.Global.screenWidth,u=m.Global.screenHeight;e.prototype&&(e=new e(l));var d=egret.getQualifiedClassName(e);null==this.popupDic[d]&&(this.popupDic[d]=[]),this.popupDic[d].push(e),null!=this._container&&null!=this._container.parent||m.SceneMgr.instance.currentScene&&(m.SceneMgr.instance.currentScene.topLayer?this._container=m.SceneMgr.instance.currentScene.topLayer:this._container=m.SceneMgr.instance.currentScene),1!=m.SceneMgr.instance.currentScene.scaleX&&(c=m.Global.designHeight/m.SceneMgr.instance.currentScene.scaleX,u=m.Global.designWidth/m.SceneMgr.instance.currentScene.scaleY);var h=null==t?this._container:t;if(!h.contains(e)){if(i){var p=egret.getQualifiedClassName(e)+e.hashCode;this.darkSpriteDic[p]=m.DisplayUtils.createMask(.7,c,u),h.contains(this.darkSpriteDic[p])||h.addChild(this.darkSpriteDic[p]),this.darkSpriteDic[p].touchEnabled=!0,egret.Tween.get(this.darkSpriteDic[p]).to({alpha:1},150),this.darkSpriteDic[p].visible=!0}if(h&&h.stage){r?h.addChildAt(e,r):h.addChild(e),this.curPanel=e,0!=s&&h?(e.x=c/2-s/2,e.y=u/2-a/2):0==e.anchorOffsetX&&(s=e.width,a=e.height);var g=c/2-s/2,f=u/2-a/2;switch(o){case _.NOMAL:n&&(e.x=g,e.y=f);break;case _.CENTER:n&&(e.x=g,e.y=f),e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.x=e.x+s/4,e.y=e.y+a/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-s/4,y:e.y-a/4},300,egret.Ease.backOut);break;case _.CENTER_S:e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.x=e.x+s/4,e.y=e.y+a/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-s/4,y:e.y-a/4},600,egret.Ease.elasticOut);break;case _.LEFT:n?(e.x=-s,egret.Tween.get(e).to({x:g},500,egret.Ease.cubicOut)):(e.x=-s,egret.Tween.get(e).to({x:0},500,egret.Ease.cubicOut));break;case _.RIGHT:n?(e.x=s,egret.Tween.get(e).to({x:g},500,egret.Ease.cubicOut)):(e.x=s,egret.Tween.get(e).to({x:0},500,egret.Ease.cubicOut));break;case _.TOP:n?(e.y=-a,egret.Tween.get(e).to({y:f},500,egret.Ease.cubicOut)):(e.y=-a,egret.Tween.get(e).to({y:0},500,egret.Ease.cubicOut));break;case _.BOTTOM:n?(e.y=h.stage.stageHeight,egret.Tween.get(e).to({y:f},500,egret.Ease.cubicOut)):(e.y=a,egret.Tween.get(e).to({y:0},500,egret.Ease.cubicOut))}return e}}},e.removePopUp=function(e,t){void 0===t&&(t=0);var n=!0;n=!e.prototype;var i=egret.getQualifiedClassName(e);if(this.popupDic[i])if(n)for(var r=0;r<this.popupDic[i].length;r++)this.popupDic[i][r]==e&&(this.removePanel(this.popupDic[i][r],t),this.popupDic[i].splice(r,1));else for(r=0;r<this.popupDic[i].length;r++)this.removePanel(this.popupDic[i][r],t),this.popupDic[i].shift()},e.clearPopus=function(){if(this.popupDic)for(var e in this.popupDic)for(var t=0;t<this.popupDic[e].length;t++)this.removePanel(this.popupDic[e][t]),this.popupDic[e].shift()},e.removePanel=function(e,t){void 0===t&&(t=0);var n=egret.getQualifiedClassName(e)+e.hashCode;this.darkSpriteDic[n]&&egret.Tween.get(this.darkSpriteDic[n]).to({alpha:0},100).call(function(){this.darkSpriteDic[n]&&this.darkSpriteDic[n].parent&&this.darkSpriteDic[n].parent.removeChild(this.darkSpriteDic[n]),this.darkSpriteDic[n]=null,delete this.darkSpriteDic[n]},this);var i=600;switch(t){case _.NOMAL:i=0;break;case _.CENTER:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300);break;case _.CENTER_S:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},600,egret.Ease.elasticOut);break;case _.LEFT:egret.Tween.get(e).to({x:-e.width},600,egret.Ease.cubicOut);break;case _.RIGHT:egret.Tween.get(e).to({x:e.width},600,egret.Ease.cubicOut);break;case _.TOP:egret.Tween.get(e).to({y:-e.height},600,egret.Ease.cubicOut);break;case _.BOTTOM:egret.Tween.get(e).to({y:e.height},600,egret.Ease.cubicOut)}egret.setTimeout(function(){m.DisplayUtils.removeFromParent(e)},this,i)},e.hasPopup=function(e){var t=egret.getQualifiedClassName(e);if(!("object"!=typeof e||!e.prototype)){if(!e.stage)return!1;for(var n=0;n<this.popupDic[t].length;n++)if(this.popupDic[t][n]==e)return!0}else if(this.popupDic[t]&&0<this.popupDic[t].length)for(n=0;n<this.popupDic[t].length;n++){if(this.popupDic[t][n].stage)return!0;m.DisplayUtils.removeFromParent(this.popupDic[t][n])}return!1},e.resize=function(){},e.darkSpriteDic={},e.popupDic=new Object,e}();m.PopUpMgr=t,(e=m.PopUpEffect||(m.PopUpEffect={}))[e.NOMAL=0]="NOMAL",e[e.CENTER=1]="CENTER",e[e.CENTER_S=2]="CENTER_S",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e[e.TOP=5]="TOP",e[e.BOTTOM=6]="BOTTOM";var _=m.PopUpEffect}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib,uniLib,uniLib;!function(u){var e=function(e){function c(){e.apply(this,arguments),this._autoHide=!0,this._curLoadingId=0,this._currentLoadIndex=0}return __extends(c,e),Object.defineProperty(c,"instance",{get:function(){return null==this._self&&(this._self=new c,this._self.initLoadingUI()),this._self},enumerable:!0,configurable:!0}),c.prototype.initLoadingUI=function(){this._loadingMap={},this._thisObj={},this._loadSucc={},this._loadError={}},c.prototype.loadGrps=function(e,t,n,i,r,o,s,a){void 0===o&&(o=!0),void 0===s&&(s=!0);var l="merge_"+e.toString();RES.createGroup(l,e,!0),c.instance.load(l,function(e){u.ResUtils.removeGroup(l),t&&t.call(i,e)},n,i,r,o,s,a)},c.prototype.load=function(e,t,n,i,r,o,s,a){void 0===o&&(o=!0),void 0===s&&(s=!0),s&&null!=s||(s=!0),r?(this._loadingClass=r,s?u.UIMgr.instance.showProcessBar(r):u.UIMgr.instance.showLoadingTimeout(r)):this._loadingClass=u.UIMgr.instance.commonLoadUI,a&&u.ResUtils.setMustRes(a),t&&(this._loadSucc[e]=t),n&&(this._loadError[e]=n),i&&(this._thisObj[e]=i),this._autoHide=o,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),RES.loadGroup(e)},c.prototype.loadArr=function(e,t,n,i,r){this._currentLoadArr&&0<this._currentLoadArr.length?this._currentLoadArr.concat(e):(this._currentLoadArr=e,this._currentLoadIndex=0)},c.prototype.onUniLibResLoadComplete=function(e){var t=e.groupName;e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this)),this._loadingClass&&1==this._autoHide&&u.UIMgr.instance.hideLoading(this._loadingClass),this._loadingClass&&(this._loadingClass=null),this._loadSucc[t]&&this._loadSucc[t].call(this._thisObj[t],e),this.removeLoadDic(t)},c.prototype.onUniLibResLoadError=function(e){var t=e.groupName;u.Console.warn("Group:"+e.groupName+" has failed to load"),e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),this._loadError[t]&&this._loadError[t].call(this._thisObj[t],e),this.removeLoadDic(t))},c.prototype.removeLoadDic=function(e){this._loadError[e]=null,delete this._loadError[e],this._thisObj[e]=null,delete this._thisObj[e],this._loadSucc[e]=null,delete this._loadSucc[e]},c.prototype.onUniLibResProgress=function(e){this._loadingClass&&u.UIMgr.instance.showProcessBar(this._loadingClass,e.itemsLoaded,e.itemsTotal,"",e.groupName)},c.prototype.removeRefrence=function(){this._loadSucc&&(this._loadSucc=null),this._loadingClass&&(this._loadingClass=null),this._loadError&&(this._loadSucc=null),this._thisObj&&(this._thisObj=null)},c._self=null,c}(egret.EventDispatcher);u.ResLoadMgr=e}(uniLib||(uniLib={})),function(a){var e=function(){function e(){this._currentScene=null,this._lastScene=null}return Object.defineProperty(e,"instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),e.prototype.init=function(e){null==this._currentScene&&(this._currentScene=e)},e.prototype.changeScene=function(e,t,n){var i=this,r=function(e){e.currentTarget.removeEventListener(egret.Event.ADDED_TO_STAGE,r,this),i._lastScene&&i._lastScene!=i._currentScene&&(i._lastScene.destroy(),i._lastScene=null)};if(n&&a.Global.isInGame){var o=this._currentScene.currentGame;return null!=o&&(o.parent&&o.parent.removeChild(o),o.destroy()),((o=new e(t)).width>a.Global.designWidth||o.height>a.Global.designHeight)&&(o.scaleX=a.Global.designWidth/o.width,o.scaleY=a.Global.designHeight/o.height),this._currentScene.currentGame=o,this._currentScene.gameLayer.addChild(o),a.PopUpMgr.init(),o}var s=new e(t);return s.width>s.height?s.width>a.Global.designHeight&&s.height>a.Global.designWidth&&(s.scaleX=.8875,s.scaleY=640/720):s.width>a.Global.designWidth&&s.height>a.Global.designHeight&&(s.scaleX=640/720,s.scaleY=.8875),null!=this._currentScene&&(this._lastScene=this._currentScene,a.DisplayUtils.removeFromParent(this._lastScene)),this._currentScene=s,this._currentScene.addEventListener(egret.Event.ADDED_TO_STAGE,r,this),egret.MainContext.instance.stage.addChild(this._currentScene),a.DebugView.Instance.check(),a.PopUpMgr.init(),this._currentScene},Object.defineProperty(e.prototype,"currentScene",{get:function(){return this._currentScene},enumerable:!0,configurable:!0}),e.prototype.lastSceneLeave=function(){null!=this._lastScene&&(this._lastScene.parent&&this._lastScene.parent.removeChild(this._lastScene),this._lastScene.destroy(),this._lastScene=null)},e._self=null,e}();a.SceneMgr=e}(uniLib||(uniLib={})),function(h){var i=function(){function e(){this.isStopped=!1,this.isMusic=!1,this.name="",this.position=0,this.egret_channel=null}return e.prototype.stop=function(){this.egret_channel&&(this.position=this.egret_channel.position,this.egret_channel.stop(),this.isStopped=!0,this.egret_channel=null)},e}(),e=function(){function n(){this._soundRes={},this._musicVolume=1,this._soundVolume=1,this._musicOpen=!0,this._soundOpen=!0,this._activeSound={},this._activeSoundLoop={},this._soundPause=!1,this.loadTimeDic={},this._currentMusicIndex=0,this._currentMusicChanel=null}return Object.defineProperty(n,"instance",{get:function(){var t=this;return null==this._instance&&(this._instance=new n,h.Utils.getLocalStorage(n.SOUND_TOGGLE,function(e){null!=e&&(t._instance.soundOpen=Boolean(Number(e)))}),h.Utils.getLocalStorage(n.MUSIC_TOGGLE,function(e){null!=e&&(t._instance.musicOpen=Boolean(Number(e)))}),egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){h.ZQGameSdk.speakerActive()},1e4)),this._instance},enumerable:!0,configurable:!0}),n.prototype.onActive=function(e){this._musicOpen&&egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){h.ZQGameSdk.speakerActive(),n.instance.resumeBgMusic()},2e3)},n.prototype.onDeActive=function(e){egret.Capabilities.supportVersion<"3.2.6"&&n.instance.pauseBgMusic()},Object.defineProperty(n.prototype,"soundPause",{get:function(){return this._soundPause},set:function(e){this._soundPause=e},enumerable:!0,configurable:!0}),n.prototype.playSound=function(e,t,n,i,r){if(void 0===t&&(t=1),this._soundOpen&&1!=this._soundPause){var o,s=this;if(!this._activeSound[e]||0!=this._activeSound[e].$loops){if(i){o=this.play(e,t,n,[function(e,t){t.stop(),s.stopSound(e),i&&i.call(r)}],!1)}else o=this.play(e,t,n,[],!1);return null!=o&&(this._activeSound[e]=o),o}}},n.prototype.stopSounds=function(){for(var e in this._activeSound)null!=this._activeSound[e]&&null!=this._activeSound[e]&&(this._activeSound[e].stop(),this._activeSound[e]=null,delete this._activeSound[e]);for(var e in this._soundRes)this._soundRes[e]=null,delete this._soundRes[e];h.ResUtils.resetSoundLoadTimes()},n.prototype.stopSound=function(e){null!=this._activeSound[e]&&null!=this._activeSound[e]&&(this._activeSound[e].stop(),this._activeSound[e].dispatchEventWith(egret.Event.SOUND_COMPLETE),this._activeSound[e]=null,delete this._activeSound[e])},n.prototype.play=function(i,r,o,s,a){void 0===r&&(r=1),void 0===a&&(a=!0);var n,l=this;s&&0<s.length&&(n=function(e){var t=e.currentTarget;null!=t&&null!=t&&(t.removeEventListener(egret.Event.SOUND_COMPLETE,n,l),null!=s&&null!=s&&(1<s.length?s[0].call(s[1],i,t):s[0](i,t)))});var e=function(e){if(e)if(l._soundRes[i]=e,1==a){var t=!0;if(l._currentMusicChanel&&null!=l.loadTimeDic[l._currentMusicChanel.name]&&null!=l.loadTimeDic[i]&&l.loadTimeDic[l._currentMusicChanel.name]>l.loadTimeDic[i]&&(t=!1),1==t){var n=l.play(i,r,o,s,a);l.resetCurrentMusic(n,i)}}else(new Date).getTime()-l.loadTimeDic[i]<=1e3&&(l.loadTimeDic[i]=0,l._activeSound[i]=l.play(i,r,o,s,a))},t=0;if(null!=this.loadTimeDic[i]&&(t=this.loadTimeDic[i]),this.loadTimeDic[i]=(new Date).getTime(),null==this._soundRes[i]||null==this._soundRes[i]){if(RES.hasRes(i)){var c=RES.getRes(i);null!=c||null!=c?e(c):(h.Console.log("sound声音资源没有预加载到本地,建议进行预加载:"+i),h.ResUtils.getRes(i,e,null,egret.URLLoaderDataFormat.SOUND))}else h.ResUtils.getRes(i,e,null,egret.URLLoaderDataFormat.SOUND);return null}if(this._soundRes[i]){if(0==a&&(new Date).getTime()-t<30)return this.loadTimeDic[i]=t,null;var u=this._soundRes[i].play(o,r);if(null!=u&&null!=u){n&&u.addEventListener(egret.Event.SOUND_COMPLETE,n,l);var d=1==a?this._musicVolume:this._soundVolume;return u.volume=d,u}return null}return null},n.prototype.randomSounds=function(e){e&&(this._bgMusics=e);var t=Math.floor(this._bgMusics.length*Math.random());this.play(this._bgMusics[t],0)},n.prototype.playBgMusic=function(e,t){var n=this;if(n._bgMusics=e,t&&(n._currentMusicIndex=t),n._musicOpen&&0<n._bgMusics.length&&(n._currentMusicIndex>=n._bgMusics.length&&(n._currentMusicIndex=0),null==n._currentMusicChanel||n._bgMusics[n._currentMusicIndex]!=n._currentMusicChanel.name)){var i=n.play(n._bgMusics[n._currentMusicIndex],1,t,[n.onMusicEnd,n]);n.resetCurrentMusic(i,n._bgMusics[n._currentMusicIndex])}},n.prototype.onMusicEnd=function(e){var t=this;if(t._currentMusicIndex++,t._currentMusicIndex==t._bgMusics.length&&(t._currentMusicIndex=0),t._musicOpen&&0<t._bgMusics.length){var n=t.play(t._bgMusics[t._currentMusicIndex],1,0,[t.onMusicEnd,t]);t.resetCurrentMusic(n,t._bgMusics[t._currentMusicIndex])}},n.prototype.resetCurrentMusic=function(e,t){if(null!=e&&null!=e){var n=new i;n.name=t,n.isMusic=!0,n.egret_channel=e,n.res=this._soundRes[t],null!=this._currentMusicChanel&&this._currentMusicChanel!=n&&this._currentMusicChanel.name!=n.name&&this.stopBgMusic(),this._currentMusicChanel=n,this._currentMusicChanel.isStopped=!1,this._currentMusicChanel.egret_channel.volume=this._musicVolume}},n.prototype.stopBgMusic=function(){this._currentMusicChanel&&(this._currentMusicChanel.stop(),this.loadTimeDic[this._currentMusicChanel.name]=0,this._currentMusicChanel=null)},n.prototype.pauseBgMusic=function(){this._currentMusicChanel&&this._currentMusicChanel.stop()},n.prototype.resumeBgMusic=function(){if(this._musicOpen&&(!this._currentMusicChanel||this._currentMusicChanel.isStopped)){var e=0;if(this._currentMusicChanel&&(e=this._currentMusicChanel.position),this._bgMusics&&0<this._bgMusics.length){var t=this.play(this._bgMusics[this._currentMusicIndex],1,e,[this.onMusicEnd,this]);this.resetCurrentMusic(t,this._bgMusics[this._currentMusicIndex])}}},n.prototype.isPlayingBgMusic=function(){return!(!this._currentMusicChanel||0!=this._currentMusicChanel.isStopped)},n.prototype.isSoundPlaying=function(e){return!(!this._activeSound[e]||!this._activeSound[e].position)},Object.defineProperty(n.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(e){this._musicVolume=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"soundVolume",{get:function(){return this._soundVolume},set:function(e){this._soundVolume=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"musicOpen",{get:function(){return this._musicOpen},set:function(e){(this._musicOpen=e)?this.resumeBgMusic():this.pauseBgMusic(),h.Utils.setLocalStorage(n.MUSIC_TOGGLE,Number(this._musicOpen))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"soundOpen",{get:function(){return this._soundOpen},set:function(e){this._soundOpen=e,h.Utils.setLocalStorage(n.SOUND_TOGGLE,Number(this._soundOpen))},enumerable:!0,configurable:!0}),n.isFirst=!0,n.SOUND_TOGGLE="sound_toggle",n.MUSIC_TOGGLE="music_toggle",n}();h.SoundMgr=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib,Pmd,uniLib,uniLib,uniLib,uniLib,uniLib,SockType,SockByinaryType,Pmd,uniLib;!function(l){var e=function(e){function a(){e.call(this)}return __extends(a,e),Object.defineProperty(a,"instance",{get:function(){return null==this._self&&(this._self=new a),this._self},enumerable:!0,configurable:!0}),a.prototype.init=function(){this.sendedKb=0,this.receiveKb=0,this.sendB=0,this.receiveB=0,this.secondTimer=new egret.Timer(1e3,0),this.secondTimer.addEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.start(),this.requestPing()},a.prototype.dispatchSecondEvent=function(e){l.Console.isDevMode||(this.dispatchEventWith(a.SENDANDRECEIVE,!1,{send:this.sendB,receive:this.receiveB}),this.sendB=this.receiveB=0)},a.prototype.requestPing=function(){var e=new Pmd.SetPingTimeNullUserPmd_CS;l.NetMgr.ws.sendPlat(e)},Object.defineProperty(a.prototype,"socketStatus",{set:function(e){this.dispatchEventWith(a.SOCKETSTATUS,!1,e)},enumerable:!0,configurable:!0}),a.prototype.messageCharStatistics=function(e,t,n){if(void 0===n&&(n="utf-8"),!l.Console.isDevMode){var i,r,o,s=0;if("utf-16"===(n=n?n.toLowerCase():"")||"utf16"===n)for(r=0,o=e.length;r<o;r++)s+=(i=e.charCodeAt(r))<=65535?2:4;else for(r=0,o=e.length;r<o;r++)s+=(i=e.charCodeAt(r))<=127?1:i<=2047?2:i<=65535?3:4;"send"==t?(this.sendB+=s,this.sendedKb+=s/1024):(this.receiveB+=s,this.receiveKb+=s/1024),this.dispatchEventWith(a.SENDEDANDRECEIVED,!1,{sended:this.sendedKb,received:this.receiveKb})}},a.prototype.destroy=function(){this.secondTimer&&(this.secondTimer.removeEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.stop())},a.PING="ping",a.SENDANDRECEIVE="sendAndReceive",a.SENDEDANDRECEIVED="sendedAndReceived",a.SOCKETSTATUS="socketStatus",a._self=null,a}(egret.EventDispatcher);l.StatistcsMgr=e}(uniLib||(uniLib={})),(Pmd||(Pmd={})).OnSetPingTimeNullUserPmd_CS=function(e){uniLib.StatistcsMgr.instance.dispatchEventWith(uniLib.StatistcsMgr.PING,!1,e.pingmsec)},function(c){var e=function(){function e(){this._uis=new Object,this._loadings=new Object,this._effects={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DefaultLoading",{set:function(e){this.defaultLoadingView=e},enumerable:!0,configurable:!0}),e.prototype.showUI=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var o=this,s=egret.getQualifiedClassName(e),a=function(e){o._uis[s]&&o._uis[s].hasEventListener(egret.Event.REMOVED_FROM_STAGE,a,o)&&o._uis[s].removeEventListener(egret.Event.REMOVED_FROM_STAGE,a,o),o._uis[s].destroy&&o._uis[s].destroy(),0==i&&(o._uis[s]=null,delete o._uis[s])};if(null==this._uis[s]?this._uis[s]=new e(t):this._uis[s].updateUIData&&this._uis[s].updateUIData(t),this._uis[s])return 0==i&&(this._uis[s].hasEventListener(egret.Event.REMOVED_FROM_STAGE,a,this)||this._uis[s].addEventListener(egret.Event.REMOVED_FROM_STAGE,a,this)),null!=this._uis[s].stage&&null!=this._uis[s].parent||(c.SceneMgr.instance.currentScene&&c.SceneMgr.instance.currentScene.topLayer?c.SceneMgr.instance.currentScene.topLayer.addChild(this._uis[s]):egret.MainContext.instance.stage.addChild(this._uis[s])),this._uis[s]},Object.defineProperty(e.prototype,"commonLoadUI",{get:function(){return this._commonLoadUI},set:function(e){this._commonLoadUI=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tipsLoadUI",{get:function(){return this._tipsLoadUI},set:function(e){this._tipsLoadUI=e},enumerable:!0,configurable:!0}),e.prototype.showProcessBar=function(e,t,n,i,r,o){return void 0===o&&(o=!1),this.showLoading(e,t,n,i,r,o)},e.prototype.showLoadingTimeout=function(e,t,n,i){void 0===t&&(t=""),void 0===n&&(n=2e4),void 0===i&&(i=""),this.showLoading(e,null,null,i,null,!1,t);var r=this;n&&setTimeout(function(){r.hideLoading(e,t)},n)},e.prototype.showLoading=function(e,t,n,i,r,o,s,a,l){void 0===o&&(o=!1),void 0===s&&(s=""),""==s?e&&null!=e?s=egret.getQualifiedClassName(e):(s=egret.getQualifiedClassName(this._commonLoadUI),e=this._commonLoadUI):null==e&&(s=egret.getQualifiedClassName(this._tipsLoadUI),e=this._tipsLoadUI),c.StringUtils.stringIsNullOrEmpty(s)||null==e||(null==this._loadings[s]?this._loadings[s]=new e(l):this._loadings[s].update&&l&&this._loadings[s].update(l),null==this._loadings[s].stage&&(this._loadings[s].setProgress&&this._loadings[s].setProgress(2,100),a?a.addChild(this._loadings[s]):c.SceneMgr.instance.currentScene?c.SceneMgr.instance.currentScene.currentGame&&c.SceneMgr.instance.currentScene.currentGame.parent?c.SceneMgr.instance.currentScene.currentGame.addChild(this._loadings[s]):c.SceneMgr.instance.currentScene.tipsLayer?c.SceneMgr.instance.currentScene.tipsLayer.addChild(this._loadings[s]):egret.MainContext.instance.stage.addChild(this._loadings[s]):egret.MainContext.instance.stage.addChild(this._loadings[s])),this._loadings[s]&&this._loadings[s].setProgress&&this._loadings[s].setProgress(t,n,i,r,o))},e.prototype.showLoadingParam=function(e,t,n){return this.showLoading(e,2,100,"","",!1,"",n,t)},e.prototype.showParticle=function(t,e,n,i){var r=function(e){this._effects[t].removeEventListener(egret.Event.COMPLETE,r,this),c.DisplayUtils.removeFromParent(e.target)};try{null==this._effects[t]&&(this._effects[t]=c.DisplayUtils.createParticle(t)),n&&(this._effects[t].emitterX=n),i&&(this._effects[t].emitterY=i),null==this._effects[t].stage&&(c.SceneMgr.instance.currentScene.effectLayer?c.SceneMgr.instance.currentScene.effectLayer.addChild(this._effects[t]):c.SceneMgr.instance.currentScene.addChild(this._effects[t]),this._effects[t].start(e),this._effects[t].addEventListener(egret.Event.COMPLETE,r,this))}catch(e){c.Console.error("找不到粒子效果")}return this._effects[t]||null},e.prototype.hideLoading=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=!0),""==t&&(e&&null!=e?t=egret.getQualifiedClassName(e):(t=egret.getQualifiedClassName(this._commonLoadUI),e=this._commonLoadUI)),null!=this._loadings[t]&&(this._loadings[t].setProgress&&this._loadings[t].setProgress(2,100),c.DisplayUtils.removeFromParent(this._loadings[t]),n&&(this._loadings[t]=null,delete this._loadings[t]))},e.prototype.hideUI=function(e,t){void 0===t&&(t=!0);var n=egret.getQualifiedClassName(e);c.DisplayUtils.removeFromParent(this._uis[n]),t&&(this._uis[n]=null,delete this._uis[n])},e.prototype.destroyUI=function(e){var t=egret.getQualifiedClassName(e);null!=this._uis[t]&&null!=this._uis[t]&&(c.DisplayUtils.removeFromParent(this._uis[t]),delete this._uis[t])},e.prototype.clearOldSceneUis=function(){if(this._uis)for(var e in this._uis){(t=this._uis[e])&&null==t.parent&&delete this._uis[e]}if(this._loadings)for(var e in this._loadings){var t;(t=this._loadings[e])&&null==t.parent&&delete this._loadings[e]}},e._self=null,e}();c.UIMgr=e}(uniLib||(uniLib={})),function(n){n.checkServerReturnCodeError=function(e,t){return null==e||!n.StringUtils.stringIsNullOrEmpty(e.errno)&&"0"!=e.errno},n.doServerReturnCodeError=function(e,t){if(null==e)return!0;switch(e.errno||(e.errno="0"),Number(e.errno)){case Pmd.HttpReturnCode.HttpReturnCode_SignError:n.Global.isH5?(n.HttpClient._reconnectTimes++,5<n.HttpClient._reconnectTimes?(n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("登录服务器失败,请重新登录!","确定")):t.reLogin()):(n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("欢迎回来，点击确定将登录游戏","确定"));break;case Pmd.HttpReturnCode.HttpReturnCode_ServerShutDown:n.Global.hasEventListener(n.ZqEvent.ON_SERVER_SHUTDOWN)?n.Global.dispatchEvent(n.ZqEvent.ON_SERVER_SHUTDOWN,{gameId:t.GameID,zoneId:t.ZoneID}):n.Utils.restart("连接服务器失败,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_GameZoneListError:n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("找不到游戏区列个,请重新登录!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_JsonSyntaxError:case Pmd.HttpReturnCode.HttpReturnCode_JsonMessageError:n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("登陆协议语法错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_TokenValueError:n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("认证信息为空 ,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_LuaScriptError:0<n.Global.debugLevel&&n.Utils.restart("游戏服务器脚本出错,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_SdkCheckSignErr:return n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("第三方认证错误 ,请重新尝试!","确定"),!1;case Pmd.HttpReturnCode.HttpReturnCode_NoSdkServer:case Pmd.HttpReturnCode.HttpReturnCode_Sdk3PartyServerErr:return n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("第三方认证服务器未开 ,请重新尝试!","确定"),!1;case Pmd.HttpReturnCode.HttpReturnCode_NoGatewaytDown:n.Utils.restart("没有可用网关,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_ProtobufErr:n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("协议语法错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_GatewayErr:n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("网关错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_Timeout:return n.Utils.restart("登陆协议返回超时,请重新尝试!","确定"),!1;default:n.Utils.clearLocalStorage(),n.Global.LobbyPlatInfo=null,n.Utils.restart("登录服务器失败,请重新登录!","确定")}return!0}}(uniLib||(uniLib={})),function(h){var e=function(){function l(){this.checkingGateWayUrl=!1,this.OnResponse=function(t){var e,n=t.do.split(".");n[n.length-1]="On"+n[n.length-1];for(var i="",r=0;r<n.length;r++)i+=n[r]+(r==n.length-1?"":".");if(null!=h.getDefinitionByName(i)&&(e=h.getDefinitionByName(i)),null==e)return h.Console.warn("[HTTP RUN] unprocessed network message: "+JSON.stringify(t)),!1;try{return e(t.data),!0}catch(e){h.Console.error("[HTTP RUN ERROR]"+e.toString()+"\n"+JSON.stringify(t))}return!1}}return l.prototype.init=function(e,t,n){this.LoginUrl=e,this.GameID=t,this.ZoneID=n,"true"==h.BrowersUtils.GetRequest("debug")&&(h.BrowersUtils.GetRequest("loginUrl")&&(this.LoginUrl=h.BrowersUtils.GetRequest("loginUrl")),h.StringUtils.stringIsNullOrEmpty(h.BrowersUtils.GetRequest("gameid"))||(this.GameID=Number(h.BrowersUtils.GetRequest("gameid"))),null!=h.BrowersUtils.GetRequest("zoneid")&&NaN!=h.BrowersUtils.GetRequest("zoneid")&&(this.ZoneID=Number(h.BrowersUtils.GetRequest("zoneid"))),"false"==h.BrowersUtils.GetRequest("cacheToken")&&(h.Global.isCacheToken=!1))},l.prototype.initCallBack=function(e,t,n){e&&(this._loginCallBackFunction=e),t&&(this._loginFail=t),n&&(this._loginCallBackObj=n)},l.prototype.h5platLogin=function(e,t,n,i){e&&(this.ZoneID=e),t&&(this._loginCallBackFunction=t),n&&(this._loginFail=n),i&&(this._loginCallBackObj=i),!h.StringUtils.stringIsNullOrEmpty(this.LoginUrl)&&this.GameID?(this.platInfo=h.Global.initPlatInfo(),this.ZoneID?this.login(this.platInfo):this.requestZoneList(this.GameID,this.onGetZoneList,this)):h.Console.error("请先使用init方法初始化连接信息")},l.prototype.onGetZoneList=function(e){e&&e.zonelist&&0<e.zonelist.length&&(e.zonelist.sort(function(e,t){return e.onlinenum-t.onlinenum}),this.ZoneID=e.zonelist[0].zoneid),this.ZoneID?this.login(this.platInfo):h.Console.error("当前没有区服可用!!!")},l.prototype.login=function(e){if(h.Global.LobbyPlatInfo&&h.Global.LobbyPlatInfo.GatewayUrl)h.NetMgr.UID=Number(h.Global.LobbyPlatInfo.uid),h.BrowersUtils.extData.inviter=h.NetMgr.UID.toString(),h.Global.LobbyPlatInfo.GatewayUrl&&(this.GatewayUrl=h.Global.LobbyPlatInfo.GatewayUrl),h.NetMgr.PlatToken=h.Global.LobbyPlatInfo.unigame_plat_login,h.NetMgr.PlatKey=h.Global.LobbyPlatInfo.unigame_plat_key,h.NetMgr.platTokenTimeOut=h.Global.LobbyPlatInfo.unigame_plat_login_life,h.Global.LobbyPlatInfo.platinfo?(this.platInfo=h.Global.LobbyPlatInfo.platinfo,h.NetMgr.PlatUID=h.Global.LobbyPlatInfo.platinfo.uid):h.NetMgr.PlatUID=h.NetMgr.UID.toString(),this.ZoneID&&this._loginCallBackFunction&&this._loginCallBackFunction.call(this._loginCallBackObj,h.Global.LobbyPlatInfo.platinfo);else{var t=new Pmd.PlatTokenLogin;t.platinfo=e,this.initLogin(h.Global.platInfo.platid,t)}},l.prototype.sendTo=function(t,e,n,i,r){var o=this;void 0===r&&(r=h.CompressType.NONE);var s,a=new Pmd.HttpPackage;a.do=e,a.data=n,h.StringUtils.stringIsNullOrEmpty(h.NetMgr.ZoneUID)?h.NetMgr.UID&&(a.uid=h.NetMgr.UID.toString()):a.uid=h.NetMgr.ZoneUID,this.GameID&&(a.gameid=this.GameID),this.ZoneID&&-1!=this.ZoneID&&(a.zoneid=this.ZoneID),h.StringUtils.stringIsNullOrEmpty(h.NetMgr.PlatToken)||(a.unigame_plat_login=h.NetMgr.PlatToken,s=Math.floor((new Date).getTime()/1e3),a.unigame_plat_timestamp=s);var l,c=JSON.stringify(a),u="?";if(h.StringUtils.stringIsNullOrEmpty(h.NetMgr.PlatKey)||(t+=u+"unigame_plat_sign="+h.StringUtils.MD5(c+(s?s.toString():"")+h.NetMgr.PlatKey)+"&do="+a.do,u="?"),this._resq=new h.HttpRequest(function(e){return o.onHttpComplete(e,i,r)},function(e){null!=i&&0!=i(null)||(0==this.onHttpError()&&h.Utils.restart("登陆错误,请重新登陆","确定"),h.Console.error("网络请求失败,请检查网络:"+t))},this),l=c,r!=h.CompressType.NONE){t+=u+"compress="+h.CompressUtil.compressStr[r],u="?";var d=h.CompressUtil.stringToArray(c,new Array(c.length));c=h.CompressUtil.compressByType(d,r),this._resq.dataFormat="binary"}h.Global.platInfo&&h.Global.platInfo.imei&&h.Global.platInfo.osname&&(t+=u+"imei="+h.Global.platInfo.imei,t+=(u="?")+"osname="+h.Global.platInfo.osname,u="?"),h.Console.isDevMode&&h.Console.log("[HTTP SEND] "+l+"\n"+t),this._resq.open(t),this._resq.send(c)},l.prototype.onHttpComplete=function(e,t,n){var i,r,o,s=this;if(i=s._resq.url,r=e,n!=h.CompressType.NONE){var a=new Uint8Array(r);r=h.CompressUtil.uncompressByType(a,n),r=h.CompressUtil.Utf8ArrayToStr(r)}if(h.Console.isDevMode&&h.Console.log("[HTTP RECV] "+r+"\n"+i),(o=JSON.parse(r)).gameid&&(s.GameID=o.gameid),o.zoneid&&(s.ZoneID=o.zoneid),h.checkServerReturnCodeError(o,s)){if(("Pmd.MobileRegeristReturnCreateAccountFailLoginUserPmd_S"==o.do||"Pmd.UserRequestPlatTokenLoginFailLoginUserPmd_S"==o.do||"plat-token-login"==o.do||"request-select-zone"==o.do||"Pmd.EmailRegeristReturnCreateAccountFailLoginUserPmd_S"==o.do)&&(h.Utils.clearLocalStorage(),3==Number(o.errno)&&(h.Global.platInfo=null,console.info("bindcode:"+o.data.bindcode),o.data&&!h.StringUtils.stringIsNullOrEmpty(o.data.bindcode)&&h.Utils.setLocalStorage("bindcode",o.data.bindcode)),26==Number(o.errno)&&o&&o.data&&(o.data.retcode=26),1==s.onHttpError(null,o)))return;if(("Pmd.MobileRegistReturnRandCodeLoginUserPmd_S"==o.do||"Pmd.EmailRegistRequestRandCodeLoginUserPmd_S"==o.do||"Pmd.MobileRegeristReturnRandCodeLoginUserPmd_S"==o.do||"Pmd.MobileRegistRequestRandCodeLoginUserPmd_C"==o.do)&&1==t(o))return;return h.Console.error("[HTTP RECV ERROR] "+r+"\n"+i),void h.doServerReturnCodeError(o,s)}l._reconnectTimes=0,null!=t?t(o.data):null!=s.OnResponse&&s.OnResponse(o)},l.prototype.reLogin=function(){h.Utils.clearLocalStorage(),h.Global.LobbyPlatInfo=null,this.h5platLogin()},l.prototype.onHttpError=function(e,t){if(void 0===e&&(e=null),this._loginFail){var n=this._loginFail.call(this._loginCallBackObj,t?t.data:0);if(this._loginFail=null,this._loginCallBackFunction=null,this._loginCallBackObj=null,1==n)return!0}else h.Console.log("onHttpError _loginFail nil");return!1},l.prototype.initLogin=function(e,i,r){void 0===r&&(r=h.CompressType.NONE);var o=this;h.Global.getPlatToken(function(e){if(null!=e&&1==h.Global.isCacheToken){var t=e;null==h.Global.LobbyPlatInfo&&1==h.Global.lobbyMode&&(h.Global.LobbyPlatInfo=t),t.GatewayUrl?(o.GatewayUrl=t.GatewayUrl,o._loginCallBackFunction&&o._loginCallBackFunction.call(o._loginCallBackObj,t.platinfo),o._loginFail&&(o._loginFail=null),o._loginCallBackObj&&(o._loginCallBackObj=null)):-1!=o.ZoneID&&o.selectZone(o.ZoneID,function(){o.loginSuccess(o.platInfo)},o)}else{var n=h.Utils.getLocalStorage("bindcode");console.info("bindcode:"+n),h.StringUtils.stringIsNullOrEmpty(n)||(i.platinfo.bindcode=n),o.sendTo(o.LoginUrl,"plat-token-login",i,function(e){return 0!=o.cacheLoginInfo(e)&&(console.error("###clear bindcode###"),h.Utils.clearLocalStorage("bindcode"),-1!=o.ZoneID?o.selectZone(o.ZoneID,function(){o.loginSuccess(e.platinfo)},o,r):o.loginSuccess(e.platinfo),!0)},r)}h.Global.zoneId=o.ZoneID})},l.prototype.loginSuccess=function(e){this._loginCallBackFunction&&this._loginCallBackFunction.call(this._loginCallBackObj,e),this._loginFail&&(this._loginFail=null)},l.prototype.requestZoneList=function(e,t,n,i){var r=this,o=new Pmd.RequestZoneList;this.sendTo(this.LoginUrl,"request-zone-list",o,function(e){return r.ZoneList=e.zonelist,null!=t&&t.call(n,e),!0},i)},l.prototype.reSelectZone=function(e,t){this.GatewayUrl=null,h.Global.LobbyPlatInfo.GatewayUrl=null,this.selectZone(this.ZoneID,function(){e.call(t)},this)},l.prototype.selectZone=function(e,t,i,n){void 0===n&&(n=h.CompressType.NONE);var r=this;e&&(r.ZoneID=e);var o=new Pmd.RequestSelectZone;r.sendTo(r.LoginUrl,"request-select-zone",o,function(n){return n&&n.gatewayurl&&(r.GatewayUrl=n.gatewayurl),h.Global.getPlatToken(function(e){if(null!=e&&1==h.Global.isCacheToken){var t=e;t&&(n&&n.gatewayurl&&(t.GatewayUrl=n.gatewayurl,t.GatewayUrlWs=n.gatewayurlws+"/json"),1==h.Global.isCacheToken&&h.Global.setPlatToken(t,h.Global.getPlatId(),r.GameID)),n&&n.zoneuid&&(h.NetMgr.ZoneUID=n.zoneuid),h.Global.LobbyPlatInfo=t}else h.Global.LobbyPlatInfo&&n.gatewayurl&&(h.Global.LobbyPlatInfo.GatewayUrl=n.gatewayurl,h.Global.LobbyPlatInfo.GatewayUrlWs=n.gatewayurlws+"/json")}),t&&t.call(i),!0},n)},l.prototype.sendMessage=function(n,i,r,o,e){var s=this;if(e)this.sendTo(e,n,i,r,o);else{var t;if(h.StringUtils.stringIsNullOrEmpty(this.GatewayUrl))if(0==this.checkingGateWayUrl)if(this.checkingGateWayUrl=!0,h.Global.LobbyPlatInfo){if(!(t=h.Global.LobbyPlatInfo)||!t.GatewayUrl)return void this.selectZone(null,function(){s.sendTo(this.GatewayUrl,n,i,r,o)},this,o);this.GatewayUrl=t.GatewayUrl}else h.Global.getPlatToken(function(e){if(null!=e&&1==h.Global.isCacheToken){var t=e;t&&t.GatewayUrl?s.GatewayUrl=t.GatewayUrl:h.Console.error("没有找到登录数据，请登录后再发送请求："+JSON.stringify(i))}else s.selectZone(null,function(){s.sendTo(s.GatewayUrl,n,i,r,o)},s,o)});this.sendTo(this.GatewayUrl,n,i,r,o)}},l.prototype.send=function(e,t,n,i){this.sendMessage(e.GetType?e.GetType():e.do||e.cmd_name,e,t,n,i)},l.prototype.sendToMe=function(e,t){if(null!=t)t(e);else if(null!=this.OnResponse){var n=new Pmd.HttpPackageReturn;n.gameid=this.GameID,n.zoneid=this.ZoneID,n.do=e.GetType(),n.data=e,this.OnResponse(n)}},l.prototype.cacheLoginInfo=function(e){if(!e)return!1;var t=0;e.platinfo&&(h.NetMgr.PlatUID=e.platinfo.uid,h.NetMgr.PlatSession=e.platinfo.sign,t=h.Global.getPlatId()),h.NetMgr.UID=Number(e.uid),h.BrowersUtils.extData.inviter=h.NetMgr.UID.toString(),h.NetMgr.SID=e.sid,h.NetMgr.PlatToken=e.unigame_plat_login,h.NetMgr.PlatKey=e.unigame_plat_key,h.NetMgr.platTokenTimeOut=e.unigame_plat_login_life,1==h.Global.lobbyMode&&(h.Global.LobbyPlatInfo=e);try{1==h.Global.isCacheToken&&h.Global.setPlatToken(e,t,this.GameID)}catch(e){}return!0},l.prototype.cachePhoneLoginInfo=function(e,t){h.NetMgr.UID=Number(e.uid),h.BrowersUtils.extData.inviter=h.NetMgr.UID.toString(),h.NetMgr.PlatToken=e.platlogin,h.NetMgr.PlatKey=e.platkey,h.NetMgr.platTokenTimeOut=e.platloginlife;var n={};n.uid=e.uid,n.unigame_plat_login=e.platlogin,n.unigame_plat_key=e.platkey,n.unigame_plat_login_life=e.platloginlife,h.Global.platId=t,1==h.Global.lobbyMode&&(h.Global.LobbyPlatInfo=n);try{1==h.Global.isCacheToken&&h.Global.setPlatToken(n,t,this.GameID)}catch(e){}},l.prototype.delLocalStoryge=function(){try{h.Utils.clearLocalStorage()}catch(e){}},l.prototype.generateUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})},l._reconnectTimes=0,l}();h.HttpClient=e}(uniLib||(uniLib={})),function(o){var e=function(){function e(e,t,n){this.isOriType=!0,this._dtype="text",this._call=e,this._err=t,this._this=n}return e.prototype.open=function(e,t,n){var i=this;void 0===n&&(n=!1);var r=this;r.url=e,this._xhr=o.BrowersUtils.getXHR(),window.XMLHttpRequest?this.isOriType=!0:this.isOriType=!1,this.isOriType?(this._xhr.open("post",e,!0),n||this._xhr.setRequestHeader("Content-Type","multipart/form-data"),this._xhr.responseType=this._dtype,this._xhr.onreadystatechange=function(){4==r._xhr.readyState?400<=r._xhr.status||0==r._xhr.status?r.onHttpError(r._xhr.status):"arraybuffer"==r._dtype&&0<r._xhr.response.byteLength?r.onCallBack(r._xhr.response):r.onCallBack(r._xhr.responseText):1==r._xhr.readyState&&t&&r._xhr.send(t)}):(this._xhr.dataFormat=this._dtype,this._xhr.addEventListener("complete",function(e){return i.onCallBack(e)},this),this._xhr.addEventListener("ioError",this.onHttpError,this))},Object.defineProperty(e.prototype,"dataFormat",{set:function(e){1==this.isOriType?("binary"==e&&(e="arraybuffer"),this._xhr&&(this._xhr.responseType=e)):this._xhr&&(this._xhr.dataFormat=e),this._dtype=e},enumerable:!0,configurable:!0}),e.prototype.onCallBack=function(e){void 0===e&&(e=null),this._call&&(1==this.isOriType?this._call.call(this._this,e):(console.error(e.currentTarget.data.byteLength),this._call.call(this._this,e.currentTarget.data)))},e.prototype.onHttpError=function(e){void 0===e&&(e=null),this._err&&this._err.call(this._this,e)},e.prototype.send=function(e){if(1==this.isOriType)this._xhr.send(e);else{var t=new egret.URLRequest(this.url);t.method="post",t.data=e,this._xhr.load(t)}},e.prototype.destroy=function(){this._call=null,this._err=null,this._this=null},e}();o.HttpRequest=e}(uniLib||(uniLib={})),function(h){var n=function(){};h.LoopbackSocket=n;var t=function(){function e(e,t){if(void 0===t&&(t=null),this._url="",this._url=e,t==SockType.LOOPBACK)this.sockType=t,this.socket=new n;else if(window.WebSocket){this.sockType=SockType.NORMAL;try{this.socket=new WebSocket(e)}catch(e){h.Console.error("[WS MyWebSocket ERROR] "+e.toString())}}else this.sockType=SockType.EGRET,this.socket=new egret.WebSocket,this.SetBinarytype(SockByinaryType.STRING),this.socket.connectByUrl(e)}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),e.prototype.SetBinarytype=function(e){this.sockType==SockType.EGRET?e==SockByinaryType.STRING?this.socket.type=egret.WebSocket.TYPE_STRING:e==SockByinaryType.BINARY&&(this.socket.type=egret.WebSocket.TYPE_BINARY):this.sockType==SockType.LOOPBACK||e==SockByinaryType.STRING||e==SockByinaryType.BINARY&&(this.socket.binaryType="arraybuffer")},e.prototype.Close=function(){this.socket&&(this.socket.close(),this.socket=null)},e}();h.MyWebSocket=t;var e=function(){function d(e,t,n,i,r){void 0===i&&(i=!1),this.isOpenCompress=!1,this.lastEchoTime=0,this.reconnectDelay=5e3,this.isConnected=0,this.isConnecting=!1,this.needReconnect=!0,this._reconnectTimes=0,this._maxCeconnectTimes=10,this._active=!0,this._active_reconnect=!1,this.tickSec=30,this.msgTimeoutMSec=0,this.tickTimes=2,this.lastRecvTime=0,this.lastseq=0,this.gameId=0,this.zoneId=0,this.isLobby=!1,this.wsurl=e;this._netMgr=r,this.gameId=Number(t),this.zoneId=Number(n),this.isLobby=i,this.isLobby?this.logName="[Lobby]":this.logName="[Game]",this.sendCache=new Array}return d.prototype.getSocket=function(){return this.mysocket.socket},d.prototype.checkNeedReconnect=function(){var e=this;if(0==h.Utils.isrebooting)if(1==e.isConnected){var t=!1;null!=e.mysocket?e.mysocket.sockType==SockType.EGRET?0==e.getSocket().connected&&(e.log("checkNeedReconnect0:"+e.isConnected),t=!0):1!=e.getSocket().readyState&&(e.log("checkNeedReconnect1::"+e.isConnected),t=!0):(e.log("checkNeedReconnect2::"+e.isConnected),t=!0),1==t&&e.reConnect()}else e.log("checkNeedReconnect3:"+e.isConnected)},d.prototype.resetReconnectNum=function(){this._reconnectTimes=0},d.prototype.pauseReconnect=function(){},d.prototype.login=function(e,t,n){e&&(this.socketLoginSuc=e),t&&(this.socketLoginFail=t),n&&(this.socketLoginObj=n),n.loopback&&(this.sockType=SockType.LOOPBACK),this.connect()},d.prototype.connect=function(){var e=this;if(this.sockType!=SockType.LOOPBACK&&e.close(!0),e.isConnecting=!0,h.ZQGameSdk.lastNetState&&h.ZQGameSdk.lastNetState.data&&h.ZQGameSdk.lastNetState.data[h.ZQGameSdk.NETSTATE]==h.NetState.NO_SIGNAL)return h.ZQGameSdk.getNetStateType(null,null,!0),clearTimeout(e.connectingTimeout),void(e.connectingTimeout=setTimeout(function(){e.log("[WS OPENING WAIT] "+e.wsurl),e.connect()},1e3));if(e.msgTimeoutMSec=0,null==this.sendCache&&(this.sendCache=new Array),this.log("[WS OPENING NEW1] "+this.wsurl),this.mysocket&&this.mysocket.Close(),this.mysocket=new t(this.wsurl,this.sockType),this.sockType=this.mysocket.sockType,this.mysocket.sockType==SockType.NORMAL)this.getSocket().onopen=this.onSocketOpen.bind(this),this.getSocket().onmessage=this.onReceiveMessage.bind(this),this.getSocket().onclose=this.onSocketClose.bind(this),this.getSocket().onerror=this.onSocketError.bind(this);else{if(this.sockType==SockType.LOOPBACK)return;this.getSocket().addEventListener("socketData",this.onReceiveMessage,this),this.getSocket().addEventListener("connect",this.onSocketOpen,this),this.getSocket().addEventListener("close",this.onSocketClose,this),this.getSocket().addEventListener("ioError",this.onSocketError,this)}global||egret&&"true"!=h.BrowersUtils.GetRequest("debug")&&(egret.MainContext.instance.stage.addEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),egret.MainContext.instance.stage.addEventListener(egret.Event.ACTIVATE,this.onActive,this)),e.connectingTimeout&&(clearTimeout(e.connectingTimeout),e.connectingTimeout=null),1==this.isLobby?e.connectingTimeout=setTimeout(function(){1==e.isConnecting&&(e.isConnecting=!1,e.socketLoginFail?(e.socketLoginFail.call(e.socketLoginObj),e.warn("connectingTimeout:self.socketLoginFail")):e.onCloseConnect(),e.connectingTimeout=null)},15e3):e.connectingTimeout=setTimeout(function(){1==e.isConnecting&&(e.isConnecting=!1,e.onCloseConnect(),e.connectingTimeout=null)},2e4)},d.prototype.onDeactive=function(e){0!=this._active&&(this._active=!1,0==this.isLobby&&(this.recvCache=new Array))},d.prototype.showRecnectTip=function(){h.UIMgr&&1!=this.isConnected&&(1==h.Global.isInGame?0==this.isLobby&&h.UIMgr&&h.UIMgr.instance.tipsLoadUI&&h.UIMgr.instance.showLoadingTimeout(h.UIMgr.instance.tipsLoadUI,"reconnect",0):h.UIMgr.instance.showLoadingTimeout(h.UIMgr.instance.tipsLoadUI,"reconnect",0))},d.prototype.onActive=function(e){var t=this;if(1!=this._active){if(this.showRecnectTip(),this._active=!0,0==this.isLobby)this.recvCache&&this.recvCache.forEach(function(e){t.parseData(e)}),this.recvCache=null,1==this._active_reconnect&&(this._active_reconnect=!1,this.reConnect());else{var n=new Pmd.OnlineStateLoginUserPmd_CS;n.state=1,this.send(n)}if(this.lastRecvTime=(new Date).getTime(),this.setMsgTimeout(8,"")){var i=new Pmd.TickRequestNullUserPmd_CS;i.requesttime=Math.floor(Date.now()/1e3),this.sendPlat(i)}1==t.isConnecting&&t.connectingTimeout&&(clearTimeout(t.connectingTimeout),t.connectingTimeout=null,1==this.isLobby?t.connectingTimeout=setTimeout(function(){1==t.isConnecting&&(t.isConnecting=!1,t.socketLoginFail?t.socketLoginFail.call(t.socketLoginObj):t.onCloseConnect(),t.connectingTimeout=null)},15e3):t.connectingTimeout=setTimeout(function(){1==t.isConnecting&&(t.isConnecting=!1,t.onCloseConnect(),h.Utils.restart("网络异常,重新登陆可继续游戏","确定"),t.connectingTimeout=null)},2e4)),h.Global.dispatchEvent(h.ZqEvent.EVENT_ACTIVE_SOCKET_CACHE_OK,t.gameId),h.ZQGameSdk.getNetStateType(null,null,!0)}},d.prototype.onSocketOpen=function(){var t=this;t.connectingTimeout&&(clearTimeout(t.connectingTimeout),t.connectingTimeout=null),t.isConnected=1,t.isConnecting=!1;var e=this.sendCache;this.sendCache=new Array,this.loginData&&(this.sendPlat(this.loginData),h.Global.compressType!=h.CompressType.NONE&&(this.mysocket.SetBinarytype(SockByinaryType.BINARY),this.isOpenCompress=!0),this.loginData=null),null!=e&&0<e.length&&(e.forEach(function(e){1==t.sockSend(e)&&t.log("[WS SEND CACHE] "+e)}),this.sendCache=new Array),h.UIMgr&&h.UIMgr.instance.hideLoading(h.UIMgr.instance.tipsLoadUI,"reconnect"),this.timerActive&&(clearInterval(this.timerActive),this.timerActive=null)},d.prototype.setTickSec=function(e){void 0===e&&(e=30),this.tickSec=e},d.prototype.onTickActive=function(){var e=(new Date).getTime()-this.lastRecvTime;0!=this._active&&(e>=this.tickSec*this.tickTimes*1e3?this.checkNeedReconnect():e>=1e3*this.tickSec+1e4?this.reConnect():0<this.msgTimeoutMSec&&e>=this.msgTimeoutMSec?0==h.Utils.isrebooting&&(this.msgTimeoutMSec=0,this.reConnect()):0==this.isLobby&&this.checkNeedReconnect())},d.prototype.setMsgTimeout=function(e,t){return 0==this.msgTimeoutMSec&&(this.msgTimeoutMSec=1e3*e,this.lastRecvTime=(new Date).getTime(),!0)},d.prototype.sockSend=function(e){if(0==this.isConnected||null==this.mysocket)return this.isConnecting||this.connectingTimeout||this.reConnect(),null==this.sendCache&&(this.sendCache=new Array),this.warn("[WS SEND ERROR] can't send message when websocket closed: "+e+":"+this.isConnected+":"+this.sendCache),null!=this.sendCache&&0==this.sendCache.length&&(this.sendCache.push(e),this.log("[WS CACHE sockSend0]:"+e)),!1;if(1!=this.isConnected)return this.warn("[WS SEND ERROR] wait for connecting: "+this.isConnected+":"+e),null!=this.sendCache&&0==this.sendCache.length&&(this.sendCache.push(e),this.log("[WS CACHE sockSend1]:"+e)),!1;var t;if(h.Global.compressType!=h.CompressType.NONE&&1==this.isOpenCompress){var n=h.CompressUtil.encodeUTF8(e);t=0<h.Global.compressMin?n.byteLength>=h.Global.compressMin?h.CompressUtil.compressByType(n,h.Global.compressType):n.buffer:h.CompressUtil.compressByType(n,h.Global.compressType)}else t=e;if(this.mysocket.sockType==SockType.NORMAL)this.getSocket().send(t);else if(1==this.isOpenCompress){var i=new egret.ByteArray;i.writeBytes(t,0,t.byteLength),i.position=0,this.getSocket().writeBytes(i,0,i.bytesAvailable)}else this.getSocket().writeUTF(t);return!0},d.prototype.parseData=function(e){var t=JSON.parse(e);if(t instanceof Array)for(var n=0;n<t.length;n++)this.dispatch(t[n]);else this.dispatch(t)},d.prototype.uncompressData=function(e){var t=new Uint8Array(e);return h.CompressUtil.uncompressByType(t,h.Global.compressType)},d.prototype.onReceiveMessage=function(e){if(void 0===e&&(e=null),this.lastRecvTime=(new Date).getTime(),this.msgTimeoutMSec=0,null!=this.mysocket){var t;if(this.mysocket.sockType==SockType.EGRET)if(h.Global.compressType!=h.CompressType.NONE){var n=new egret.ByteArray;this.getSocket().readBytes(n),0<h.Global.compressMin?t=n.bytesAvailable>=h.Global.compressMin?this.uncompressData(n.buffer):n.buffer:0<n.bytesAvailable&&(t=this.uncompressData(n.buffer))}else t=this.getSocket().readUTF();else t=h.Global.compressType!=h.CompressType.NONE&&0<=h.Global.compressMin&&0<e.data.byteLength&&e.data.byteLength>=h.Global.compressMin?this.uncompressData(e.data):e.data;t&&""!=t?"{}"!=t&&(1!=this._active&&this.recvCache?this.recvCache.push(t):this.parseData(t)):this.warn("[WS RUN ERROR] server request colose socket")}},d.prototype.onSocketClose=function(e){void 0===e&&(e=null);var t=this;t.isConnected=0,t.isConnecting=!1,null!=this.mysocket?this.warn("[WS CLOSING onSocketClose0] "+this.mysocket.sockType+":"+h.Global.compressType+":"+this.wsurl):this.warn("[WS CLOSING onSocketClose1] "+this.mysocket),setTimeout(function(){0==t.isConnected?t.onCloseConnect():t.warn("[WS CLOSING onSocketClose:]"+t.isConnected)},2e3)},d.prototype.onCloseConnect=function(){var e=this;2!=this.isConnected&&1!=h.Utils.isrebooting?(e.isConnected=0,e._reconnectTimes<e._maxCeconnectTimes?e.reConnect()&&(h.ZQGameSdk&&h.ZQGameSdk.getNetStateType(),h.ZQGameSdk.lastNetState&&h.ZQGameSdk.lastNetState.data&&h.ZQGameSdk.lastNetState.data[h.ZQGameSdk.NETSTATE]==h.NetState.NO_SIGNAL?this.error("[WS reConnect] not network avalible"):e._reconnectTimes++):0==h.Global.isRestarting&&(e.socketLoginFail&&0!=e.socketLoginFail.call(e.socketLoginObj)||(h.Global.isRestarting=!0,h.Console.info("ZQGameSdk.restart"),1==h.Global.isH5?""!=h.Global.reLoginUrl?h.BrowersUtils.redirect(h.Global.reLoginUrl):h.BrowersUtils.reload():(e.isLobby,h.ZQGameSdk&&h.ZQGameSdk.getConfig("网络不稳定,需要重新连接","","确定"))))):this.warn("[WS CLOSING onCloseConnect]")},d.prototype.onSocketError=function(e){void 0===e&&(e=null);var t=this;t.isConnected=0,t.isConnecting=!1,this.warn("[WS Error] "),h.Global.isInGame||(t._maxCeconnectTimes=5),h.Global.dispatchEvent(h.ZqEvent.NET_ERRER),clearTimeout(t.connectingTimeout),t.connectingTimeout=setTimeout(function(){0==t.isConnected?t.onCloseConnect():t.warn("[WS CLOSING onSocketClose:]"+t.isConnected)},2e3)},d.prototype.reConnect=function(){var e=this;if(1==h.Utils.isrebooting||1==e.isConnecting||2==e.isConnected||0==e.needReconnect)return e.warn("[WS CLOSING reConnect cancel]"+h.Utils.isrebooting+":"+e.isConnecting+":"+e.isConnected),!1;if(0==this._active&&e.recvCache)return e._active_reconnect=!0;h.UIMgr&&(1==h.Global.isInGame?0==e.isLobby&&h.UIMgr&&h.UIMgr.instance.tipsLoadUI&&h.UIMgr.instance.showLoadingTimeout(h.UIMgr.instance.tipsLoadUI,"reconnect",0):h.UIMgr.instance.showLoadingTimeout(h.UIMgr.instance.tipsLoadUI,"reconnect",0)),e.isOpenCompress=!1;var t=new Pmd.UserLoginReconnectLoginUserPmd_C;return t.accountid=h.NetMgr.UID,t.timestamp=Math.floor(Date.now()/1e3),t.zoneid=e.zoneId,t.gameid=e.gameId,t.compress=h.CompressUtil.compressStr[h.Global.compressType],t.version=20160805,t.lastseq=e.lastseq,h.Global.zipmd5&&(t.zipmd5=h.Global.zipmd5),h.Global.configmd5&&(t.configmd5=h.Global.configmd5),h.Global.bundleId&&(t.bundlename=h.Global.bundleId),null==h.NetMgr.PlatKey&&(h.NetMgr.PlatKey=""),t.tokenmd5=""+h.StringUtils.MD5(String(t.accountid)+String(t.timestamp)+h.NetMgr.PlatKey),t.url=this.wsurl,e.loginData=t,e.connect(),e.isConnected=2,!0},d.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.Console.log(this.logName+e,t)},d.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.Console.error(this.logName+e,t)},d.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.Console.warn(this.logName+e,t)},d.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.Console.info(this.logName+e,t)},d.prototype.dispatch=function(e){var t,n,i=this;if(!i.timerActive&&this.mysocket&&this.sockType!=SockType.LOOPBACK){var r=new Pmd.SetTickTimeoutNullUserPmd_CS;r.sec=i.tickSec,r.times=i.tickTimes,i.sendPlat(r),i.timerActive=setInterval(function(){i.onTickActive()},5e3)}if(e.GetType||((t=e.cmd_name)?e.GetType=function(){return t}:n=e),0==this.lastseq||e.GetType&&e.GetType()!=d.GatewayWrapperName||t&&t!=d.GatewayWrapperName||(4294967295==this.lastseq?this.lastseq=1:this.lastseq++),n||e.GetType()==d.GatewayWrapperName){if(n||(n=e.msg),h.checkServerReturnCodeError(n))return h.doServerReturnCodeError(e,i),this.warn("[WS RUN ERROR] server error0: "+JSON.stringify(e)),!1;h.Global.jsonCompress?n=h.Global.DeCompress(n):"number"==typeof n.do&&h.Global.jsonCompressDefault&&(n=h.Global.DeCompressDefult(n)),t=n.do,e=n.data}else t||e.GetType()==d.GatewayWrapperName||(t=e.GetType());if(h.checkServerReturnCodeError(e))return h.doServerReturnCodeError(e,i),this.warn("[WS RUN ERROR] server error1: "+JSON.stringify(e)),!1;var o,s=t.split(".");s[s.length-1]="On"+s[s.length-1];for(var a="",l=0;l<s.length;l++)a+=s[l]+(l==s.length-1?"":".");if(null!=h.getDefinitionByName(a)&&(o=h.getDefinitionByName(a)),null!=o)return this._reconnectTimes=0,this.log("[WS RECV] "+a+":"+JSON.stringify(n)),o(e),!0;if("Pmd.OnUserLoginReturnOkLoginUserPmd_S"===a)return h.Console.info("[WS] login to gateway success #"),this.socketLoginSuc&&(this.socketLoginSuc.call(this.socketLoginObj?this.socketLoginObj:this),this.socketLoginSuc=null),this.lastseq=4294967295,!0;if("Pmd.OnReconnectKickoutLoginUserPmd_S"===a)return 1==h.Global.hasEventListener(h.ZqEvent.KICK_OUT)?(this.close(!1),h.Global.dispatchEvent(h.ZqEvent.KICK_OUT,e)):h.Utils.restart(e.desc?e.desc:"重复登陆被踢下线！","确定"),!0;if("Pmd.OnUserLoginReturnFailLoginUserPmd_S"===a){switch(h.Console.info("Pmd.OnUserLoginReturnFailLoginUserPmd_S err:"+e.retcode),e.retcode){case Pmd.LoginReturnFailReason.ServerShutdown:if(this.isLobby||!this.socketLoginFail)return 1!=h.Global.isInGame&&(clearTimeout(i.connectingTimeout),i.connectingTimeout=setTimeout(function(){i.reConnect(),i._reconnectTimes++},5e3)),!0;break;case Pmd.LoginReturnFailReason.VersionTooLow:return h.Utils.restart(e.desc?e.desc:"版本过低，请重新登陆！","确定"),!0;case Pmd.LoginReturnFailReason.UserTokenFind:case Pmd.LoginReturnFailReason.UserTokenTempId:case Pmd.LoginReturnFailReason.UserTokenTimeOut:return h.Utils.clearLocalStorage(),h.Utils.restart("登陆信息过期,请重新登陆游戏！","确定"),!0;case Pmd.LoginReturnFailReason.LoginDulicate:case Pmd.LoginReturnFailReason.NoGatewaytDown:case Pmd.LoginReturnFailReason.AccountUsing:}var c=!0;return h.TipsUtils&&(h.TipsUtils.showTipsDownToUp(e.retcode+":"+e.desc,!0),c=!1),this.socketLoginFail&&(this.socketLoginFail.call(this.socketLoginObj?this.socketLoginObj:e),c=!1,this.warn("[WS socketLoginFail] ")),c&&h.Utils.restart(e.desc?e.desc:"未知错误,请重新登陆","确定"),!0}if("Pmd.OnTickRequestNullUserPmd_CS"==a){var u=new Pmd.TickReturnNullUserPmd_CS;return u.requesttime=e.requesttime,u.mytime=Math.floor(Date.now()/1e3),this.sendPlat(u),!0}if("Pmd.OnCurrentGmLevelChatUserPmd_S"==a)return h.Global.gmlevel=e.gmlevel,h.Global.gmlevel,!0;if("Pmd.OnUserLoginReconnectOkLoginUserPmd_S"==a)return h.Global.dispatchEvent(h.ZqEvent.ON_RECONNEC,i.gameId),!0;if("Pmd.OnGameServerShutDownLoginUserPmd_S"==a)return 5<=i._reconnectTimes&&h.Global.dispatchEvent(h.ZqEvent.ON_SERVER_SHUTDOWN,e),!0;if("Pmd.OnZoneInfoListLoginUserPmd_S"==a)return h.Global.zoneList=e.zonelist,h.Global.dispatchEvent(h.ZqEvent.ON_GETZONEINFO,e),!0;if("Pmd.OnTickReturnNullUserPmd_CS"==a)return!0;if("Pmd.OnServerShutDownLoginUserPmd_S"==a)return h.Global.dispatchEvent(h.ZqEvent.EVENT_SERVER_SHUTDOWN,e),!0;if("Pmd.OnServerDebugLevelLoginUserPmd_S"==a)return h.Global.debugLevel=e.level,h.Global.dispatchEvent(h.ZqEvent.EVENT_SERVER_DEBUG_LEVEL,e),!0;if("Pmd.OnClientConfigUpdateLoginUserPmd_S"==a)if(e&&e.config){e.config;h.ZQGameSdk&&h.ZQGameSdk.getConfig("当前客户端版本过低,请点击确定重启更新。","","确定")}else if(e&&e.zipmd5){if(1==h.Global.is_sandbox)return!0;h.ZQGameSdk&&h.ZQGameSdk.getConfig("当前客户端版本过低,请点击确定重启更新。","","确定","取消")}return this.warn("[WS RUN unprocess] \n"+JSON.stringify(e)),!1},d.prototype.sendTimeOut=function(e,t){this.send(e,t),this.setMsgTimeout(8,"sendTimeOut")},d.prototype.send=function(e,t){if(null!=e)if(1!=t&&this.sockType!=SockType.LOOPBACK){var n={do:e.GetType?e.GetType():e.do,data:e},i=JSON.stringify(n);1==this.sockSend(i)&&this.log("[WS SEND send] "+i)}else this.dispatch(e)},d.prototype.sendPlat=function(e,t){if(null!=e)if(1!=t&&this.sockType!=SockType.LOOPBACK){var n=e.GetType?e.GetType():e.cmd_name||e.do;e.cmd_name=n;var i=JSON.stringify(e);1==this.sockSend(i)?this.log("[WS SEND sendPlat] "+i):this.log("[WS SEND sendPlat Error] "+i)}else this.dispatch(e)},d.prototype.sendEcho=function(){var e=(new Date).getTime();3e3<=e-this.lastEchoTime&&(this.lastEchoTime=e,this.sockSend("{}"))},d.prototype.close=function(e){void 0===e&&(e=!0),this.sockType!=SockType.LOOPBACK&&(this.isConnected=0,null!=this.mysocket&&(this.mysocket.sockType==SockType.NORMAL?(this.getSocket().onopen=null,this.getSocket().onmessage=null,this.getSocket().onclose=null,this.getSocket().onerror=null):(this.getSocket().removeEventListener("socketData",this.onReceiveMessage,this),this.getSocket().removeEventListener("connect",this.onSocketOpen,this),this.getSocket().removeEventListener("close",this.onSocketClose,this),this.getSocket().removeEventListener("ioError",this.onSocketError,this)),global||egret&&(egret.MainContext.instance.stage.removeEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),egret.MainContext.instance.stage.removeEventListener(egret.Event.ACTIVATE,this.onActive,this)),this.warn("[WS CLOSING close] "+Math.floor((new Date).getTime()/1e3)+":"+this.mysocket.sockType+":"+h.Global.compressType+":"+this._reconnectTimes+":"+this.wsurl),null==this.sendCache?this.sendCache=new Array:1<this.sendCache.length&&(this.sendCache=[this.sendCache.pop()]),this.mysocket.Close(),this.mysocket=null),this.timerActive&&(clearInterval(this.timerActive),this.timerActive=null),this.needReconnect=e,this.isConnecting=!1)},d.GatewayWrapperName=(new Pmd.UserJsMessageForwardUserPmd_CS).GetType(),d}();h.JsonSocket=e}(uniLib||(uniLib={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.EGRET=1]="EGRET",e[e.LOOPBACK=2]="LOOPBACK"}(SockType||(SockType={})),function(e){e[e.STRING=0]="STRING",e[e.BINARY=1]="BINARY"}(SockByinaryType||(SockByinaryType={})),function(t){t.OnCommonChatUserPmd_CS=function(e){switch(e.chatpos){case t.CommonChatUserPmd_CS.ChatPos.ChatPos_None:case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_ROOM,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Private:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_PRIVATE,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Sys:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_SYSTEM,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Gm:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_GM,e);break;case 256:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_HORN,e);break;case 512:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_HUNDRED,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Important:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_IMPORTANT,e)}},t.OnPrivateChatUserPmd_CS=function(e){uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_PRIVATE,e)},t.OnGMCommandListChatUserPmd_S=function(e){uniLib.Global.dispatchEvent(uniLib.ZqEvent.GM_INFO,e)}}(Pmd||(Pmd={})),function(e){var t=function(){};(uniLib||(uniLib={})).AppConfig=t}();var ExtData=function(){},uniLib,uniLib,game,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib;!function(e){var t=function(){};(uniLib||(uniLib={})).ShareData=t}(),function(t){var e=function(){function e(){}return Object.defineProperty(e,"ol_Time",{get:function(){return this._ol_Time},set:function(e){this._ol_Time=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"fangka",{get:function(){return this._fangka},set:function(e){this._fangka!=e&&(this._fangka=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.FANGKA))},enumerable:!0,configurable:!0}),e.init=function(e,t){void 0===t&&(t=!0),this.uid=e.uid,e.headUrl||e.headurl?this._headUrl=e.headUrl||e.headurl:this._headUrl="",this.nickName=e.nickName||e.nickname,this.gender=e.gender,this.platId=e.platId,this.subPlatId=e.subPlatId,1==t&&e.remainder&&(this._chips=e.remainder,this._goldChips=e.remainder),e.goldcoin&&(this._goldChips=e.goldcoin),e.trailscore&&(this._chips=e.trailscore),e.bankChips&&(this._bankChips=e.bankChips),e.sumRecharge&&(this.sumRecharge=e.sumRecharge),e.signature&&(this.signature=e.signature),e.giftCoupon&&(this._giftCoupon=e.giftCoupon),e.trailcoin&&(this._freeChips=e.trailcoin),e.fangka&&(this._fangka=e.fangka)},Object.defineProperty(e,"chips",{get:function(){return this._chips},set:function(e){this._chips!=e&&(this._chips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.CHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"goldChips",{get:function(){return this._goldChips},set:function(e){this._goldChips!=e&&(this._goldChips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.GOLDCHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"freeChips",{get:function(){return this._freeChips},set:function(e){this._freeChips!=e&&(this._freeChips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.FREECHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"headUrl",{get:function(){return this._headUrl},set:function(e){this._headUrl!=e&&(this._headUrl=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.HEADURL))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"platPoint",{get:function(){return this._platPoint},set:function(e){this._platPoint=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.PLAT_POINT)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"bankChips",{get:function(){return this._bankChips},set:function(e){this._bankChips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.BANK_CHIPS)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nickname",{get:function(){return this.nickName},set:function(e){this.nickName=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.NICKNAME)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"giftCoupon",{get:function(){return this._giftCoupon},set:function(e){this._giftCoupon=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.GIFTCOUPON)},enumerable:!0,configurable:!0}),e._chips=0,e._goldChips=0,e._freeChips=0,e._giftCoupon=0,e._ol_Time=-1,e.slipStatus=1,e._platPoint=0,e}();t.UserInfo=e}(uniLib||(uniLib={})),function(e){var t=function(){};(game||(game={})).WXShareBackVo=t}(),function(e){var t=function(){this.shareImageUrl="",this.shareImageData="",this.roomId=""};(uniLib||(uniLib={})).WXShareVo=t}(),function(uniLib){var BrowersUtils=function(){function BrowersUtils(){}return BrowersUtils.reload=function(){1==uniLib.Global.isH5&&window.location.reload()},BrowersUtils.redirect=function(e){location.href=e},BrowersUtils.isLocal=function(){return 0<=location.href.indexOf("192.168")},BrowersUtils.prototype.isNull=function(e){return null==e||(e instanceof String&&(null==e||e.length),!1)},BrowersUtils.isWechat=function(){var e=navigator.userAgent.toString();return console.dir(e),null!=e.match(/MicroMessenger/i)&&"MicroMessenger"==e.match(/MicroMessenger/i).toString()},BrowersUtils.getXHR=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?eval('new ActiveXObject("MSXML2.XMLHTTP")'):egret&&egret.URLLoader?new egret.URLLoader:void 0},BrowersUtils.isPC=function(){for(var e=navigator.userAgent.toString(),t="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";"),n=!0,i=0;i<t.length;i++)if(0<e.indexOf(t[i])){n=!1;break}return n},BrowersUtils.isAndroid=function(){var e=navigator.userAgent.toString();return-1<e.indexOf("Android")||-1<e.indexOf("Linux")},BrowersUtils.GetRequest=function(e,t){var n,i=null;if(uniLib.Global.isH5){n=null!=t&&""!=t?t:location.search;var r=new RegExp("[?&]"+e+"=([^&]+)","gi").exec(n);if(null!=r)try{i=decodeURIComponent(decodeURIComponent(r[1]))}catch(e){try{i=decodeURIComponent(r[1])}catch(e){i=r[1]}}}return i},BrowersUtils.GetRequests=function(e){n=e||location.search;var t=new Object;if(0==n.indexOf("?"))var n=n.substr(1);for(var i=n.split("&"),r=0;r<i.length;r++)t[i[r].split("=")[0]]=decodeURIComponent(i[r].split("=")[1]);return t},BrowersUtils.requestFullScreen=function(){},BrowersUtils.exitFullscreen=function(){},BrowersUtils.setExtData=function(e,t,n){void 0===n&&(n=!1),null==this.extData&&(this.extData=new ExtData),this.extData[e]=t},BrowersUtils.getExtData=function(key){if(void 0===key&&(key=""),null==this.inExtData)try{this.inExtData=JSON.parse(this.GetRequest("extdata"))}catch(e){this.inExtData=eval("("+this.GetRequest("extdata")+")")}return this.inExtData?key?this.inExtData[key]:this.inExtData:null},BrowersUtils.resetShareInfo=function(){this.extData=new ExtData,this.extData.inviter=uniLib.NetMgr.UID.toString(),this.setShareInfo()},BrowersUtils.setShareInfo=function(e,t,n,i,r){i&&r&&this.setExtData(i,r);var o,s="http://login.publish.bwgame.com.cn:8080/";"0"==(o=0<=location.href.indexOf("h5.publish.bwgame.com.cn")?"1":"0")&&(s="http://h5sdk.zqbconnect.com/");var a=new BodyMenuShareTimeline;t&&!uniLib.StringUtils.stringIsNullOrEmpty(t)?a.title=t:a.title=uniLib.Global.shareData.title,uniLib.Global.shareData.link?a.link=uniLib.Global.shareData.link:a.link="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+uniLib.Global.appId+"&redirect_uri="+s+uniLib.Global.lobbyGameId+"/wechat_"+uniLib.Global.platInfo.platid+"/login_request?extdata="+JSON.stringify(this.extData)+"&response_type=code&scope=snsapi_base&state="+o+"connect_redirect=1#wechat_redirect",e&&!uniLib.StringUtils.stringIsNullOrEmpty(e)?a.imgUrl=e:a.imgUrl=uniLib.Global.shareData.imgUrl,a.success=function(){uniLib.Global.dispatchEvent(uniLib.ZqEvent.SHARE,1)},wx.onMenuShareTimeline(a);var l=new BodyMenuShareAppMessage;t&&!uniLib.StringUtils.stringIsNullOrEmpty(t)?l.title=t:l.title=uniLib.Global.shareData.title,n&&!uniLib.StringUtils.stringIsNullOrEmpty(n)?l.desc=n:l.desc=uniLib.Global.shareData.desc,uniLib.Global.shareData.link?l.link=l.dataUrl=uniLib.Global.shareData.link:l.dataUrl=l.link="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+uniLib.Global.appId+"&redirect_uri="+s+uniLib.Global.lobbyGameId+"/wechat_"+uniLib.Global.platInfo.platid+"/login_request?extdata="+JSON.stringify(this.extData)+"&response_type=code&scope=snsapi_base&state="+o+"&connect_redirect=1#wechat_redirect",l.success=function(){uniLib.Global.dispatchEvent(uniLib.ZqEvent.SHARE,2)},e&&!uniLib.StringUtils.stringIsNullOrEmpty(e)?l.imgUrl=e:l.imgUrl=uniLib.Global.shareData.imgUrl,wx.onMenuShareAppMessage(l)},BrowersUtils.getCookie=function(e){if(uniLib.Global.isH5){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));if(null!=t)return t[2]}return null},BrowersUtils.setCookie=function(e,t,n){if(uniLib.Global.isH5){t instanceof Object&&(t=JSON.stringify(t));var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+t+(null==n?"":";expires="+i.toUTCString())}},BrowersUtils.delCookie=function(e){if(uniLib.Global.isH5)if(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toUTCString())}else{var i=new Date;i.setTime(-1e3);for(var r=document.cookie.split("; "),o=0;o<r.length;o++){var s=r[o].split("=");document.cookie=s[0]+"=''; expires="+i.toUTCString()}}},BrowersUtils.getLocationUrl=function(){if(uniLib.Global.isH5)return location.href},BrowersUtils.getPlatLibDir=function(){if(uniLib.Global.isH5)return location.href.substring(0,uniLib.StringUtils.getPosition(location.href,"/",3))+"/"+uniLib.Global.thirdPlatDir},BrowersUtils.redirectUrl=function(e){uniLib.Global.isH5&&(location.href=e)},BrowersUtils.parentRedirectUrl=function(e){uniLib.Global.isH5&&(parent.window.location.href=e)},BrowersUtils.browersType=function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==""+e.match(/MicroMessenger/i)?"wechat":""+e.match(/windows nt/i)=="windows nt"?"windows":""+e.match(/iphone/i)=="iphone"?"ios":""+e.match(/android/i)=="android"?"android":""+e.match(/ipad/i)=="ipad"?"ipad":""+e.match(/linux/i)=="linux"?"linux":""+e.match(/mac/i)=="mac"?"mac":""+e.match(/ucbrower/i)=="ucbrower"?"ucbrower":void uniLib.Console.log("未知系统类型")},BrowersUtils.platformType=function(){var e=window.navigator.userAgent.toLowerCase();return""+e.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+e.match(/qzone/i)=="qzone"?"qzone":""+e.match(/weibo/i)=="weibo"?"weibo":""+e.match(/qq/i)=="qq"?"qq":""+e.match(/renren/i)=="renren"?"renren":""+e.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+e.match(/douban/i)=="douban"?"douban":"other"},BrowersUtils.prototype.staticisVertical=function(){return 90!=window.orientation},BrowersUtils.LoadJses=function(e,t,n){var i=e.length,r=this,o=0,s=function(){++o==i?t&&t.call(n):r.LoadJS(e[o].id,e[o].url,s,r)};this.LoadJS(e[0].id,e[0].url,s,r)},BrowersUtils.LoadJS=function(id,fileUrl,loaded,loadErr,obj){if(uniLib.Global.isH5){var scriptTag=document.getElementById(id),oHead=document.getElementsByTagName("HEAD").item(0),oScript=document.createElement("script");scriptTag&&oHead.removeChild(scriptTag),oScript.id=id,oScript.type="text/javascript",oScript.src=fileUrl,oHead.appendChild(oScript),oScript.onerror=function(){null!=loadErr&&(obj?loadErr.call(obj,id):loadErr(id))},oScript.onload=oScript.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||null!=loaded&&(obj?loaded.call(obj,id):loaded(id))}}else{var js,RES=uniLib.getDefinitionByName("RES");RES&&RES.getResByUrl(fileUrl,function(data){null==data?loadErr&&(obj?loadErr.call(obj,id):loadErr(id)):(eval("require")(fileUrl),null!=loaded&&(obj?loaded.call(obj,id):loaded(id)))},this)}},BrowersUtils.extData=new ExtData,BrowersUtils}();uniLib.BrowersUtils=BrowersUtils}(uniLib||(uniLib={})),function(uniLib){var CompressUtil=function(){function CompressUtil(){}return CompressUtil.init=function(e,t,n){void 0===e&&(e=CompressType.NONE),uniLib.Global.compressType=e,t&&t.call(n)},CompressUtil.compressByType=function(e,t){switch(t){case CompressType.GZIP:return pako.deflate(e);case CompressType.FLATE:return pako.deflate(e,{raw:!0})}},CompressUtil.uncompressByType=function(e,t){switch(t){case CompressType.GZIP:return pako.inflate(e,{to:"string"});case CompressType.FLATE:return pako.inflate(e,{to:"string",raw:!0})}},CompressUtil.stringToUint=function(e){for(var t=encodeURIComponent(e).split(""),n=[],i=0;i<t.length;i++)n.push(t[i].charCodeAt(0));return new Uint8Array(n)},CompressUtil.uintToString=function(e){var t=String.fromCharCode.apply(null,e);return decodeURIComponent(t)},CompressUtil.char2buf=function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),i=e.split(""),r=0;r<i.length;r++)n[r]=i[r].charCodeAt();return t},CompressUtil.buf2char=function(buf){for(var out="",u16a=new Uint16Array(buf),single,i=0;i<u16a.length;i++){for(single=u16a[i].toString(16);single.length<4;)single="0".concat(single);out+="\\u"+single}return eval("'"+out+"'")},CompressUtil.Utf8ArrayToStr=function(e){var t,n,i,r,o,s;for(t="",i=e.length,n=0;n<i;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],s=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0)}return t},CompressUtil.stringToArray=function(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t},CompressUtil.arrayLikeToArray=function(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t},CompressUtil.stringToCodePoints=function(e){for(var t=[],n=0,i=e.length;n<e.length;){var r=e.charCodeAt(n);if(uniLib.NumberUtils.inRange(r,55296,57343))if(uniLib.NumberUtils.inRange(r,56320,57343))t.push(65533);else if(n==i-1)t.push(65533);else{var o=e.charCodeAt(n+1);if(uniLib.NumberUtils.inRange(o,56320,57343)){var s=1023&r,a=1023&o;n+=1,t.push(65536+(s<<10)+a)}else t.push(65533)}else t.push(r);n+=1}return t},CompressUtil.encodeUTF8=function(e){for(var t=0,n=this.stringToCodePoints(e),i=[];n.length>t;){var r=n[t++];if(uniLib.NumberUtils.inRange(r,55296,57343))uniLib.Console.error("encode error:"+r);else if(uniLib.NumberUtils.inRange(r,0,127))i.push(r);else{var o,s;for(uniLib.NumberUtils.inRange(r,128,2047)?(o=1,s=192):uniLib.NumberUtils.inRange(r,2048,65535)?(o=2,s=224):uniLib.NumberUtils.inRange(r,65536,1114111)&&(o=3,s=240),i.push(uniLib.NumberUtils.div(r,Math.pow(64,o))+s);0<o;){var a=uniLib.NumberUtils.div(r,Math.pow(64,o-1));i.push(128+a%64),o-=1}}}return new Uint8Array(i)},CompressUtil.base64encode=function(e){try{this.b64pad}catch(e){this.b64pad=""}var t="";try{e=encodeURIComponent(e)}catch(e){uniLib.Console.error("error "+e.toString())}for(var n=e.length,i=0;i<n;i+=3)for(var r=e.charCodeAt(i)<<16|(i+1<n?e.charCodeAt(i+1)<<8:0)|(i+2<n?e.charCodeAt(i+2):0),o=0;o<4;o++)8*i+6*o>8*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-o)&63);return t},CompressUtil.base64decode=function(e){var t,n,i,r,o,s,a,l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(s=e.length,o=0,a="";o<s;){for(;t=l[255&e.charCodeAt(o++)],o<s&&-1==t;);if(-1==t)break;for(;n=l[255&e.charCodeAt(o++)],o<s&&-1==n;);if(-1==n)break;a+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(i=255&e.charCodeAt(o++)))return a;i=l[i]}while(o<s&&-1==i);if(-1==i)break;a+=String.fromCharCode((15&n)<<4|(60&i)>>2);do{if(61==(r=255&e.charCodeAt(o++)))return a;r=l[r]}while(o<s&&-1==r);if(-1==r)break;a+=String.fromCharCode((3&i)<<6|r)}return a=decodeURIComponent(a)},CompressUtil.compressStr=["","flate","zlib","gzip","lzw"],CompressUtil.b64pad="",CompressUtil}(),BW;uniLib.CompressUtil=CompressUtil,BW=uniLib.CompressType||(uniLib.CompressType={}),BW[BW.NONE=0]="NONE",BW[BW.FLATE=1]="FLATE",BW[BW.ZLIB=2]="ZLIB",BW[BW.GZIP=3]="GZIP",BW[BW.LZW=4]="LZW";var CompressType=uniLib.CompressType}(uniLib||(uniLib={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"appConfig",{get:function(){return this._appConfig},enumerable:!0,configurable:!0}),e.initAppConfig=function(e){return this._appConfig||(this._appConfig=e),this._appConfig},e}();e.ConfigUtils=t}(uniLib||(uniLib={})),function(o){var e;(e=o.LOGLEVEL||(o.LOGLEVEL={}))[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.DEBUG_SERVER=4]="DEBUG_SERVER",e[e.INFO_SERVER=5]="INFO_SERVER",e[e.WARN_SERVER=6]="WARN_SERVER",e[e.ERROR_SERVER=7]="ERROR_SERVER";var s=o.LOGLEVEL,t=function(){function e(){}return e.setLogLevel=function(e){1==this.isDevMode?this.LogLevel=s.DEBUG:(this.LogLevel=e,egret.Logger.logLevel=egret.Logger.INFO)},e.init=function(e,t){o.Global.isH5,this.isDevMode=e,this.setLogLevel(t)},e.logToServer=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!o.Global.isH5||1!=o.BrowersUtils.isLocal()){t=this.LOG_LEVEL_STR[e]+"\t"+t;n&&n.forEach(function(e){e&&(t+=e)}),this.err_rqst=new o.HttpRequest,this.err_rqst.open(o.Global.logUrl),this.err_rqst.send(t)}},e.getLocalLevel=function(e){return e>=s.DEBUG_SERVER&&(e=this.LogLevel-s.DEBUG_SERVER),e},e.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=s.DEBUG&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"LOG",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"logEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=s.DEBUG},enumerable:!0,configurable:!0}),e.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=s.DEBUG&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"DEBUG",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"debugEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=s.DEBUG},enumerable:!0,configurable:!0}),e.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=s.INFO&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"INFO",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"infoEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=s.INFO},enumerable:!0,configurable:!0}),e.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=s.WARN&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"WARN",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"warnEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=s.WARN},enumerable:!0,configurable:!0}),e.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=s.ERROR&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.error((new Date).toTimeString().split(" ")[0],"ERROR",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t));var r=e;t&&t.forEach(function(e){e&&(r+=e)}),o.DebugView&&o.DebugView.Instance.addLog(r)},Object.defineProperty(e,"errorEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=s.ERROR},enumerable:!0,configurable:!0}),e.isDevMode=!1,e.LOG_LEVEL_STR=["[DEBUG]","[INFO]","[WARN]","[ERROR]"],e.LogLevel=7,e}();o.Console=t}(uniLib||(uniLib={})),onerror=function(e,t,n,i,r){var o="异常捕获:gameid:"+uniLib.Global.gameId+":lobbyid:"+uniLib.Global.lobbyGameId+":"+e+"url:"+t+"line:"+n;uniLib.Console.error(o),uniLib.DebugView&&uniLib.DebugView.Instance.addLog(o)},function(e){var o={};function t(e){if(!e)return null;var t=o[e];if(t)return t;var n=e.split("."),i=n.length;t=__uglobal;for(var r=0;r<i;r++){if(!(t=t[n[r]]))return null}return o[e]=t}function r(e){var t=typeof e;if(!e||"object"!=t&&!e.prototype)return t;var n=e.prototype?e.prototype:Object.getPrototypeOf(e);if(n.hasOwnProperty("__class__"))return n.__class__;var i=n.constructor.toString().trim(),r=i.indexOf("("),o=i.substring(9,r);return Object.defineProperty(n,"__class__",{value:o,enumerable:!1,writable:!0}),o}e.getDefinitionByName=t,e.hasDefinition=function(e){return!!t(e)},e.test=function(e){var t="^"+e+".";for(var n in o)n.match(t)&&console.error("匹配成功:"+n)},e.delDefinitionByName=function(e){if(!e)return null;var t="^"+e+".";if(-1==e.indexOf("."))for(var n in o)n.match(t)&&(o[n]=null,delete o[n]);else o[e]=null,delete o[e]},e.getQualifiedSuperclassName=function(e){if(!e||"object"!=typeof e&&!e.prototype)return null;var t=e.prototype?e.prototype:Object.getPrototypeOf(e),n=Object.getPrototypeOf(t);if(!n)return null;var i=r(n.constructor);return i||null},e.getQualifiedClassName=r}(uniLib||(uniLib={}));var __uglobal=__uglobal||this,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib;!function(uniLib){var DeviceUtils=function(){function DeviceUtils(){}return DeviceUtils.vibrate=function(e){void 0===e&&(e=1e3),navigator.vibrate?navigator.vibrate(e):navigator.webkitVibrate&&navigator.webkitVibrate(e)},DeviceUtils.uploadFile=function(file){if("undefined"!=typeof FileReader&&/image/i.test(file.type)){var reader=new FileReader,self=this;reader.onload=function(){var result=document.getElementById("result");result.innerHTML='<img id="photoImg" src="'+this.result+'" alt="" />';var texture=new egret.Texture;null!=egret.BitmapData?texture._setBitmapData(eval("new egret.BitmapData(document.getElementById('photoImg'))")):texture._setBitmapData(document.getElementById("photoImg")),DeviceUtils.srcImg.texture=texture},reader.readAsDataURL(file)}else console.error("抱歉！当前系统不支持此功能！")},DeviceUtils.traverseFiles=function(e){void 0!==e&&0<e.length&&DeviceUtils.uploadFile(e[0])},DeviceUtils.fileUpload=function(e){this.srcImg=e;var t=document.getElementById("files-upload");t.click();var n=this;t.addEventListener("change",function(){n.traverseFiles(this.files)},!1)},DeviceUtils.getMic=function(){},DeviceUtils.getScreen=function(){},DeviceUtils.callPhone=function(e){try{window.open("tel:"+e,"_self")}catch(e){}},DeviceUtils.sendMessage=function(e){try{window.open("sms:"+e,"_self")}catch(e){}},DeviceUtils.getCurUrl=function(){try{return location.href}catch(e){}},DeviceUtils.srcImg=new egret.Bitmap,DeviceUtils.curAngle=Number(window.orientation),DeviceUtils}();uniLib.DeviceUtils=DeviceUtils}(uniLib||(uniLib={})),function(u){var e=function(){function e(){}return e.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},e.createMovieClicp=function(e,t){var n=RES.getRes(e+"_json"),i=RES.getRes(e+"_png"),r=new egret.MovieClipDataFactory(n,i);return new egret.MovieClip(r.generateMovieClipData(t))},e.createMask=function(e,t,n,i){void 0===e&&(e=.3),void 0===i&&(i=0);var r=new egret.Sprite;return r.graphics.clear(),r.graphics.beginFill(i,e),r.graphics.drawRect(0,0,t||u.Global.screenWidth,n||u.Global.screenHeight),r.graphics.endFill(),r},e.createShape=function(e,t,n,i){void 0===e&&(e=.3),void 0===i&&(i=0);var r=new egret.Shape;return r.graphics.clear(),r.graphics.beginFill(i,e),r.graphics.drawRect(0,0,t||u.Global.screenWidth,n||u.Global.screenHeight),r.graphics.endFill(),r},e.createCircle=function(e,t,n){void 0===e&&(e=.3),void 0===n&&(n=0);var i=new egret.Sprite;return i.graphics.clear(),i.graphics.beginFill(n,e),i.graphics.drawCircle(0,0,t),i.graphics.endFill(),i},e.createParticle=function(e){var t,n=RES.getRes(e+"_png"),i=RES.getRes(e+"_json");return particle&&particle.GravityParticleSystem&&(t=new particle.GravityParticleSystem(n,i)),t},e.createDragonBonesDisplay=function(e,t,n,i,r){var o,s=RES.getRes(e);if(n&&null!=n)var a=RES.getRes(t),l=RES.getRes(n);else a=RES.getRes(t+"_json"),l=RES.getRes(t+"_png");if(u.StringUtils.stringIsNullOrEmpty(i)&&(i="armature"),dragonBones)if(egret.Capabilities.engineVersion<"5.0"){var c=new dragonBones.EgretFactory;c.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(s)),c.addTextureAtlas(new dragonBones.EgretTextureAtlas(l,a)),r?(o=c.buildFastArmature(i)).enableAnimationCache(r):o=c.buildArmature(i)}else dragonBones.EgretFactory.factory.parseDragonBonesData(s),dragonBones.EgretFactory.factory.parseTextureAtlasData(a,l),r?(o=c.buildFastArmature(i)).enableAnimationCache(r):o=dragonBones.EgretFactory.factory.buildArmature(i);return o},e.runDragonBonesArmature=function(e,t,n,i){void 0===i&&(i=!0),null!=e?(dragonBones.WorldClock.clock.add(e),i?e.animation.gotoAndPlay(t,0,-1,n,0):e.animation.gotoAndStop(t,0)):u.Console.error("armature不能为空")},e.destoryDragonBonesArmature=function(e,t){null!=e?(dragonBones.WorldClock.clock.remove(e),e.animation.stop(),e.dispose()):u.Console.error("armature不能为空")},e.createTextLabel=function(e,t,n,i,r,o,s,a,l,c,u,d){void 0===e&&(e=0),void 0===t&&(t="left"),void 0===n&&(n="none"),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0),void 0===d&&(d=0);var h=new egret.TextField;return h.textColor=e,h.textAlign=t,h.fontFamily="微软雅黑",h.text=n,h.size=i,0!=r&&(h.width=r),0!=o&&(h.height=o),0!=s&&s!=a&&(h.strokeColor=s,h.stroke=a),h.rotation=u,0!=d&&(h.skewX=d),h.x=l,h.y=c,h},e.removeFromParent=function(e){e&&e.parent&&e.parent.removeChild(e)},e.removeAllChildren=function(e){for(;e&&e.numChildren&&0<e.numChildren;)this.removeFromParent(e.getChildAt(0))},e.catchScreen=function(e,t){var n=new egret.RenderTexture;return n.drawToTexture(e),n.toDataURL("image/png",t||new egret.Rectangle(0,0,e.width,e.height))},e.catchScreenToTex=function(e,t,n){var i=new egret.RenderTexture;return i.drawToTexture(e,t,n),i},e.lightArea=function(e,t){void 0===t&&(t=.8);var n=new egret.DisplayObjectContainer,i=u.DisplayUtils.createShape(t,u.Global.screenWidth,u.Global.screenHeight);n.addChild(i),n.addChild(e),e.blendMode=egret.BlendMode.ERASE;var r=new egret.RenderTexture;r.drawToTexture(n);var o=new egret.Bitmap;return o.texture=r,o},e.playTweenGroup=function(e,t){if(t)for(var n in e.items)e.items[n].props={loop:!0};e.play()},e.stopTweenGroup=function(e){if(e.items)for(var t in e.items)e.items[t].props={loop:!1};e.stop()},e.ticketStarted=!1,e}();u.DisplayUtils=e}(uniLib||(uniLib={})),function(d){var h=function(){function e(){}return e.MovieClip="MovieClip",e.ARMATURE="Armature",e}();d.DragonType=h;var e=function(){function u(){}return u.createFastDragonBones=function(e,t,n,i,r){var o;void 0===n&&(n="armature");var s=RES.getRes(e),a=RES.getRes(t);return s&&a?(0==dragonBones.hasMovieGroup(i)&&dragonBones.addMovieGroup(RES.getRes(e),a,i),o=dragonBones.buildMovie(n,i),r&&o.enableAnimationCache(r),o):null},u.showFastDragon=function(e,t,n,i,r,o,s,a,l){var c;if(void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=h.MovieClip),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),""!=e){if(!(c=u.createFastDragonBones(e+"_ske_dbmv",e+"_tex_png",n,e)))return;return c.x=null==i?d.Global.screenWidth-c.width>>1:i,c.y=null==r?d.Global.screenHeight-c.height>>1:r,null==o&&(o=d.SceneMgr.instance.currentScene?d.SceneMgr.instance.currentScene.effectLayer:egret.MainContext.instance.stage),a&&(c.timeScale=a),o.addChild(c),null==this.fastDragonGroup[e+"_"+o.hashCode]&&(this.fastDragonGroup[e+"_"+o.hashCode]={}),null==this.fastDragonGroup[e+"_"+o.hashCode][t]&&(this.fastDragonGroup[e+"_"+o.hashCode][t]={}),l?(null==this.fastDragonGroup[e+"_"+o.hashCode][t][l]&&(this.fastDragonGroup[e+"_"+o.hashCode][t][l]={}),this.fastDragonGroup[e+"_"+o.hashCode][t][l][c.hashCode]=c,this.fastDragonKeyGroup[l]=this.fastDragonGroup[e+"_"+o.hashCode][t]):this.fastDragonGroup[e+"_"+o.hashCode][t][c.hashCode]=c,c.play(t,s),c}},u.removeFastDragonbyContainer=function(e,t,n){for(var i in this.fastDragonGroup)0<=i.indexOf("_"+e.hashCode)&&(this.removeDragonFromDic(this.fastDragonGroup[i],t,n),t||delete this.fastDragonGroup[i])},u.removeFastDragonByDragonName=function(e,t,n){for(var i in void 0===e&&(e=""),this.fastDragonGroup)0<=i.indexOf(e+"_")&&(this.removeDragonFromDic(this.fastDragonGroup[i],t,n),t||delete this.fastDragonGroup[i])},u.removeFastDragonByKey=function(e){if(this.fastDragonKeyGroup[e]&&this.fastDragonKeyGroup[e][e]){for(var t in this.fastDragonKeyGroup[e][e])this.fastDragonKeyGroup[e][e][t].stop(),d.DisplayUtils.removeFromParent(this.fastDragonKeyGroup[e][e][t]),delete this.fastDragonKeyGroup[e][e][t];delete this.fastDragonKeyGroup[e][e],this.fastDragonKeyGroup[e]=null,delete this.fastDragonKeyGroup[e]}},u.removeDragonFromDic=function(e,t,n){if(t){if(e[t])if(n){if(e[t][n])for(var i in e[t][n])e[t][n][i]&&(e[t][n]instanceof dragonBones.Movie?(e[t][n][i].stop(),d.DisplayUtils.removeFromParent(e[t][n][i]),delete e[t][n][i]):this.removeDragonFromDic(e[t],n))}else{for(var r in e[t])e[t][r]&&(e[t][r]instanceof dragonBones.Movie?(e[t][r].stop(),d.DisplayUtils.removeFromParent(e[t][r]),delete e[t][r]):this.removeDragonFromDic(e[t],r));delete e[t]}}else for(var i in e)this.removeDragonFromDic(e,i)},u.createDragonBonesDisplay=function(e,t,n,i,r){var o,s=RES.getRes(e);if(n&&null!=n)var a=RES.getRes(t),l=RES.getRes(n);else a=RES.getRes(t+"_json"),l=RES.getRes(t+"_png");if(d.StringUtils.stringIsNullOrEmpty(i)&&(i="armature"),dragonBones)if(egret.Capabilities.engineVersion<"5.0"){var c=new dragonBones.EgretFactory;c.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(s)),c.addTextureAtlas(new dragonBones.EgretTextureAtlas(l,a)),r?(o=c.buildFastArmature(i)).enableAnimationCache(r):o=c.buildArmature(i)}else{var u=new dragonBones.EgretFactory;u.parseDragonBonesData(s),u.parseTextureAtlasData(a,l),r?(o=u.buildFastArmature(i)).enableAnimationCache(r):o=u.buildArmature(i)}return o},u.runDragonBonesArmature=function(e,t,n,i){void 0===i&&(i=!0),null!=e?(dragonBones.WorldClock.clock.add(e),i?e.animation.gotoAndPlay(t,0,-1,n,0):e.animation.gotoAndStop(t,0)):d.Console.error("armature不能为空")},u.destoryDragonBonesArmature=function(e,t){null!=e?(dragonBones.WorldClock.clock.remove(e),e.animation&&e.animation.stop(),e.dispose()):d.Console.error("armature不能为空")},u.fastDragonGroup={},u.fastDragonKeyGroup={},u}();d.DragonUtils=e}(uniLib||(uniLib={})),function(i){var e=function(){function e(){}return e.rotationEffect=function(e,t){if(void 0===t&&(t=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[e.hashCode]){null!=this.rotationArr[e.hashCode]&&this.rotationArr[e.hashCode]||(this.rotationArr[e.hashCode]=!0);var n=function(){this.rotationArr[e.hashCode]&&null!=e&&(e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this))};e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this)}},e.removeRotationEffect=function(e){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[e.hashCode]=!1},e.blinkEffect=function(e,t){void 0===t&&(t=1e3),new i.BitmapBlink(e,t)},e.shakeObj=function(e){var t=e.x;egret.Tween.get(e).to({x:e.x-10},80),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},80)},this,160),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},80)},this,240),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},80)},this,320),egret.setTimeout(function(){egret.Tween.get(e).to({x:t},80)},this,400)},e.shakeScreen=function(e,t){void 0===t&&(t=1);var n=e.x,i=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},40),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},40)},this,80),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},40)},this,120),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},40)},this,160),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},40)},this,200)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},40),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},40)},this,80),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},40)},this,120),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},40)},this,160),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},40)},this,200),egret.setTimeout(function(){egret.Tween.get(e).to({x:n,y:i},40)},this,240))},e.showTips=function(e,t,n){switch(void 0===e&&(e=""),void 0===t&&(t=1),void 0===n&&(n=!1),t){case 1:i.TipsUtils.showTipsDownToUp(e,n);break;case 2:i.TipsUtils.showTipsLeftOrRight(e,n,!0);break;case 3:i.TipsUtils.showTipsLeftOrRight(e,n,!1);break;case 4:i.TipsUtils.showTipsFromCenter(e,n);break;case 5:i.TipsUtils.showTipsBigToSmall(e,n)}},e.playEffect=function(e,t){if(void 0===t&&(t=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var n=function(){this.isPlayEffectPlay=!1};egret.Tween.get(e).to({scaleX:.5,scaleY:.5,x:e.x+e.width/4,y:e.y+e.height/4},100,egret.Ease.sineIn).call(function(){1==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.elasticOut).call(n,this):2==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.backOut).call(n,this):3==t&&egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},100).call(n,this)},this)}},e.playScaleEffect=function(e){var t=function(){if(null!=e){e.alpha=1,egret.Tween.get(e).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(function(){e.scaleX=1,e.scaleY=1,egret.Tween.get(e).to({alpha:1},1e3).call(t,self)},self)}};t()},e.flyObj=function(e,t,n){void 0===n&&(n=50);var i=function(){if(null!=e){egret.Tween.get(e).to({y:e.y+n},t).call(function(){egret.Tween.get(e).to({y:e.y-n},t).call(i,this)},this)}};i()},e.rockObj=function(e,t,n){void 0===n&&(n=20);var i=function(){if(null!=e){egret.Tween.get(e).to({rotation:n},t).call(function(){egret.Tween.get(e).to({rotation:-n},t).call(i,this)},this)}};i()},e.typerEffect=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=200);for(var i=t.split(""),r=i.length,o=0;o<r;o++)egret.setTimeout(function(){e.appendText(i[Number(this)])},o,n*o)},e.rotationArr=[],e.isPlayEffectPlay=!1,e}();i.EffectUtils=e}(uniLib||(uniLib={})),function(s){var e=function(){function o(){}return o.dataURLtoBlob=function(e){for(var t,n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=(t=window.atob?atob(n[1]):s.CompressUtil.base64decode(n[1])).length,o=new Uint8Array(r);r--;)o[r]=t.charCodeAt(r);return new Blob([o],{type:i})},o.upLoadFileByUrl=function(e,t,n){var i={uri:e,type:"image/png",name:"upload.png"};this.upLoadFile(i,t,n)},o.upLoadBase64File=function(e,t,n,i){var r=o.dataURLtoBlob(e);this.upLoadFile(r,t,n)},o.upLoadBase64=function(e,t,n,i){var r=new s.HttpRequest(t,t,n);r.open(this.base64FileUploadUrl,null,!0),r.send(e)},o.upLoadFile=function(e,t,n){var i=new FormData;if(e){switch(e.type){case"image/png":i.append("img",e,"image.png");break;case"image/jpg":i.append("img",e,"image.jpg");break;case"audio/amr":i.append("amr",e,"sound.amr")}var r=new s.HttpRequest(t,t,n);r.open(this.fileUploadUrl,null,!0),r.send(i)}},o.fileUploadUrl="http://image.mj.ucjoy.com:8888/form/upload",o.base64FileUploadUrl="http://image.mj.ucjoy.com:8888/upload",o}();s.FileUtils=e}(uniLib||(uniLib={})),function(p){var e=function(){function h(){}return h.checkJsIsExist=function(e,t){if(1==p.Global.isH5)if(t&&null!=t){if(p.hasDefinition(t))return!0}else{document.body.setAttribute("style","");for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++)if(-1<n[i].src.indexOf(e))return!0}return!1},h.isLobbyMode=function(){return"LobbyScene"==egret.getQualifiedClassName(p.SceneMgr.instance.currentScene)},h.LoadGame=function(o,s,a,l,c,u,d){for(var e in void 0===d&&(d=!0),p.ScreenUtils.landscape&&(this.defaultDirect=p.ScreenUtils.landscape),this.lastGameInfo=a,this.lastGameInfo.candestroyGrps=[],RES.configInstance.groupDic)this.lastGameInfo.candestroyGrps.push(e);RES.hasOwnProperty("getVersionController")&&(o=RES.getVersionController().getVirtualUrl(o));var t=function(e){l&&(a.preloadUI=l),a.preloadUIAutoHide=d;var t=h.getGameStage(s,a);if(t){if(p.Global.initOpt&&p.Global.initOpt.lobbyResConfigUrl){h.lobbyResGrps=[];var n=p.ResUtils.getGroupDic();for(var i in n)p.Global.initOpt.lobbyCommonResGrps&&-1==p.Global.initOpt.lobbyCommonResGrps.indexOf(i)&&(RES.destroyRes(i),h.lobbyResGrps.push(i))}if(p.UIMgr.instance.clearOldSceneUis(),l&&(t.preLoadCallBack=function(){1==d&&p.UIMgr.instance.hideLoading(l)}),c?c.call(u,t):p.SoundMgr.instance.stopBgMusic(),0==p.Global.isInGame){p.Global.isInGame=!0,p.SceneMgr.instance.currentScene.addGame(t);try{var r={};r.gameId=a.gameId,r.time=(new Date).getTime(),p.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,JSON.stringify(r))}catch(e){p.Console.error("设置游戏GameId失败")}}}else 0==p.Global.isH5&&egret_native.isFileExists(o)&&egret_native.deleteUpdateFile(o),console.error("找不到游戏主类:"+s),p.UIMgr.instance.hideLoading()};l&&(1==d?p.UIMgr.instance.showProcessBar(l,2,100,"正在加载游戏...","",!1):p.UIMgr.instance.showLoadingParam(l,a.gameId,egret.MainContext.instance.stage)),null==this.lbscene&&(this.lbscene=p.getQualifiedClassName(p.SceneMgr.instance.currentScene)),this.checkJsIsExist(o)?t():(l&&p.UIMgr.instance.showLoadingTimeout(l,"",0),this.LoadGameJs(o,t))},h.gameDownloaded=function(e){try{if(1==p.Global.isH5){if(null==this.gameModleLoadedDic&&(this.gameModleLoadedDic={}),1==this.gameModleLoadedDic[e])return!0}else{null==h.gameModleLoadedDic&&h.initGameLoadedDic(),RES.hasOwnProperty("getVersionController")&&(e=RES.getVersionController().getVirtualUrl(e));var t=e;if(egret_native.isFileExists(t)&&1==h.gameModleLoadedDic[t])return!0}}catch(e){return!1}return!1},h.initGameLoadedDic=function(){if(null==h.gameModleLoadedDic){var e=p.Utils.getLocalStorage("gamemodule_loaded_dic");h.gameModleLoadedDic=e&&""!=e?JSON.parse(e):{}}},h.downloadGame=function(n,i,t,r,o){var e=function(e){p.ResUtils.loadGameGroupReses(n.gameResConfigUrl,function(e){h.initGameLoadedDic();var t=n.gameCodeUrl;RES.hasOwnProperty("getVersionController")&&(t=RES.getVersionController().getVirtualUrl(t)),h.gameModleLoadedDic[t]=!0,p.Utils.setLocalStorage("gamemodule_loaded_dic",JSON.stringify(h.gameModleLoadedDic)),i&&(o?i.call(o,e):i(e))},t,r,o,n.gameResRoot)};p.ScreenUtils.landscape&&(this.defaultDirect=p.ScreenUtils.landscape);var s=n.gameCodeUrl;RES.hasOwnProperty("getVersionController")&&(s=RES.getVersionController().getVirtualUrl(s)),p.UIMgr.instance.clearOldSceneUis(),null==this.lbscene&&(this.lbscene=p.getQualifiedClassName(p.SceneMgr.instance.currentScene)),this.checkJsIsExist(s)?e():this.LoadGameJs(s,e,r,this)},h.LoadLobby=function(e,n,i,t,r,o){null==e&&(e="resource/main.min.js"),RES.hasOwnProperty("getVersionController")&&(e=RES.getVersionController().getVirtualUrl(e)),null==n&&(n="AppMain");var s=function(e){var t=egret.getDefinitionByName(n);t&&p.SceneMgr.instance.changeScene(t,i)};this.checkJsIsExist(e)?s():(t&&p.UIMgr.instance.showLoadingTimeout(t,"",0),this.LoadGameJs(e,s))},h.ExitGame=function(e){var t=this;if(void 0===e&&(e=!0),1==p.Global.lobbyMode){p.Global.gameId=p.Global.lobbyGameId,p.Global.isInGame=!1,p.NetMgr.http=null,p.NetMgr.closeSocket(),e&&(p.SoundMgr.instance.stopSounds(),p.SoundMgr.instance.stopBgMusic()),p.ScreenUtils.landscape&&this.defaultDirect!=p.ScreenUtils.landscape&&(p.ScreenUtils.landscape=!p.ScreenUtils.landscape);var n=function(){t.removeGameJs(),"5.0"<=egret.Capabilities.engineVersion&&dragonBones&&(dragonBones.removeAllMovieGroup(),dragonBones.EgretFactory.factory.clear());try{p.Global.reloadDefine&&0<p.Global.reloadDefine.length&&p.BrowersUtils.LoadJses(p.Global.reloadDefine)}catch(e){console.log("重加载公共资源失败！")}if(p.SceneMgr.instance.currentScene.removeGame)p.SceneMgr.instance.currentScene.removeGame(),p.SceneMgr.instance.currentScene.uiLayer.visible=!0;else{var e=p.getDefinitionByName(t.lbscene);p.SceneMgr.instance.changeScene(e)}p.delDefinitionByName("Cmd"),p.UIMgr.instance.clearOldSceneUis(),p.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),p.Global.dispatchEvent(p.ZqEvent.UPDATE_USER_INFO),p.Global.dispatchEvent(p.ZqEvent.CHECK_VERSION_UPDATE),p.DebugView.Instance.show()};if(this.lastGameInfo&&RES.configInstance.groupDic){var i=[];for(var r in RES.configInstance.groupDic)-1==this.lastGameInfo.candestroyGrps.indexOf(r)&&i.push(r)}if(h.lobbyResGrps&&0<h.lobbyResGrps.length){if(i&&0<i.length){for(var o=0;o<i.length;o++)RES.destroyRes(i[o]),p.ResUtils.removeGroup(i[o]);p.ResUtils.clearResConfigByGroupName(i)}p.ResLoadMgr.instance.loadGrps(h.lobbyResGrps,n)}else n()}},h.reloadGame=function(e,t,n,i,r,o){1==p.Global.lobbyMode&&(p.Global.gameId=p.Global.lobbyGameId,p.Global.isInGame=!1,p.NetMgr.http=null,p.NetMgr.closeSocket(),p.ScreenUtils.landscape&&this.defaultDirect!=p.ScreenUtils.landscape&&(p.ScreenUtils.landscape=!p.ScreenUtils.landscape),p.SoundMgr.instance.stopSounds(),p.SoundMgr.instance.stopBgMusic(),p.SceneMgr.instance.currentScene.removeGame?(p.SceneMgr.instance.currentScene.removeGame(),p.SceneMgr.instance.currentScene.uiLayer.visible=!0):p.SceneMgr.instance.changeScene(p.LobbyScene),p.delDefinitionByName("Cmd"),this.removeGameJs(),p.UIMgr.instance.clearOldSceneUis(),p.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),p.Global.dispatchEvent(p.ZqEvent.UPDATE_USER_INFO),p.Global.dispatchEvent(p.ZqEvent.CHECK_VERSION_UPDATE),this.LoadGame(e,t,n,i,r,o))},Object.defineProperty(h,"lastGame",{get:function(){return 0},enumerable:!0,configurable:!0}),h.LoadGameJs=function(e,t,n,i){p.BrowersUtils.LoadJS("lobbygame",e,t,n,i)},h.getGameStage=function(e,t){var n=egret.getDefinitionByName(e);if(n)return new n(t)},h.removeGameJs=function(){if(1==p.Global.isH5){var e=document.getElementById("lobbygame"),t=document.getElementsByTagName("HEAD").item(0);e&&t.removeChild(e)}},h.egretLoaded=function(){var e=document.getElementById("loading");document.body.removeChild(e)},h}();p.GameModuleUtils=e}(uniLib||(uniLib={})),function(l){var e=function(){function r(){}return r.selectImage=function(e,t){if(l.BrowersUtils.isWechat())this.selectImageWX(e,t);else{this.selectedHandler=e,this.thisRef=t;var n=document.getElementById("fileInput");null==n&&((n=document.createElement("input")).id="fileInput",n.type="file",n.accept="image/*",n.style.height="0px",n.style.display="block",n.style.overflow="hidden",document.body.insertBefore(n,document.body.firstChild),n.addEventListener("change",this.tmpSelectFile,!1)),setTimeout(function(){n.click()},100)}},r.selectImageWX=function(e,t){this.selectedHandler=e,this.thisRef=t,wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var t=e.localIds;this.tmpCreateImage(t[0])}})},r.tmpSelectFile=function(e){var t=e.target.files[0],n=t.type;n||(n=r.mime[t.name.match(/\.([^\.]+)$/i)[1]]);var i=r.myCreateObjectURL(t);r.tmpCreateImage&&r.tmpCreateImage(i,t),document.getElementById("fileInput").value=""},r.tmpCreateImage=function(r,o){var s=this,a=new Image;a.onload=function(){var e=document.createElement("canvas");if(!l.BrowersUtils.isWechat()&&a.height>s.MAX_HEIGHT){a.width*=s.MAX_HEIGHT/a.height,a.height=s.MAX_HEIGHT;var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),e.width=a.width,e.height=a.height,t.drawImage(a,0,0,a.width,a.height);var n=e.toDataURL("image/png")}else n=r;if(a.width=a.height=1,s.selectedHandler){var i=new l.ZQGameObj;i.cmd=l.ZQGameSdk.PICKPHOTO,i.code=0,i.data={},i.data.imgBase64=n,i.data.imgLen=n.length,i.data.file=o,s.selectedHandler.call(s.thisRef,i)}},a.src=r,a.style.visibility="hidden",document.body.appendChild(a)},r.myCreateObjectURL=function(e){return null!=window.URL?window.URL.createObjectURL(e):window.webkitURL.createObjectURL(e)},r.myResolveObjectURL=function(e){null!=window.URL?window.URL.revokeObjectURL(e):window.webkitURL.revokeObjectURL(e)},r.getImageData=function(e,t,n){this.bytesHandler=t,this.thisRef=n;try{var i=new FileReader}catch(e){console.log("no support FileReader")}i.onload=function(){this.bytesHandler&&this.bytesHandler(this.thisRef,this.result)},i.readAsArrayBuffer(e)},r.mime={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",bmp:"image/bmp"},r.MAX_HEIGHT=300,r}();l.H5Upload=e}(uniLib||(uniLib={})),function(e){var t=function(){function e(){}return e.randomInt=function(e,t){if(t-e<=0)return 0;var n=t-e;return Math.floor(Math.random()*n)+e},e.inRange=function(e,t,n){return t<=e&&e<=n},e.div=function(e,t){return Math.floor(e/t)},e.getZeroTimeStamp=function(){var e=new Date,t=e.getUTCFullYear()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCDate();return new Date(t).getTime()/1e3},e.getTimeStamp=function(){var e=(new Date).getTime()/1e3;return parseInt(e.toString())},e.getAngle=function(e,t,n,i){var r=n-e,o=i-t,s=r/Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),a=Math.acos(s),l=180/(Math.PI/a);return o<0?l=-l:0==o&&r<0&&(l=180),l},e.getCurrencyUnitByLen=function(e){var t="";switch(e){case 2:t="百";break;case 3:t="千";break;case 4:t="万";break;case 5:t="十万";break;case 6:t="百万";break;case 7:t="千万";break;case 8:t="亿";break;case 9:t="十亿";break;case 10:t="百亿";break;case 11:t="千亿";break;case 12:t="兆"}return t},e}();e.NumberUtils=t}(uniLib||(uniLib={})),function(f){var e,t=function(){function g(){}return g.resetSoundLoadTimes=function(){for(var e in this._resRequestSoundLoadTimes)this._resRequestSoundLoadTimes[e]=null,delete this._resRequestSoundLoadTimes[e]},g.setMustRes=function(e){try{for(var t in this._mustResList=[],e){var n=e[t];n&&n.resName&&-1==this._mustResList.indexOf(n.resName)&&this._mustResList.push(n.resName)}}catch(e){f.Console.warn("setMustRes:必须资源列表出错,请检查必须资源列表格式")}},g.init=function(){0==this.inited&&(this.inited=!0,RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),"undefined"!=typeof dragonBones&&egret.startTick(this.onDragonBonesTick,egret.MainContext.instance.stage))},g.onDragonBonesTick=function(e){return"undefined"!=typeof dragonBones&&(dragonBones.WorldClock.clock.advanceTime(-1),!0)},g.onItemLoadError=function(e){0<=this._mustResList.indexOf(e.resItem.name)&&f.Utils.restart(e.resItem.name+"资源加载失败,请重新启动游戏","确定")},g.getRes=function(s,i,r,e){var a=this;function o(e){if(a._needLoadDicCallBack[s]){for(;0<a._needLoadDicCallBack[s].length;){var t=a._needLoadDicCallBack[s].shift();t[0].call(t[1],e,s)}delete a._needLoadDicCallBack[s]}else null!=r?i.call(r,e,s):i&&i(e,s);if(-1!=a._loadingDic.indexOf(s)&&(a._asynLoadLevel--,a._loadingDic.splice(a._loadingDic.indexOf(s),1)),0<a._needloadDic.length&&a._asynLoadLevel<a.MAX_LOAD_LEVEL){var n=a._needloadDic.shift();a.getRes(n,o,a)}}function l(e){a._resRequestSoundLoadTimes[s]=0;var t=e.target;t.removeEventListener(egret.Event.COMPLETE,l,a),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,c,a);var n=t.data;i&&i(n,s)}function c(e){var t=e.target;if(t.removeEventListener(egret.Event.COMPLETE,l,a),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,c,a),f.Console.error("加载资源失败："+s),null!=a._resRequestSoundLoadTimes[s]&&0<a._resRequestSoundLoadTimes[s]){a._resRequestSoundLoadTimes[s]--;var n=new egret.URLLoader;n.dataFormat=egret.URLLoaderDataFormat.SOUND,n.once(egret.Event.COMPLETE,l,a),n.once(egret.IOErrorEvent.IO_ERROR,c,a);var i=RES.configInstance.getResourceItem(s),r=RES.getVersionController().getVirtualUrl(i.url),o=new egret.URLRequest(r);n.load(o)}}if(e==egret.URLLoaderDataFormat.SOUND){if(null!=this._resRequestSoundLoadTimes[s])return 0==this._resRequestSoundLoadTimes[s]?void 0:void this._resRequestSoundLoadTimes[s]++;this._resRequestSoundLoadTimes[s]=1;var t=new egret.URLLoader;t.dataFormat=egret.URLLoaderDataFormat.SOUND,t.once(egret.Event.COMPLETE,l,a),t.once(egret.IOErrorEvent.IO_ERROR,c,a);var n=RES.configInstance.getResourceItem(s);if(null!=n){var u=RES.getVersionController().getVirtualUrl(n.url),d=new egret.URLRequest(u);t.load(d)}else f.Console.error("找不到将要加载的资源："+s+"\t"+u)}else if(RES.hasRes(s)){var h=RES.getRes(s);if(h)o(h);else{if(0<=this._loadingDic.indexOf(s)){var p=[i,r];return null==this._needLoadDicCallBack[s]&&(this._needLoadDicCallBack[s]=[]),void this._needLoadDicCallBack[s].push(p)}if(this._asynLoadLevel<this.MAX_LOAD_LEVEL)this._loadingDic.push(s),this._asynLoadLevel++,RES.getResAsync(s,o,this);else{p=[i,r];-1==this._needloadDic.indexOf(s)&&this._needloadDic.push(s),null==this._needLoadDicCallBack[s]&&(this._needLoadDicCallBack[s]=[]),this._needLoadDicCallBack[s].push(p)}}}else RES.getResByUrl(s,o,this)},g.clearResConfigByConfigName=function(e){var t=RES.configInstance;for(var n in t.groupDic){var i=t.groupDic[n];for(var r in i)0<=e.indexOf(r)&&t.keyMap[i[r].name]&&(i[r].name=null,delete i[r].name);t.groupDic[n]=null,delete t.groupDic[n]}},g.clearCfgByConfigName=function(e,t){for(var n=[],i=0;i<t.groups.length;i++)0<=e.indexOf(t.groups[i].name)&&(n=n.concat(t.groups[i].keys.split(",")),t.groups.splice(i,1));for(i=0;i<t.resources.length;i++){var r=t.resources[i];0<=n.indexOf(r.name)&&t.resources.splice(i,1)}return t},g.clearResConfigByGroupName=function(e){for(var t=RES.configInstance,n=0;n<e.length;n++){for(var i=RES.getGroupByName(e[n]),r=0;r<i.length;r++)i[r].loaded=!1,t.keyMap[i[r].name]=null,delete t.keyMap[i[r].name];t.groupDic[e[n]]&&(t.groupDic[e[n]]=null,delete t.groupDic[e[n]])}},g.getBmp=function(e,t,n,i){var r;return void 0===i&&(i=!0),i&&(r=this.resPool.active("bm_"+e)),null==r.texture&&this.getRes(e,function(e){r.texture=e,t&&t.call(n,r)}),r},g.freeBmp=function(e,t){this.resPool.free(e,"bm_"+t)},g.getMovieClip=function(r,o,s,a,e){void 0===e&&(e=!1);var l=0;null==o&&(o="");var c=[r+"_json",r+"_png"];function t(e,t){if(++l!=c.length);else{var n=new egret.MovieClipDataFactory(RES.getRes(r+"_json"),RES.getRes(r+"_png")),i=new egret.MovieClip(n.generateMovieClipData(o));s.call(a,i)}}for(var n in c)this.getRes(c[n],t,this)},g.freeMovieClip=function(e,t,n){},g.getParticle=function(o,e,s,a){var l=0;null==e&&(e="");var c=[o+"_json",o];function t(e,t){if(++l==c.length){var n,i=RES.getRes(o),r=RES.getRes(o+"_json");return n=new particle.GravityParticleSystem(i,r),void s.call(a,n)}}for(var n in c)this.getRes(c[n],t,this)},g.loadResConfig=function(e){},g.loadGameGroupReses=function(n,i,r,o,s,a){void 0===a&&(a="resource/");var l=[],c=this,u=function(e){if(e.groupName==n){c.loadedConfig[n].status=m.LOADED,g.removeGroup(n);for(var t=0;t<p.length;t++){g.getGroupDic(p[t])&&RES.destroyRes(p[t])}c.clearResConfigByGroupName(p),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,u,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,r,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,o,this),i.call(s,e)}},d=function(e){e.groupName==n&&r&&r.call(s,e)},h=function(e){e.groupName==n&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,u,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,r,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,o,this),o&&o.call(s,e))},p=[];null==this.loadedConfig[n]?(this.loadedConfig[n]={},this.loadedConfig[n].status=m.LOADDING,this.getRes(n,function(e){if(e&&e.groups&&0<e.groups.length){for(var t=0;t<e.groups.length;t++)l.push(e.groups[t].name),0==g.isGroupInConfig(e.groups[t].name)&&p.push(e.groups[t].name);f.Global.initOpt.lobbyCommonResGrps&&0<f.Global.initOpt.lobbyCommonResGrps.length&&g.clearCfgByConfigName(f.Global.initOpt.lobbyCommonResGrps,e),RES.hasOwnProperty("parseConfig")&&RES.parseConfig(e,a),RES.destroyRes(n),RES.createGroup(n,l),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,u,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,d,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,h,this),RES.loadGroup(n)}else this.loadedConfig[n]&&(this.loadedConfig[n]=null,delete this.loadedConfig[n]),o&&o.call(s,e)},this)):this.loadedConfig[n].status==m.LOADED&&i.call(s)},g.removeGroup=function(e){var t=g.getGroupDic();t&&(t[e]?(t[e]=null,delete t[e]):t[e]&&(t[e]=null,delete t[e]))},g.isGroupInConfig=function(e){return!!g.getGroupDic(e)},g.getGroupDic=function(e){var t,n=RES.configInstance;return n&&(n.groupDic&&n.groupDic?t=e?n.groupDic[e]:n.groupDic:n.config&&n.config.groups&&(t=e?n.config.groups[e]:n.config.groups)),t},g.getObjFactoryGroup=function(e){return null==this.objfactorys[e]&&(this.objfactorys[e]=new f.ObjectFactoryGroup[e]),this.objfactorys[e]},g.MAX_LOAD_LEVEL=1,g._asynLoadLevel=0,g._loadingDic=[],g._needloadDic=[],g._needLoadDicCallBack={},g._resRequestSoundLoadTimes={},g.resPool=new f.ObjectFactoryGroup(egret.Bitmap),g._mustResList=[],g.inited=!1,g.loadedConfig={},g.objfactorys=[],g}();f.ResUtils=t,(e=f.GROUP_LOAD_STATUS||(f.GROUP_LOAD_STATUS={}))[e.LOADDING=0]="LOADDING",e[e.LOADED=1]="LOADED";var m=f.GROUP_LOAD_STATUS}(uniLib||(uniLib={})),function(r){var e=function(){function t(){}return t.init=function(e){this.scaleMode=e,r.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,r.Global.screenHeight=egret.MainContext.instance.stage.stageHeight,egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.onResizeNotify,this),this.resetScaleMode(),this.scaleFactor=r.Global.screenHeight/r.Global.designHeight,global||egret&&"true"!=r.BrowersUtils.GetRequest("debug")&&(egret.MainContext.instance.stage.addEventListener(egret.Event.DEACTIVATE,t.onDeactive,r.Global),egret.MainContext.instance.stage.addEventListener(egret.Event.ACTIVATE,t.onActive,r.Global))},t.onDeactive=function(e){0!=r.Global.isActive&&(r.Global.isActive=!1,egret.Tween.pauseTweens(egret.MainContext.instance.stage),r.SoundMgr.instance.onDeActive(e))},t.onActive=function(e){1!=r.Global.isActive&&(r.Global.isActive=!0,egret.Tween.resumeTweens(egret.MainContext.instance.stage),r.SoundMgr.instance.onActive(e))},t.onResizeNotify=function(){1==r.Global.isH5?(r.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,r.Global.screenHeight=egret.MainContext.instance.stage.stageHeight):1==this._landscape?(r.Global.screenWidth=egret.MainContext.instance.stage.stageHeight,r.Global.screenHeight=egret.MainContext.instance.stage.stageWidth):(r.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,r.Global.screenHeight=egret.MainContext.instance.stage.stageHeight),this.scaleFactor=r.Global.screenHeight/r.Global.designHeight,r.SceneMgr.instance.currentScene&&r.SceneMgr.instance.currentScene.resize(),r.PopUpMgr.resize(),r.DebugView.Instance.resize()},t.resetScaleMode=function(){this.scaleMode?egret.MainContext.instance.stage.scaleMode=this.scaleMode:egret.Capabilities.isMobile?egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH:egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.SHOW_ALL},Object.defineProperty(t,"landscape",{get:function(){return this._landscape},set:function(e){if(this._landscape=e,1==r.Global.isH5)1==this._landscape?(egret.MainContext.instance.stage.orientation=egret.OrientationMode.LANDSCAPE,egret.MainContext.instance.stage.setContentSize(r.Global.designHeight,r.Global.designWidth)):(egret.MainContext.instance.stage.orientation=egret.OrientationMode.AUTO,egret.MainContext.instance.stage.setContentSize(r.Global.designWidth,r.Global.designHeight));else if(1==this._landscape){var t=0,n=0;if(r.Global.screenWidth<r.Global.screenHeight){t=r.Global.screenWidth/r.Global.designWidth,n=(r.Global.screenHeight-t*r.Global.designHeight)/2;var i=r.Global.screenWidth;r.Global.screenWidth=r.Global.screenHeight,r.Global.screenHeight=i}else t=r.Global.screenHeight/r.Global.designWidth,n=(r.Global.screenWidth-t*r.Global.designHeight)/2;r.SceneMgr.instance.currentScene.x=r.Global.designWidth,r.SceneMgr.instance.currentScene.y=n,r.SceneMgr.instance.currentScene.rotation=90}else{i=r.Global.screenWidth;r.Global.screenWidth=r.Global.screenHeight,r.Global.screenHeight=i,r.SceneMgr.instance.currentScene.rotation=0,r.SceneMgr.instance.currentScene.x=0,r.SceneMgr.instance.currentScene.y=0}this.onResizeNotify()},enumerable:!0,configurable:!0}),t.scaleFactor=1,t}();r.ScreenUtils=e}(uniLib||(uniLib={})),function(p){var e=function(){function e(){}return e.stringIsNullOrEmpty=function(e){return null==e||0==e.length},e.MD5=function(e){return(new md5).hex_md5(e)},e.ltrim=function(e){return e.replace(/(^\s*)/g,"")},e.rtrim=function(e){return e.replace(/(\s*$)/g,"")},e.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},e.sTrim=function(e){return e.replace(/\s/g,"")},e.checkPhone=function(e){return!!/^1[34578]\d{9}$/.test(e)},e.checkEmail=function(e){return!!/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)},e.getPosition=function(e,t,n){void 0===n&&(n=1);for(var i=new RegExp(t,"g");n--;)i.test(e);var r=i.lastIndex-t.length;return r<0?null:r},e.formatCurrency=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=5);isNaN(e)&&(e=0);var r=e+"";null!=t&&"万"==t&&(i?i<5&&(i=5):i=5,r.length>=i?r=r.slice(0,r.length-4):t="");var o=r.split("."),s=!1,a="",l=r;if(2<=o.length&&(s=!0,a=o[1],l=o[0]),1==n){for(var c="",u=l.length,d=Math.ceil(u/3),h=1;h<=d;h++){var p=u-3*h;p<0&&(p=0);var g=u-3*h+3;c=l.substring(p,g)+(1==n?",":"")+c}c=c.substr(0,c.length-1)}else c=l;var f="";return f=s?c+"."+a:""+c,null!=t&&(f+=t),f},e.ip2int=function(e){var t=0;return e=e.split("."),t=256*Number(e[0])*256*256+256*Number(e[1])*256+256*Number(e[2])+Number(e[3]),t>>>=0},e.int2ip=function(e){var t=new Array;return t[0]=e>>>24>>>0,t[1]=e<<8>>>24>>>0,t[2]=e<<16>>>24,t[3]=e<<24>>>24,String(t[0])+"."+String(t[1])+"."+String(t[2])+"."+String(t[3])},e.formatCurrencyToUnit=function(e,t,n){var i;void 0===t&&(t=4),void 0===n&&(n=!0);var r="";t<4&&(t=4);var o=e.toString().split("."),s="";if(2<=o.length&&(!0,o[1]),(s=o[0]).length>t&&(i=s.length-t),t<=i&&(s=s.replace(s.substr(t,s.length),""),r=p.NumberUtils.getCurrencyUnitByLen(i)),4<=s.length&&1==n){for(var a="",l=s.length,c=Math.ceil(l/3),u=1;u<=c;u++){var d=l-3*u;d<0&&(d=0);var h=l-3*u+3;a=s.substring(d,h)+(1==n?",":"")+a}a=a.substr(0,a.length-1)}else a=s;return a+r},e.formatCurrencyByTotalLen=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=8),n<5&&(n=5);isNaN(e)&&(e=0);var i=Number(e)+"",r="";i.length>=n?i.length-4>=n?(i=i.slice(0,i.length-8),r="亿"):(i=i.slice(0,i.length-4),r="万"):r="";var o=i.split("."),s=!1,a="",l=i;if(2<=o.length&&(s=!0,a=o[1],l=o[0]),1==t){for(var c="",u=l.length,d=Math.ceil(u/3),h=1;h<=d;h++){var p=u-3*h;p<0&&(p=0);var g=u-3*h+3;c=l.substring(p,g)+(1==t?",":"")+c}c=c.substr(0,c.length-1)}else c=l;var f="";return f=s?c+"."+a:""+c,null!=r&&(f+=r),f},e.formatCurrencyNomal=function(e){if(0<=e.indexOf("万")&&(e=e.slice(0,e.length-1),e+="0000"),0<=e.indexOf(",")){var t=e.split(",");e="";for(var n=0;n<t.length;n++)e+=t[n]}return e},e.formatMMSS=function(e){var t=Math.floor(e/60)+"",n=e%60+"";return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),t+":"+n},e.formatHHMMSS=function(e,t){void 0===t&&(t=":");var n=Math.floor(e/60/60)+"",i=Math.floor(e/60)-60*parseInt(n)+"",r=e%60+"";return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),n+t+i+t+r},e.formatDDHHMMSS=function(e,t){void 0===t&&(t=":");var n=e,i="",r="",o="",s="";return i=Math.floor(n/60/60/24)+"",0<(n-=24*parseInt(i)*60*60)&&(r=Number(n/60/60)+""),0<(n-=60*parseInt(r)*60)&&(o=Math.floor(n/60)+""),0<(n-=60*parseInt(o))&&(s=e%60+""),i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),s.length<2&&(s="0"+s),"天"==t?i+"天"+r+"时"+o+"分"+s:i+t+r+t+o+t+s},e.getVariables=function(e){for(var t=e.split("="),n={},i=0;i<t.length;)n[t[i]]=t[i+1],i+=2;return n},e.prototype.getStrRealLngth=function(e){var t=e.length,n=0;if(t){for(var i=0;i<t;i++)255<e.charCodeAt(i)?n+=2:n+=1;return n}return 0},e}();p.StringUtils=e}(uniLib||(uniLib={})),function(e){var t=function(){function r(e,t,n,i){void 0===i&&(i=0),this.loopLimit=0,this.last=0,this.jumped=0,this.isStart=!1,this.begin=0,this.maxRandNum=30,this.delay=e,this.callFun=t,this._thisObj=n,this.loopLimit=i}return r.prototype.stop=function(){-1!=r.timerlists.indexOf(this)&&(this.isStart=!1,r.timerlists.splice(r.timerlists.indexOf(this),1))},r.prototype.start=function(e){void 0===e&&(e=30),null==r.timer&&(r.timerNumber=0,(r.timer=new egret.Timer(10)).addEventListener(egret.TimerEvent.TIMER,r.timerHandler,r),r.timer.start()),this.maxRandNum=e,this.isStart=!0,this.current=this.delay,this.last=egret.getTimer(),this.begin=this.last,this.jumped=0,r.timerlists.push(this)},r.prototype.remain=function(){return this.current},r.prototype.needRender=function(){return this.isStart?(this.current=this.current-(egret.getTimer()-this.last),this.last=egret.getTimer(),(this.last-this.begin)/this.delay-this.jumped):0},r.prototype.excute=function(){this.jumped++,0!=this.loopLimit&&this.jumped>this.loopLimit&&this.stop(),this.current=this.delay,this.callFun.call(this._thisObj)},r.timerHandler=function(){for(var e,t=0,n=0,i=0;i<r.timerlists.length;)for(e=r.timerlists[i],i++,(t=e.needRender())>e.maxRandNum&&(t=e.maxRandNum),n=0;n<t;)n++,e.excute()},r.TIMERBASE_DELAY=10,r.timerNumber=0,r.timerlists=[],r}();e.TimerBase=t}(uniLib||(uniLib={})),function(r){var e=function(){function e(){}return e.showTipsDownToUp=function(e,t){var n;void 0===e&&(e=""),void 0===t&&(t=!1),"string"==typeof e?((n=new egret.TextField).size=24,n.textColor=t?r.Global.TextColors.red:r.Global.TextColors.green,n.alpha=0,n.text=e,n.strokeColor=0,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=egret.MainContext.instance.stage.stageHeight/2,n.x=egret.MainContext.instance.stage.stageWidth/2-n.width/2,null!=r.SceneMgr.instance.currentScene&&null!=r.SceneMgr.instance.currentScene.tipsLayer?r.SceneMgr.instance.currentScene.tipsLayer.contains(n)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(n):egret.MainContext.instance.stage.addChild(n);var i=function(){r.DisplayUtils.removeFromParent(n),n=null};n.visible=!0,egret.Tween.get(n).to({y:n.y-120,alpha:1},800,egret.Ease.backOut).wait(2e3).call(function(){egret.Tween.get(n).to({y:n.y-50,alpha:0},500).call(i,this)},this)},e.showTipsLeftOrRight=function(e,t,n){var i;void 0===e&&(e=""),void 0===t&&(t=!1),void 0===n&&(n=!0),"string"==typeof e?((i=new egret.TextField).size=24,i.textColor=t?r.Global.TextColors.red:r.Global.TextColors.green,i.alpha=0,i.text=e,i.strokeColor=0,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER):i=e,i.x=n?-i.width:r.Global.screenWidth,i.y=r.Global.screenHeight/2,r.SceneMgr.instance.currentScene.tipsLayer.contains(i)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(i),n?egret.Tween.get(i).to({x:r.Global.screenWidth/2-i.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(i).to({x:r.Global.screenHeight/2-i.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){n?egret.Tween.get(i).to({x:i.x+100},500):egret.Tween.get(i).to({x:i.x-100},500)},this,300),egret.setTimeout(function(){n?egret.Tween.get(i).to({x:r.Global.screenWidth},300,egret.Ease.sineIn):egret.Tween.get(i).to({x:-i.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){r.SceneMgr.instance.currentScene.tipsLayer.contains(i)&&(r.SceneMgr.instance.currentScene.tipsLayer.removeChild(i),i=null)},this,1100)},e.showTipsFromCenter=function(e,t){var n;void 0===e&&(e=""),void 0===t&&(t=!1),"string"==typeof e?((n=new egret.TextField).size=24,n.textColor=t?r.Global.TextColors.red:r.Global.TextColors.green,n.alpha=0,n.text=e,n.strokeColor=0,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=r.Global.screenHeight/2,n.scaleX=0,n.scaleY=0,n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,n.x=r.Global.screenWidth/2,r.SceneMgr.instance.currentScene.tipsLayer.contains(n)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(n);var i=function(){r.SceneMgr.instance.currentScene.tipsLayer.contains(n)&&(r.SceneMgr.instance.currentScene.tipsLayer.removeChild(n),n=null)};egret.Tween.get(n).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(n).to({alpha:0},500).call(i,this)},this,1e3)},e.showTipsBigToSmall=function(e,t){var n;void 0===e&&(e=""),void 0===t&&(t=!1),"string"==typeof e?((n=new egret.TextField).size=24,n.textColor=t?r.Global.TextColors.red:r.Global.TextColors.green,n.alpha=0,n.text=e,n.strokeColor=0,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=r.Global.screenHeight/2,n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,n.scaleX=4,n.scaleY=4,n.x=r.Global.screenWidth/2,r.SceneMgr.instance.currentScene.tipsLayer.contains(n)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(n);var i=function(){r.SceneMgr.instance.currentScene.tipsLayer.contains(n)&&(r.SceneMgr.instance.currentScene.tipsLayer.removeChild(n),n=null)};egret.Tween.get(n).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(n).to({alpha:0},500).call(i,this)},this,1e3)},e}();r.TipsUtils=e}(uniLib||(uniLib={})),function(i){var r=function(){function e(e,t,n){this.startmsec=0,this.lastmsec=0,this.tick=0,this._stageObj=e,this.tick=n,this.armature=t,this.startmsec=Date.now(),this.lastmsec=this.startmsec,t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),this.timer=i.SetUniTimerTimeout(e,this.advanceTime,n,!1,this)}return e.prototype.advanceTime=function(){var e=Date.now();this.armature.advanceTime(.001*(e-this.lastmsec)),this.lastmsec=e},e.prototype.onComplete=function(){this.stop()},e.prototype.stop=function(){this.timer.stop()},e}();i.UniDragon=r,i.SetUniDragonTimeout=function(e,t,n){return new r(e,t,n)}}(uniLib||(uniLib={})),function(e){var a=function(){function e(e,t,n,i,r){void 0===i&&(i=!1);for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];this.nextmsec=0,this.tick=0,this.params=[],this.callback=t,this._thisObj=r,this._stageObj=e,this.tick=n,this.params=o,this.nextmsec=i?Date.now():Date.now()+this.tick,this.start(!1)}return e.prototype.onEnterFrame=function(e){this.check(Date.now())},e.prototype.onRemoveToStage=function(e){this.stop()},e.prototype.check=function(e,t){return void 0===t&&(t=!1),!!(this.nextmsec<=e||t)&&(this.nextmsec=e+this.tick,(n=this.callback).call.apply(n,[this._thisObj].concat(this.params)),!0);var n},e.prototype.start=function(e){void 0===e&&(e=!0),e&&(this.nextmsec=Date.now()+this.tick),this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.stop=function(e){void 0===e&&(e=!1),e&&this.check(Date.now(),e),this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e}();e.UniTimer=a;var l=function(){function e(e,t,n,i,r){for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];this.nextmsec=0,this.maxtimes=0,this.lefttimes=0,this.tick=0,this.params=[],this.callback=t,this._thisObj=r,this._stageObj=e,this.tick=n,this.params=o,this.maxtimes=i,this.lefttimes=i,this.nextmsec=Date.now()+this.tick,this.start(!1)}return e.prototype.check=function(e,t){return void 0===t&&(t=!1),!!(0<this.lefttimes&&this.nextmsec<=e||t)&&(this.nextmsec=e+this.tick,this.lefttimes=this.lefttimes-1,(n=this.callback).call.apply(n,[this._thisObj].concat(this.params)),this.stop(),!0);var n},e.prototype.onEnterFrame=function(e){this.check(Date.now())},e.prototype.onRemoveToStage=function(e){this.stop()},e.prototype.start=function(e){void 0===e&&(e=!0),e&&(this.nextmsec=Date.now()+this.tick),this.lefttimes=this.maxtimes,this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.stop=function(e){void 0===e&&(e=!1),e&&this.check(Date.now(),e),this.lefttimes=0,this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.resume=function(){this.nextmsec=Date.now()+this.tick,this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.pause=function(){this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e}();e.UniEvent=l,e.SetUniTimerTimeout=function(e,t,n,i,r){void 0===i&&(i=!1);for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];return new(a.bind.apply(a,[void 0].concat([e,t,n,i,r],o)))},e.SetUniEventTimeout=function(e,t,n,i,r){for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];return new(l.bind.apply(l,[void 0].concat([e,t,n,i,r],o)))}}(uniLib||(uniLib={})),function(r){var e=function(){function i(){}return i.setLocalStorage=function(e,t){r.Global.nativeStorage?r.Global.nativeStorage.save({key:e,id:e,rawData:t,expires:null}):window.localStorage?localStorage.setItem(e,t):window.document&&window.document.cookie?r.BrowersUtils.setCookie(e,t):egret&&egret.localStorage.setItem(e,t)},i.getLocalStorage=function(e,t){var n;if(r.Global.nativeStorage)r.Global.nativeStorage.load({key:e,id:e,autoSync:!0,syncInBackground:!0}).then(function(e){t(e)}).catch(function(e){t(null)});else if(window.localStorage){if(null!=(n=localStorage.getItem(e))&&(n=decodeURIComponent(n)),!t)return n;t(n)}else if(window.document&&window.document.cookie){if(null!=(n=r.BrowersUtils.getCookie(e))&&(n=decodeURIComponent(n)),!t)return n;t(n)}else if(egret){if(null!=(n=egret.localStorage.getItem(e))&&(n=decodeURIComponent(n)),!t)return n;t(n)}else{if(!t)return null;t(null)}},i.clearLocalStorage=function(e){try{if(1==r.Global.lobbyMode&&1==r.Global.isInGame)return;e?r.Global.nativeStorage?r.Global.nativeStorage.remove({key:e}):window.localStorage?localStorage.removeItem(e):window.document&&window.document.cookie?r.BrowersUtils.delCookie(e):egret&&egret.localStorage.removeItem(e):r.Global.nativeStorage?r.Global.nativeStorage.clearMap():window.localStorage?localStorage.clear():window.document&&window.document.cookie?r.BrowersUtils.delCookie():egret&&egret.localStorage.clear()}catch(e){}},i.sortJson=function(t){if("object"!=typeof t||null===t)return t;var n=Array.isArray(t)?[]:{};return Object.keys(t).sort().forEach(function(e){n[e]=i.sortJson(t[e])}),n},i.isIOS=function(){return 0==r.Global.isH5&&"iOS"==egret.Capabilities.os},i.isAndroid=function(){return 0==r.Global.isH5&&"Android"==egret.Capabilities.os},i.restart=function(e,t,n){var i=this.isrebooting;(this.isrebooting=!0,1==r.Global.isH5)?1==confirm(e)?""!=r.Global.reLoginUrl?r.BrowersUtils.redirect(r.Global.reLoginUrl):r.BrowersUtils.reload():(this.isrebooting=!1,alert("取消重启")):i||r.Global.dispatchEvent(r.ZqEvent.ON_RESTART,[e,t,n])},i.getCachedPlatInfo=function(e,t,n,i){void 0===n&&(n=0),r.Global.platId=n,r.Global.gameId=t,r.Global.getPlatToken(e,i)},i.getUrlQrCode=function(e,t,n){this.getShortUrl(e,function(e){t("http://qr.liantu.com/api.php?text="+e)})},i.getShortUrl=function(e,t){var n=new r.HttpRequest(function(e){t&&0==e.status&&t(e.tinyurl)});n.open("http://dwz.cn/create.php"),n.send("url="+e)},i.getDistance=function(e,t,n,i){if(90<Math.abs(e)||90<Math.abs(n))return 0;if(180<Math.abs(t)||180<Math.abs(i))return 0;var r=this.rad(e),o=this.rad(n),s=r-o,a=this.rad(t)-this.rad(i),l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(r)*Math.cos(o)*Math.pow(Math.sin(a/2),2)));return l*=this.EARTH_RADIUS,l=Math.round(1e4*l)/1e4},i.rad=function(e){return e*Math.PI/180},i.isrebooting=!1,i.EARTH_RADIUS=6378137,i}();r.Utils=e}(uniLib||(uniLib={})),function(c){var e=function(){};c.Location=e;var t=function(){};c.QQGroupInfo=t;var n=function(){function l(){}return l.init=function(e,t){if(1!=this.isInited){this.isInited=!0;egret.ExternalInterface.addCallback(l.SENDTOJS,function(e){l.onNativeMessage(e)}),e&&(this._callBacks[this.INIT]=[e,t]);var n=new u;n.cmd=l.INIT,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n)),this.wxinit(),c.Global.addEventListener(c.ZqEvent.ON_RESTART,this.onRestart,this),c.Global.isH5&&e&&e.call(t)}},l.onRestart=function(e){var t,n,i,r=e.param;r[0]&&(t=r[0]),r[1]&&(n=r[1]),r[2]&&(i=r[2]),this.restart(t,n,i)},l.onNativeMessage=function(e){var t=JSON.parse(e);if(t.cmd){if(console.error("call func Name:"+t.cmd),t.cmd==this.CALL_STATE&&("callDisconnected"==t.data.callState?this._callState=g.DISCONNECTED:this._callState=g.CONNECTED,setTimeout(function(){c.ZQGameSdk.speakerActive()},2e3)),t.cmd==this.LOCATIONINFO&&0==t.code&&t.data&&(l.location.lng=Number(t.data.longitude),l.location.lat=Number(t.data.latitude),l.location.adcode=t.data.adcode,l.location.city=t.data.city,t.data.type&&(l.location.type=t.data.type)),t.cmd==this.RECORD_STOP&&(t.data&&t.data.voiceDuration?(c.SoundMgr.instance.pauseBgMusic(),c.SoundMgr.instance.soundPause=!0,setTimeout(function(){c.SoundMgr.instance.resumeBgMusic(),c.SoundMgr.instance.soundPause=!1},t.data.voiceDuration)):(c.SoundMgr.instance.resumeBgMusic(),c.SoundMgr.instance.soundPause=!1)),t.cmd==this.INIT&&(c.Global.bundleId=t.data.bundleId,t.data&&(c.Global.zipmd5=t.data.zipmd5,t.data&&t.data.bundleInfo&&this.updateBundleCfg(t.data.bundleInfo))),t.cmd==this.UPDATE_CFG&&0==t.state&&t.data&&t.data.config){c.Global.gameConfig=t.data.config,c.Global.payPlatId=t.data.config.pay_platid,c.Global.platId=t.data.config.platid;var n=JSON.stringify(c.Utils.sortJson(t.data.config));c.Global.configmd5=c.StringUtils.MD5(n),console.error("cfg:"+n)}if(this._callBacks[t.cmd]?this._callBacks[t.cmd][1]&&null!=this._callBacks[t.cmd][1]?this._callBacks[t.cmd][0].call(this._callBacks[t.cmd][1],t):(this._callBacks[t.cmd][0]&&this._callBacks[t.cmd][0](t),c.Global.dispatchEvent(c.ZqEvent.NATIVE_TO_EGERET,t)):c.Global.dispatchEvent(c.ZqEvent.NATIVE_TO_EGERET,t),t.cmd==this.LOGIN)this._callBacks[this.LOGIN]&&(this._callBacks[this.LOGIN]=null,delete this._callBacks[this.LOGIN]);else if(t.cmd==this.NETSTATE)(l.lastNetState=t).data[l.NETSTATE]&&(l.netState=t.data[l.NETSTATE]),l.lastNetState.data&&!l.lastNetState.data[t.cmd]&&(l.lastNetState.data[t.cmd]=0);else if(t.cmd==this.UPDATE_CFG)for(var i in t.data)c.Global.defaultConfig[i]=t.data[i],c.Global.gameConfig[i]=t.data[i]}},l.wxinit=function(e){var t=new u;t.cmd=l.initWX,e&&(t.data={},t.data.wxappid=e),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.Login=function(e,t,n,i){n&&null!=n&&(e&&null!=e&&null==this._callBacks[this.LOGIN]&&(this._callBacks[this.LOGIN]=[e,n]),t&&null!=t&&null==this._callBacks[this.LOGOUT]&&(this._callBacks[this.LOGOUT]=[t,n]));var r={};r.cmd=l.LOGIN,r.code=0,r.data={},"number"==typeof i||"string"==typeof i?(-1==i&&(i=0),i?r.data.platid=i:r.data=null):i&&0==c.Global.isWxGame()?(isNaN(i.platid)?r.data.platid=0:r.data.platid=i.platid,i.payplatid&&(r.data.payplatid=i.payplatid)):c.Global.gameConfig&&0==c.Global.gameConfig.platid?r.data.platid=c.Global.gameConfig.platid:r.data=null;var o=c.BrowersUtils.GetRequest("code");o&&(c.Global.gameConfig&&(c.Global.gameConfig.platid?r.data.platid=c.Global.gameConfig.platid:r.data.platid=0,c.Global.gameConfig.payplatid?r.data.payplatid=c.Global.gameConfig.payplatid:r.data.payplatid=c.Global.gameConfig.platid),c.Global.appId&&(r.data.appid=c.Global.appId),r.data.session=o),null!=r.data&&0==r.data.platid&&e?n?e.call(n,r):e(r):egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.Logout=function(){var e=new u;e.cmd=l.LOGOUT,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.exit=function(){var e=new u;e.cmd=l.EXITGAME,e.data=!0,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.restart=function(e,t,n){n||(c.NetMgr.closeSocket(),c.SoundMgr.instance.stopBgMusic(),c.SoundMgr.instance.stopSounds());var i=new u;i.cmd=l.RESTART;var r={};r.desc=e,r.confirm=t||"确定",r.cancel=n||"",i.data=r,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.update=function(e){var t=new u;t.cmd=l.UPDATE,t.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.hideVk=function(){var e=new u;e.cmd=l.HIDE_VK,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.pay=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.PAY]&&(this._callBacks[this.PAY]=[t,n]);var i=new u;i.cmd=l.PAY,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.payByPmd=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.PAY_PMD]&&(this._callBacks[this.PAY_PMD]=[t,n]);var i=new u;i.cmd=l.PAY_PMD,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.share=function(e,t,n,i){void 0===i&&(i=_.WX),this.wxinit(),t&&null!=t&&t&&null!=t&&(this._callBacks[this.SHARE]=[t,n]),l.defaultWXShareVo&&(e.webpageUrl||(e.webpageUrl=l.defaultWXShareVo.webpageUrl),e.title||(e.title=l.defaultWXShareVo.title),e.description||(e.description=l.defaultWXShareVo.description));var r=new u;r.cmd=l.SHARE,r.data=e,r.type=i,c.Console.log(JSON.stringify(r)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.recordInit=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.RECORD_INIT]&&(this._callBacks[this.RECORD_INIT]=[t,n]);var i=new u;i.cmd=l.RECORD_INIT,i.data=e,c.Console.log(JSON.stringify(i)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.startRecord=function(e,t){if(this.lastRecordTime=(new Date).getTime(),0!=this.canRecord){this.canRecord=!1,c.SoundMgr.instance.pauseBgMusic(),c.SoundMgr.instance.soundPause=!0,e&&null!=e&&e&&null!=e&&null==this._callBacks[this.RECORD_START]&&(this._callBacks[this.RECORD_START]=[e,t]);var n=new u;n.cmd=l.RECORD_START,c.Console.log("startRecord:"+JSON.stringify(n)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))}},l.stopRecord=function(e,t){this.canRecord=!0,e&&null!=e&&e&&null!=e&&(this._callBacks[this.RECORD_STOP]=[e,t]);var n=new u;n.cmd=l.RECORD_STOP,c.Console.log("stopRecord:"+JSON.stringify(n)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n)),c.SoundMgr.instance.resumeBgMusic(),c.SoundMgr.instance.soundPause=!1,this.speakerActive()},l.playRecord=function(e,t,n){t&&null!=t&&t&&null!=t&&(this._callBacks[this.RECORD_PLAY]=[t,n]);var i=new u;i.cmd=l.RECORD_PLAY,i.data=e,c.Console.log("playRecord:"+JSON.stringify(i)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.stopPlayRecord=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.RECORD_PLAY_STOP]&&(this._callBacks[this.RECORD_PLAY_STOP]=[t,n]);var i=new u;i.cmd=l.RECORD_PLAY_STOP,i.data=e,c.Console.log(JSON.stringify(i)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.xfSpeechInit=function(e,t,n,i){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.XF_SPEECH_INIT]&&(this._callBacks[this.XF_SPEECH_INIT]=[t,n]);var r=new u;r.cmd=l.XF_SPEECH_INIT,r.data={},r.data.appId=e,r.data.setParam=i,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.xfUpdateWords=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.XF_WORDS_UP]&&(this._callBacks[this.XF_WORDS_UP]=[t,n]);var i=new u;i.cmd=l.XF_WORDS_UP,i.data={},i.data.words=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.xfUpLoadGrammer=function(){},l.xfSpeechStart=function(e,t,n,i){e&&null!=e&&null==this._callBacks[this.XF_SPEECH_RESULT]&&(this._callBacks[this.XF_SPEECH_RESULT]=[e,n]),t&&null!=t&&t&&null!=t&&null==this._callBacks[this.XF_SPEECH_END]&&(this._callBacks[this.XF_SPEECH_END]=[t,n]);var r=new u;r.cmd=l.XF_SPEECH_START,r.data=i,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.xfSpeechStop=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.XF_SPEECH_START]&&(this._callBacks[this.XF_SPEECH_START]=[e,t]);var n=new u;n.cmd=l.XF_SPEECH_STOP,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.xfSpeechCacel=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.XF_SPEECH_START]&&(this._callBacks[this.XF_SPEECH_START]=[e,t]);var n=new u;n.cmd=l.XF_SPEECH_CACEL,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},Object.defineProperty(l,"landscape",{set:function(e){var t=new u;t.cmd=l.LANDSCAPE,t.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},enumerable:!0,configurable:!0}),l.openWeb=function(e,t,n,i,r,o){void 0===t&&(t=0);var s=new u;s.cmd=l.OPENWEB;var a={};a.webUrl=e,n&&(a.webHeight=n),i&&(a.webWidth=i),r&&(a.webX=r),o&&(a.webY=o),a.model=t||m.AUTO,s.data=a,1==c.Global.isH5?window.open(e):egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(s))},l.prototype.regListenr=function(){},l.nativeCopyStr=function(e){var t=new u;t.cmd=l.NATIVECOPY,t.data={},t.data.copyStr=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.getConfig=function(e,t,n,i){var r=new u;r.cmd=l.GET_CONFIG,r.data={},t&&(r.data.configUrl=t),r.data.desc=e,r.data.confirm=n||"确定",r.data.cancel=i||"",dragonBones&&(dragonBones.removeAllMovieGroup(),dragonBones.WorldClock.clock.clear(),dragonBones.EgretFactory.factory.clear(),dragonBones.EgretFactory.factory.dispose()),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.getNaviveBoard=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.NETSTATE]&&(this._callBacks[this.NETSTATE]=[e,t]);var n=new u;n.cmd=l.GETNATIVEBOARD,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.getNetStateType=function(e,t,n){if(null==this.lastGetNetStateTime)this.lastGetNetStateTime=(new Date).getTime();else if(!n){if((new Date).getTime()-this.lastGetNetStateTime<=500)return;this.lastGetNetStateTime=(new Date).getTime()}e&&null!=e&&e&&null!=e&&null==this._callBacks[this.NETSTATE]&&(this._callBacks[this.NETSTATE]=[e,t]);var i=new u;i.cmd=l.NETSTATE,c.Utils.isIOS()&&c.ZQGameSdk.lastNetState||egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.joinQQGroup=function(e){var t=new u;t.data=e,t.cmd=l.JOIN_QQ_GROUP,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.getCallStatus=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.CALL_STATE]&&(this._callBacks[this.CALL_STATE]=[e,t]);var n=new u;return n.cmd=l.CALL_STATE,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n)),this._callState},l.getBatteryPer=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.BATTERY]&&(this._callBacks[this.BATTERY]=[e,t]);var n=new u;n.cmd=l.BATTERY,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.setAutoRotate=function(e){void 0===e&&(e=!1);var t=new u;t.cmd=l.AUTO_ROTATE,t.data={},t.data.type="set",t.data.autoRotate=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.getAutoRotate=function(e,t){e&&null!=e&&(this._callBacks[this.AUTO_ROTATE]=[e,t]);var n=new u;n.cmd=l.AUTO_ROTATE,n.data={},n.data.type="get",egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.localPush=function(e,t,n){void 0===n&&(n=0);var i=new u;i.cmd=l.LOCALPUSH,i.data={},i.data.pushTitle=e,i.data.pushMessage=t,i.data.pushTime=n.toString(),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.vibrate=function(e){var t=new u;t.cmd=l.VIBRATE,t.data={},t.data.delayTime=e.toString(),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.getNativeWH=function(e,t){if(e&&null!=e&&null==this._callBacks[this.NATIVE_WIDTH_HEIGHT]&&(this._callBacks[this.NATIVE_WIDTH_HEIGHT]=[e,t]),1==c.Global.isH5){var n=new u;n.cmd=this.NATIVE_WIDTH_HEIGHT,n.code=0,n.data={},n.data.width=c.Global.screenWidth,n.data.height=c.Global.screenHeight,e.call(t,n)}else{var i=new u;i.cmd=l.NATIVE_WIDTH_HEIGHT,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))}},l.speakerActive=function(){var e=new u;e.cmd=l.SPEAKERACTIVE,e.data={},egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.getLocation=function(e,t,n){void 0===n&&(n=!1),e&&null!=e&&(this._callBacks[this.LOCATIONINFO]=[e,t]);var i=new u;return i.cmd=l.LOCATIONINFO,i.data={},i.data.force=n,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i)),l.location},l.updateZip=function(e,t,n){t&&null!=t&&null==this._callBacks[this.UPDATE_ZIP]&&(this._callBacks[this.UPDATE_ZIP]=[t,n]);var i=new u;i.cmd=l.UPDATE_ZIP,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.pickPhoto=function(e,t){if(e&&null!=e&&e&&null!=e&&null==this._callBacks[this.PICKPHOTO]&&(this._callBacks[this.PICKPHOTO]=[e,t]),c.Global.isH5)c.H5Upload.selectImage(e,t);else{var n=new u;n.cmd=l.PICKPHOTO,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))}},l.updateApk=function(e,t,n){t&&null!=t&&null==this._callBacks[this.UPDATE_APK]&&(this._callBacks[this.UPDATE_APK]=[t,n]);var i=new u;i.cmd=l.UPDATE_APK,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.updateCfg=function(e){this.updateBundleCfg(e);var t=new u;t.cmd=l.UPDATE_CFG,t.data={},t.data.state=h.UPDATE,t.data.config=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.updateBundleCfg=function(e){c.Global.gameConfig=c.Utils.sortJson(e),c.Global.is_sandbox=c.Global.gameConfig.is_sandbox;var t=JSON.stringify(c.Global.gameConfig);console.error("cfg:"+t),c.Global.configmd5=c.StringUtils.MD5(t),c.Global.payPlatId=c.Global.gameConfig.pay_platid,c.Global.platId=c.Global.gameConfig.platid},l.pullCfg=function(e,t){e&&null!=e&&null==this._callBacks[this.UPDATE_CFG]&&(this._callBacks[this.UPDATE_CFG]=[e,t]);var n=new u;n.cmd=l.UPDATE_CFG,n.data={},n.data.state=h.DOWN,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.SENDTONATIVE="sendToNative",l.SENDTOJS="sendToJs",l.INIT="init",l.INIT_APP_BUNDLE_INFO="init_app_bundle_info",l.LOGIN="login",l.initWX="initWX",l.LOGOUT="logout",l.PAY="pay",l.PAY_PMD="pay_pmd",l.SHARE="share",l.XF_SPEECH_TYPE_ISA="isa",l.XF_SPEECH_TYPE_ASR="asr",l.LANDSCAPE="landscape",l.RECORD_INIT="recordInit",l.RECORD_START="recordStart",l.RECORD_STOP="recordStop",l.RECORD_PLAY="recordPlay",l.RECORD_PLAY_STOP="recordPlayStop",l.XF_SPEECH_INIT="xfSpeechInit",l.XF_SPEECH_START="xfSpeechStart",l.XF_SPEECH_RESULT="xfSpeechResult",l.XF_SPEECH_VOL="xfSpeechVol",l.XF_SPEECH_STOP="xfSpeechStop",l.XF_SPEECH_CACEL="xfSpeechCacel",l.XF_SPEECH_END="xfSpeechEnd",l.XF_WORDS_UP="xfWordsUp",l.XF_ABN_START="xfABNStart",l.CALL_STATE="callState",l.JOIN_QQ_GROUP="QQGroupInfo",l.HOT_UPDATE="hotUpdate",l.PICKPHOTO="pickPhoto",l.REDIRECT_INFO="redirect_info",l.EXITGAME="exitGame",l.RESTART="restart",l.OPENEXIT="openExit",l.OPENWEB="openWeb",l.NATIVECOPY="nativeCopy",l.GETNATIVEBOARD="getNativeBoard",l.NETSTATE="netState",l.AUTO_ROTATE="auto_rotate",l.netState=0,l.BATTERY="battery",l.LOCALPUSH="localPush",l.VIBRATE="vibrate",l.SPEAKERACTIVE="speakerActive",l.UPDATE="update",l.KEYDOWN="keydown",l.LOCATIONINFO="locationInfo",l.UPDATE_ZIP="updateZip",l.UPDATE_APK="updateApk",l.UPDATE_CFG="updateCfg",l.GET_CONFIG="getConfig",l.HIDE_VK="hide_vk",l.NATIVE_WIDTH_HEIGHT="native_width_height",l._callBacks={},l.location=new e,l.isInited=!1,l._callState=0,l.lastRecordTime=0,l.canRecord=!0,l}();c.ZQGameSdk=n;var u=function(){};c.ZQGameObj=u;var i=function(){};c.ZipJson=i;var r=function(){};c.ApkJson=r;var o,s=function(){};c.XFSetParam=s,(o=c.GRAMMARTYPE||(c.GRAMMARTYPE={}))[o.ONLINE=0]="ONLINE",o[o.OFFLINE=1]="OFFLINE";var a;c.GRAMMARTYPE;(a=c.SPEECHTYPE||(c.SPEECHTYPE={}))[a.SPEECH=0]="SPEECH",a[a.GRAMMAR=1]="GRAMMAR";var l;c.SPEECHTYPE;(l=c.CONFIG_STATE||(c.CONFIG_STATE={}))[l.UPDATE=0]="UPDATE",l[l.DOWN=1]="DOWN";var d,h=c.CONFIG_STATE;(d=c.CallState||(c.CallState={}))[d.DISCONNECTED=0]="DISCONNECTED",d[d.CONNECTED=1]="CONNECTED";var p,g=c.CallState;(p=c.WEBMODEL||(c.WEBMODEL={}))[p.AUTO=0]="AUTO",p[p.EXPLORER=1]="EXPLORER",p[p.LAND=2]="LAND";var f,m=c.WEBMODEL;(f=c.SHARE_PLAT||(c.SHARE_PLAT={}))[f.WX=0]="WX",f[f.WJ=1]="WJ";var _=c.SHARE_PLAT}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(n){var e=function(t){function e(e){void 0===e&&(e="assets"),t.call(this),this.w=0,this.h=0,this.assets=RES.getRes(e),this.w=n.Global.screenWidth,this.h=n.Global.screenHeight,this.initPanel()}return __extends(e,t),e.prototype.initPanel=function(){},e.prototype.initData=function(){},e.prototype.onEnter=function(){},e.prototype.onExit=function(){},e.prototype.closePanel=function(){n.PopUpMgr.removePopUp(this)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e}(egret.DisplayObjectContainer);n.BasePanel=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(n){var e=function(e){function t(){e.call(this);this.skinName='<?xml version=\'1.0\' encoding=\'utf-8\' ?>\n            <e:Skin width="340" height="70" xmlns:e="http://ns.egret.com/eui"><e:Rect right="0" left="0" top="0" bottom="0" fillColor="0x3B2C2C"/>\n            <e:EditableText id="str_input" width="218" height="37" x="12" y="17" text="说点什么吧" verticalAlign="middle" />\n                    <e:Button id="btn_send" label="发送" x="235" y="10" />\n                        <e:List height="266" width="335" x="2" y="-269" />\n                            </e:Skin>'}return __extends(t,e),t.prototype.childrenCreated=function(){this.btn_send.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTuch,this),this.str_input.prompt="说点什么吧"},t.prototype.onTuch=function(e){n.NetMgr.sendChat(this.str_input.text)},t}(eui.Component);n.GMView=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(n){var e=function(t){function e(e){t.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.tipsLayer=new egret.DisplayObjectContainer,this.thmLoaded=!1,this.resLoaded=!1,e&&(this._gameInfo=e),n.SceneMgr.instance.init(this),this.initBaseLayers(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}return __extends(e,t),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.onAddToStage=function(e){void 0===e&&(e=null),this._gameInfo?this.preLoadAndInit():this.start(e)},e.prototype.preLoadAndInit=function(){this._gameInfo.gameTheme&&""!=this._gameInfo.gameTheme?new eui.Theme(this._gameInfo.gameTheme,this.stage).addEventListener(eui.UIEvent.COMPLETE,this.loadedthm,this):this.thmLoaded=!0;console.error("preLoadAndInit"),RES.destroyRes(this._gameInfo.gameResConfigUrl),RES.getResByUrl(this._gameInfo.gameResConfigUrl,this.loadedCfg,this)},e.prototype.loadedthm=function(e){this.thmLoaded=!0,this.cfgComplete()},e.prototype.loadedCfg=function(e){e&&e.groups?(n.GameModuleUtils.loadGameTimeOut&&egret.clearTimeout(n.GameModuleUtils.loadGameTimeOut),this.resLoaded=!0,n.Global.initOpt.lobbyCommonResGrps&&0<n.Global.initOpt.lobbyCommonResGrps.length&&n.ResUtils.clearCfgByConfigName(n.Global.initOpt.lobbyCommonResGrps,e),RES.hasOwnProperty("parseConfig")&&RES.parseConfig(e,this._gameInfo.gameResRoot),RES.destroyRes(this._gameInfo.gameResConfigUrl),this.cfgComplete()):console.error("游戏config加载失败:"+this._gameInfo.gameResConfigUrl)},e.prototype.start=function(e){void 0===e&&(e=null)},e.prototype.cfgComplete=function(){1==this.thmLoaded&&1==this.resLoaded&&(this._gameInfo.preLoad&&""!=this._gameInfo.preLoad?n.ResLoadMgr.instance.load(this._gameInfo.preLoad,this.onResComplete,this.onResError,this,this._gameInfo.preloadUI):(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack()))},e.prototype.onResComplete=function(e){e.groupName==this._gameInfo.preLoad&&(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack())},e.prototype.preLoadEnd=function(){},e.prototype.resize=function(){},e.prototype.destroy=function(){},e.prototype.onResError=function(e){console.warn("Group:"+e.groupName+" has failed to load")},e.prototype.backToLobby=function(){"LobbyScene"==egret.getQualifiedSuperclassName(n.SceneMgr.instance.currentScene)&&n.SceneMgr.instance.currentScene.removeGame()},e}(egret.DisplayObjectContainer);n.GameDoc=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(e){var t=function(t){function e(e){t.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.tipsLayer=new egret.DisplayObjectContainer,this.initBaseLayers(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.start,this)}return __extends(e,t),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.effectLayer),this.addChild(this.topLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.start=function(e){void 0===e&&(e=null)},e.prototype.resize=function(){},e.prototype.destroy=function(){},e}(egret.DisplayObjectContainer);e.GameScene=t}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(n){var e=function(t){function e(e){t.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.tipsLayer=new egret.DisplayObjectContainer,this.gameLayer=new egret.DisplayObjectContainer,n.SceneMgr.instance.init(this),this.initBaseLayers(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.start,this)}return __extends(e,t),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.start=function(e){void 0===e&&(e=null)},e.prototype.resize=function(){},e.prototype.destroy=function(){},e.prototype.addGame=function(e){this.currentGame=e,null==this._bgMask&&(this._bgMask=new egret.Sprite,this._bgMask.graphics.clear(),this._bgMask.graphics.beginFill(0,0),this._bgMask.graphics.drawRect(0,0,n.Global.screenWidth,n.Global.screenHeight),this._bgMask.graphics.endFill(),this._bgMask.width=n.Global.screenWidth,this._bgMask.height=n.Global.screenHeight,this._bgMask.touchEnabled=!0,this._bgMask.visible=!0),this.gameLayer.addChild(this._bgMask),this.gameLayer.addChild(e),this.addChildAt(this.gameLayer,1)},e.prototype.removeGame=function(e){void 0===e&&(e=null);var t=n.SceneMgr.instance.currentScene.currentGame;t&&(t.parent&&t.parent.removeChild(t),t.destroy(),t=null),n.DisplayUtils.removeFromParent(this.gameLayer),this.gameLayer.removeChildren(),this.currentGame=null},e}(egret.DisplayObjectContainer);n.LobbyScene=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},uniLib;!function(n){var e=function(e){function t(){e.call(this),this.init(),this.socketStatus.text="connecting",n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.SENDANDRECEIVE,this.updataSendAndReceive,this),n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.PING,this.updataPing,this),n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.SOCKETSTATUS,this.updataSocketStatus,this),n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.SENDEDANDRECEIVED,this.updataSendedAndReceived,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),n.StatistcsMgr.instance.init()}return __extends(t,e),t.prototype.updataSendAndReceive=function(e){var t=e.data;this.sendB.text=t.send+"B/s",this.recevieB.text=t.receive+"B/s"},t.prototype.updataPing=function(e){this.ping.text=e.data+"ms"},t.prototype.updataSocketStatus=function(e){this.socketStatus.text=e.data},t.prototype.updataSendedAndReceived=function(e){this.sendKb.text=e.data.sended.toFixed(2)+"kb",this.recevieKb.text=e.data.received.toFixed(2)+"kb"},t.prototype.init=function(){this.createTextField("Ping"),this.ping=this.createTextFieldX(),this.createTextField("Status"),this.socketStatus=this.createTextFieldX(),this.createTextField("send"),this.sendB=this.createTextFieldX(),this.createTextField("receive"),this.recevieB=this.createTextFieldX(),this.createTextField("sended"),this.sendKb=this.createTextFieldX(),this.createTextField("recevied"),this.recevieKb=this.createTextFieldX()},t.prototype.createTextField=function(e){var t=new egret.TextField;return t.text=e,t.y=this.height+5,t.fontFamily="微软雅黑",t.size=18,this.addChild(t),t},t.prototype.createTextFieldX=function(){var e=new egret.TextField;return e.x=150,e.y=this.height-13,e.fontFamily="微软雅黑",e.size=18,this.addChild(e),e},t.prototype.destroy=function(){n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.SENDANDRECEIVE,this.updataSendAndReceive,this),n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.PING,this.updataPing,this),n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.SOCKETSTATUS,this.updataSocketStatus,this),n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.SENDEDANDRECEIVED,this.updataSendedAndReceived,this),n.StatistcsMgr.instance.destroy()},t}(egret.DisplayObjectContainer);n.StatistcsView=e}(uniLib||(uniLib={}));